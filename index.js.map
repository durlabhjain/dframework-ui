{"version":3,"file":"index.js","sources":["../src/lib/components/SnackBar/index.js","../src/lib/components/Dialog/index.js","../src/lib/components/useRouter/actions.js","../src/lib/components/Grid/httpRequest.js","../src/lib/components/Grid/crud-helper.js","../src/lib/components/Grid/footer.js","../src/lib/components/Grid/template.js","../src/lib/components/Typography/index.js","../src/lib/components/useMobile.js","../src/lib/components/useRouter/stateReducer.js","../src/lib/components/useRouter/initialState.js","../src/lib/components/mui/locale/data-grid/daDK.js","../src/lib/components/mui/locale/data-grid/deDE.js","../src/lib/components/mui/locale/data-grid/elGR.js","../src/lib/components/mui/locale/data-grid/esES.js","../src/lib/components/mui/locale/data-grid/frFR.js","../src/lib/components/mui/locale/data-grid/itIT.js","../src/lib/components/mui/locale/data-grid/trTR.js","../src/lib/components/mui/locale/data-grid/ptPT.js","../src/lib/components/mui/locale/data-grid/enUS.js","../src/lib/components/mui/locale/localization.js","../src/lib/components/useRouter/StateProvider.js","../src/lib/components/HelpModal/index.js","../src/lib/components/PageTitle/index.js","../src/lib/components/utils.js","../src/lib/components/Grid/LocalizedDatePicker.js","../src/lib/components/Grid/CustomDropdownMenu.js","../src/lib/components/Grid/GridPreference.js","../src/lib/components/Grid/helper.js","../src/lib/components/Grid/ToolbarFilter.js","../src/lib/components/Grid/CustomToolbar.js","../src/lib/components/Grid/index.js","../src/lib/components/Form/fields/boolean.js","../src/lib/components/Form/fields/string.js","../src/lib/hooks/useDebounce.js","../src/lib/components/Form/fields/number.js","../src/lib/components/Form/fields/password.js","../src/lib/components/Form/fields/date.js","../src/lib/components/Form/fields/dateTime.js","../src/lib/components/Form/fields/time.js","../src/lib/hooks/useCascadingLookup.js","../src/lib/components/Form/fields/select.js","../src/lib/components/Form/fields/grid-transfer.js","../src/lib/components/Form/fields/radio.js","../src/lib/components/Form/fields/autocomplete.js","../src/lib/components/Form/fields/CustomRenderCell.js","../src/lib/components/Form/fields/dayRadio.js","../src/lib/components/Form/fields/chipInput.js","../src/lib/components/Form/fields/treeCheckBox.js","../src/lib/components/Form/fields/fileUpload.js","../src/lib/components/Form/fields/jsonInput.js","../src/lib/components/Form/field-mapper.js","../src/lib/components/Form/relations.js","../src/lib/components/Form/Form.js","../src/lib/components/Grid/ui-models.js"],"sourcesContent":["import React, { useState, useContext, createContext } from 'react'\nimport Snackbar from '@mui/material/Snackbar'\nimport MuiAlert from '@mui/material/Alert';\n\nconst SnackbarContext = createContext(null);\nconst vertical = 'bottom';\nconst horizontal = 'center';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\nconst SnackbarProvider = ({ children }) => {\n    const [message, setMessage] = useState(null);\n    const [open, setOpen] = useState(false);\n    const [severity, setSeverity] = useState(null);\n    const [handleAction, setHandleAction] = useState(null);\n\n    const showMessage = function (title, message, severity = \"info\", onAction) {\n        if (typeof title !== 'string') {\n            title = title.toString();\n        }\n        if (message && typeof message !== 'string') {\n            message = message.toString();\n        }\n        setMessage(message ? `${title}: ${message}` : title);\n        setSeverity(severity);\n        setOpen(true);\n        setHandleAction(onAction);\n    }\n\n    const showError = function (title, message, severity = \"error\", onAction) {\n        showMessage(title, message, severity, onAction);\n    }\n\n    const handleClose = function () {\n        setOpen(false);\n        setHandleAction(null);\n        if (handleAction) {\n            handleAction()\n        }\n    }\n    return (\n        <>\n            <SnackbarContext.Provider\n                value={{ showMessage, showError }}\n            >\n                {children}\n            </SnackbarContext.Provider>\n            <Snackbar open={open} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{ vertical, horizontal }}>\n                <Alert severity={severity}>{message}</Alert>\n            </Snackbar>\n        </>\n    )\n}\nconst useSnackbar = function () {\n    return useContext(SnackbarContext)\n}\n\nexport { SnackbarProvider, SnackbarContext, useSnackbar }","import React from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\n/**\n * DialogComponent is a reusable dialog/modal component based on Material-UI's Dialog.\n *\n * @param {Object} props - The props for the DialogComponent.\n * @param {boolean} props.open - Controls whether the dialog is open.\n * @param {function} props.onConfirm - Callback fired when the confirm/ok button is clicked.\n * @param {string} [props.title=\"Confirm\"] - The title of the dialog.\n * @param {function} props.onCancel - Callback fired when the cancel button or dialog close is triggered.\n * @param {string} [props.okText] - Custom text for the confirm/ok button.\n * @param {string} [props.cancelText] - Custom text for the cancel button.\n * @param {boolean} [props.yesNo=false] - If true, uses \"Yes\"/\"No\" for button texts instead of \"Ok\"/\"Cancel\".\n * @param {React.ReactNode} props.children - The content of the dialog.\n * @param {string} [props.maxWidth='sm'] - The maxWidth of the dialog (xs, sm, md, lg, xl).\n * @param {boolean} [props.fullWidth=true] - If true, the dialog stretches to the full width of its container.\n * @param {Object} [props.props] - Additional props passed to the MUI Dialog component.\n * @returns {JSX.Element} The rendered Dialog component.\n */\n\nconst DialogComponent = ({ open, onConfirm, title = \"Confirm\", onCancel, okText, cancelText, yesNo = false, children, maxWidth = 'sm', fullWidth = true, ...props }) => {\n    okText = okText || (yesNo ? 'Yes' : 'Ok');\n    cancelText = cancelText || (yesNo ? 'No' : 'Cancel');\n    return (\n        <Dialog\n            {...props}\n            open={open}\n            onClose={onCancel}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            maxWidth={maxWidth}\n            fullWidth={fullWidth}\n        >\n            <DialogTitle id=\"alert-dialog-title\" sx={{ fontSize: children ? 'inherit' : '1.25rem' }} >\n                {title}\n            </DialogTitle>\n            {children && (\n                <DialogContent dividers>\n                    <DialogContentText>{children}</DialogContentText>\n                </DialogContent>\n            )}\n            {(onCancel || onConfirm) && (\n                < DialogActions >\n                    {onCancel && <Button onClick={onCancel}>{cancelText}</Button>}\n                    {onConfirm && <Button onClick={onConfirm} autoFocus>{okText}</Button>}\n                </DialogActions>\n            )}\n        </Dialog >\n    )\n}\nexport { DialogComponent }\n","const actionsStateProvider = {\n    UPDATE_FORM_MODE:'UPDATE_FORM_MODE',\n    UPDATE_DATE_TIME:'UPDATE_DATE_TIME',\n    UPDATE_LOCALIZATION: 'UPDATE_LOCALIZATION',\n    PAGE_TITLE_DETAILS:'PAGE_TITLE_DETAILS',\n    OPEN_MODAL:'OPEN_MODAL',\n    SET_PAGE_BACK_BUTTON:'SET_PAGE_BACK_BUTTON',\n    SET_GRID_SETTINGS:'SET_GRID_SETTINGS',\n    SET_LOCAL_LOCALIZATION:'SET_LOCAL_LOCALIZATION',\n    USER_DATA:'USER_DATA',\n    UDPATE_PREFERENCES: 'UDPATE_PREFERENCES',\n    TOTAL_PREFERENCES: 'TOTAL_PREFERENCES',\n    SET_CURRENT_PREFERENCE_NAME: 'SET_CURRENT_PREFERENCE_NAME',\n    UPDATE_LOADER_STATE: 'UPDATE_LOADER_STATE',\n    PASS_FILTERS_TO_HEADER: 'PASS_FILTERS_TO_HEADER',\n    SET_TIMEZONE: 'SET_TIMEZONE'\n  };\n  export default actionsStateProvider;","import actionsStateProvider from '../useRouter/actions';\nlet pendingRequests = 0;\n\nconst HTTP_STATUS_CODES = {\n    OK: 200,\n    SESSION_EXPIRED: 401,\n    FORBIDDEN: 403,\n    NOT_FOUND: 404,\n    INTERNAL_SERVER_ERROR: 500\n};\n\nconst getFormData = (props) => {\n    const formData = new FormData();\n    for (const key in props) {\n        if (typeof props[key] === \"object\") {\n            formData.append(key, JSON.stringify(props[key]));\n        } else {\n            formData.append(key, props[key]);\n        }\n    }\n    return formData;\n};\n\nconst exportRequest = (url, query) => {\n    const newURL = new URL(url);\n    for (const key in query) {\n        const value = typeof query[key] === 'object' ? JSON.stringify(query[key]) : query[key];\n        newURL.searchParams.append(key, value);\n    }\n    window.open(newURL, '_blank').focus();\n};\n\nconst transport = async (config) => {\n    const {\n        method = 'GET',\n        url,\n        data,\n        headers = {},\n        credentials = 'include',\n        ...rest\n    } = config;\n\n    const fetchOptions = {\n        method,\n        credentials,\n        headers: {\n            ...headers\n        },\n        ...rest\n    };\n\n    if (data) {\n        if (headers['Content-Type'] === 'multipart/form-data') {\n            delete fetchOptions.headers['Content-Type']; // Let browser set it\n            fetchOptions.body = data instanceof FormData ? data : getFormData(data);\n        } else {\n            fetchOptions.headers['Content-Type'] = headers['Content-Type'] || 'application/json';\n            fetchOptions.body = typeof data === 'string' ? data : JSON.stringify(data);\n        }\n    }\n\n    const response = await fetch(url, fetchOptions);\n    const contentType = response.headers.get('content-type') || {};\n    const responseObj = {\n        status: response.status,\n        data: contentType.includes('application/json') ? await response.json() : await response.text(),\n        headers: Object.fromEntries(response.headers.entries())\n    };\n\n    return responseObj;\n};\n\n/**\n * Default data parsers for different response types\n * Use these to normalize API responses to a consistent type\n */\nconst DATA_PARSERS = Object.freeze({\n    /**\n     * Parse JSON string or return object as-is\n     * Automatically handles string JSON responses\n     */\n    json: (data) => {\n        if (typeof data === 'string') {\n            return JSON.parse(data);\n        }\n        return data;\n    },\n    /**\n     * Convert to string\n     */\n    text: (data) => String(data),\n    /**\n     * Return data as-is without parsing\n     */\n    raw: (data) => data\n});\n\n/**\n * Enhanced HTTP request handler with automatic data parsing\n * \n * @param {Object} config - Request configuration\n * @param {string} config.url - API endpoint URL\n * @param {Object} config.params - Request parameters\n * @param {Function} config.history - Navigation function for redirects\n * @param {boolean} config.jsonPayload - Whether to send JSON payload instead of FormData\n * @param {Object} config.additionalParams - Additional fetch parameters\n * @param {Object} config.additionalHeaders - Additional request headers\n * @param {boolean} config.disableLoader - Whether to disable the loading indicator\n * @param {Function} config.dispatchData - Redux dispatch function\n * @param {Function} config.dataParser - Parser function to normalize response data (default: DATA_PARSERS.raw)\n * @param {Function} config.onParseError - Custom error handler for parse failures\n * \n * @returns {Promise<any>} Parsed response data or error object\n * \n * @example\n * // Basic usage with automatic JSON parsing\n * const data = await request({ \n *   url: '/api/data', \n *   params: { id: 1 },\n *   dispatchData \n * });\n * \n * @example\n * // With custom error handling\n * const data = await request({ \n *   url: '/api/data',\n *   params: { id: 1 },\n *   dispatchData,\n *   onParseError: (error, rawData) => {\n *     console.error('Parse failed:', error);\n *     return { error: true, message: 'Custom error message' };\n *   }\n * });\n * \n * @example\n * // Using text parser\n * const text = await request({ \n *   url: '/api/text', \n *   params: {},\n *   dispatchData,\n *   dataParser: DATA_PARSERS.text\n * });\n */\n\nconst request = async ({ \n    url, \n    params = {}, \n    history, \n    jsonPayload = false, \n    additionalParams = {}, \n    additionalHeaders = {}, \n    disableLoader = false, \n    dispatchData,\n    dataParser = DATA_PARSERS.raw,\n    onParseError\n}) => {\n    if (params.exportData) {\n        return exportRequest(url, params);\n    }\n    disableLoader = disableLoader || typeof dispatchData !== 'function';\n    if (!disableLoader) {\n        dispatchData({ type: actionsStateProvider.UPDATE_LOADER_STATE, payload: true });\n    }\n    pendingRequests++;\n\n    const reqParams = {\n        method: 'POST',\n        credentials: 'include',\n        url: url,\n        headers: jsonPayload ? { ...additionalHeaders } : { 'Content-Type': 'multipart/form-data', ...additionalHeaders },\n        ...additionalParams\n    };\n\n    if (params && Object.keys(params).length > 0) {\n        reqParams.data = jsonPayload ? params : getFormData(params);\n    }\n\n    try {\n        const response = await transport(reqParams);\n        pendingRequests--;\n        let data = response.data;\n\n        if (pendingRequests === 0 && !disableLoader) {\n            dispatchData({ type: actionsStateProvider.UPDATE_LOADER_STATE, payload: false });\n        }\n\n        // Handle HTTP errors here\n        if (response.status === HTTP_STATUS_CODES.SESSION_EXPIRED && history) {\n            history('/login');\n            return;\n        }\n\n        if (response.status === HTTP_STATUS_CODES.FORBIDDEN) {\n            return { error: true, message: data.message || 'Access Denied!' };\n        }\n\n        if (response.status !== HTTP_STATUS_CODES.OK) {\n            // You can return the error object or handle as needed\n            return { error: true, message: data.message || 'An error occurred' };\n        }\n\n        // Apply data parser to normalize response\n        try {\n            data = dataParser(data);\n        } catch (parseError) {\n            if (onParseError) {\n                return onParseError(parseError, data);\n            }\n            // Return error in standard format\n            return { \n                error: true, \n                message: 'Failed to parse response data', \n                parseError: parseError.message,\n                rawData: data \n            };\n        }\n\n        return data;\n    } catch (ex) {\n        pendingRequests--;\n        if (pendingRequests === 0 && !disableLoader) {\n            dispatchData({ type: actionsStateProvider.UPDATE_LOADER_STATE, payload: false });\n        }\n        // Only network errors will be caught here\n        return { error: true, message: ex.message || 'Network error' };\n    }\n};\n\nexport {\n    HTTP_STATUS_CODES,\n    transport,\n    DATA_PARSERS\n};\n\nexport default request;","import actionsStateProvider from \"../useRouter/actions\";\nimport request, { DATA_PARSERS } from \"./httpRequest\";\n\nconst dateDataTypes = ['date', 'dateTime'];\nconst lookupDataTypes = ['singleSelect'];\n\nconst isLocalTime = (dateValue) => new Date().getTimezoneOffset() === new Date(dateValue).getTimezoneOffset();\n\nconst getErrorMessage = (response) => response?.message || response?.info || response?.error;\n\nfunction shouldApplyFilter(filter) {\n    const { operator, value, type } = filter;\n\n    const isUnaryOperator = [\"isEmpty\", \"isNotEmpty\"].includes(operator);\n    const hasValidValue = value !== undefined &&\n        value !== null &&\n        (value !== '' || (type === 'number' && value === 0) || (type === 'boolean' && value === false));\n\n    return isUnaryOperator || hasValidValue;\n}\n\nconst getList = async ({ gridColumns, setData, page, pageSize, sortModel, filterModel, api, parentFilters, action = 'list', setError, extraParams, contentType, columns, controllerType = 'node', template = null, configFileName = null, dispatchData, showFullScreenLoader = false, model, baseFilters = null, isElasticExport, history = null }) => {\n    if (!contentType) {\n        if (showFullScreenLoader) {\n            dispatchData({ type: actionsStateProvider.UPDATE_LOADER_STATE, payload: true });\n        }\n    }\n\n    const lookups = [];\n    const lookupWithDeps = []; // for backward compatibility having two lookups arrays\n    const dateColumns = [];\n    gridColumns.forEach(({ lookup, type, field, keepLocal = false, keepLocalDate, filterable = true, dependsOn }) => {\n        if (dateDataTypes.includes(type)) {\n            dateColumns.push({ field, keepLocal, keepLocalDate });\n        }\n        if (!lookup) {\n            return;\n        }\n        if (!lookups.includes(lookup) && lookupDataTypes.includes(type) && filterable) {\n            lookups.push(lookup);\n            lookupWithDeps.push({ lookup, dependsOn });\n        }\n    });\n\n    const where = [];\n    if (filterModel?.items?.length) {\n        filterModel.items.forEach(filter => {\n            if (shouldApplyFilter(filter)) {\n                const { field, operator, filterField } = filter;\n                let { value } = filter;\n                const column = gridColumns.filter((item) => item?.field === filter.field);\n                const type = column[0]?.type;\n                if (type === 'boolean') {\n                    value = (value === 'true' || value === true) ? 1 : 0;\n                } else if (type === 'number') {\n                    value = Array.isArray(value) ? value.filter(e => e) : value;\n                }\n                value = filter.filterValues || value;\n                where.push({\n                    field: filterField || field,\n                    operator,\n                    value,\n                    type\n                });\n            }\n        });\n    }\n    if (parentFilters) {\n        where.push(...parentFilters);\n    }\n\n    if (baseFilters) {\n        where.push(...baseFilters);\n    }\n    const requestData = {\n        start: page * pageSize,\n        limit: isElasticExport ? model.exportSize : pageSize,\n        ...extraParams,\n        logicalOperator: filterModel.logicOperator,\n        sort: sortModel.map(sort => (sort.filterField || sort.field) + ' ' + sort.sort).join(','),\n        where,\n        isElasticExport,\n        model: model.module,\n        fileName: model.overrideFileName\n    };\n\n    if (lookups.length) {\n        requestData.lookups = lookups.join(',');\n    }\n\n    if (lookupWithDeps.length) {\n        requestData.lookupWithDeps = JSON.stringify(lookupWithDeps);\n    }\n\n    if (model?.limitToSurveyed) {\n        requestData.limitToSurveyed = model?.limitToSurveyed;\n    }\n\n    const headers = {};\n    let url = controllerType === 'cs' ? `${api}?action=${action}&asArray=0` : `${api}/${action}`;\n\n    if (template !== null) {\n        url += `&template=${template}`;\n    }\n    if (configFileName !== null) {\n        url += `&configFileName=${configFileName}`;\n    }\n    if (contentType) {\n        const form = document.createElement(\"form\");\n        requestData.responseType = contentType;\n        requestData.columns = columns;\n        requestData.userTimezoneOffset = -new Date().getTimezoneOffset(); // Negate to get the correct offset for conversion\n        // for manipulating the request payload before sending the request.\n        if (typeof model.createRequestPayload === 'function') {\n            await model.createRequestPayload(requestData, { where, sortModel, page, pageSize, parentFilters, action, url, dataParsers: DATA_PARSERS, model });\n        }\n        form.setAttribute(\"method\", \"POST\");\n        form.setAttribute(\"id\", \"exportForm\");\n        form.setAttribute(\"target\", \"_blank\");\n        if (template === null) {\n            for (const key in requestData) {\n                let v = requestData[key];\n                if (v === undefined || v === null) {\n                    continue;\n                } else if (typeof v !== 'string') {\n                    v = JSON.stringify(v);\n                }\n                const hiddenTag = document.createElement('input');\n                hiddenTag.type = \"hidden\";\n                hiddenTag.name = key;\n                hiddenTag.value = v;\n                form.append(hiddenTag);\n            }\n        }\n        form.setAttribute('action', requestData.url || url);\n        document.body.appendChild(form);\n        form.submit();\n        setTimeout(() => {\n            document.getElementById(\"exportForm\").remove();\n        }, 3000);\n        return;\n    }\n    try {\n        const reqParams = {\n            url,\n            additionalHeaders: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            dispatchData,\n            jsonPayload: true,\n            params: requestData,\n            dataParser: DATA_PARSERS.json,\n            history\n        };\n\n        // for manipulating the request payload before sending the request.\n        if (typeof model.createRequestPayload === 'function') {\n            await model.createRequestPayload(reqParams, { where, sortModel, page, pageSize, parentFilters, action, dataParsers: DATA_PARSERS, model });\n        }\n        const response = await request(reqParams);\n\n        if (response?.error || response?.success === false) {\n            const errorMessage = getErrorMessage(response);\n            setError('An error occurred while fetching data', errorMessage);\n            setData((prevData) => ({ ...prevData, records: [], recordCount: 0 }));\n            return;\n        }\n\n        // Parse response data if needed custom processing.\n        if (typeof model.parseResponsePayload === 'function' && model.parseResponseActions.includes(action)) {\n            const resData = await model.parseResponsePayload({ responseData: response, model, dateColumns, action });\n            setData(resData);\n            return;\n        }\n\n\n        response.records.forEach(record => {\n            dateColumns.forEach(column => {\n                const { field, keepLocal, keepLocalDate } = column;\n                if (record[field]) {\n                    record[field] = new Date(record[field]);\n                    if (keepLocalDate) {\n                        const userTimezoneOffset = record[field].getTimezoneOffset() * 60000;\n                        record[field] = new Date(record[field].getTime() + userTimezoneOffset);\n                    }\n                    if (keepLocal && !isLocalTime(record[field])) {\n                        const userTimezoneOffset = record[field].getTimezoneOffset() * 60000;\n                        record[field] = new Date(record[field].getTime() + userTimezoneOffset);\n                    }\n                }\n            });\n            model.columns.forEach(({ field, displayIndex }) => {\n                if (!displayIndex) return;\n                record[field] = record[displayIndex];\n            });\n        });\n\n        setData(response);\n    } catch (error) {\n        setError('Network failure or server unreachable. Please try again.');\n    }\n};\n\nconst getRecord = async ({ api, id, setActiveRecord, model, parentFilters, where = {}, setError, dispatchData }) => {\n    api = api || model.api;\n    const searchParams = new URLSearchParams();\n    const url = `${api}/${id === undefined || id === null ? '-' : id}`;\n    const lookupsToFetch = [];\n    const fields = model.formDef || model.columns;\n    fields?.forEach(field => {\n        if (field.lookup && !lookupsToFetch.includes(field.lookup) && !field.dependsOn) {\n            lookupsToFetch.push(field.lookup);\n        }\n    });\n    searchParams.set(\"lookups\", lookupsToFetch);\n    if (where && Object.keys(where)?.length) {\n        searchParams.set(\"where\", JSON.stringify(where));\n    }\n    const requestData = {\n        url: `${url}?${searchParams.toString()}`,\n        additionalParams: { method: 'GET' },\n        dispatchData,\n        jsonPayload: true\n    };\n\n    if (typeof model.createRequestPayload === 'function') {\n        await model.createRequestPayload(requestData, { id, parentFilters, model, where, api, action: 'load', dataParsers: DATA_PARSERS });\n    }\n    try {\n        const response = await request(requestData);\n        if (response?.error || response?.success === false) {\n            const errorMessage = getErrorMessage(response);\n            setError('Load failed', errorMessage);\n            return;\n        }\n        if (typeof model.parseResponsePayload === 'function' && model.parseResponseActions.includes('load')) {\n            const resData = await model.parseResponsePayload({ responseData: response, model, action: 'load' });\n            setActiveRecord(resData);\n            return;\n        }\n        const { data: record, lookups } = response || {};\n        let title = record[model.linkColumn];\n        const columnConfig = model.columns.find(a => a.field === model.linkColumn);\n        if (columnConfig && columnConfig.lookup) {\n            if (lookups && lookups[columnConfig.lookup] && lookups[columnConfig.lookup]?.length) {\n                const lookupValue = lookups[columnConfig.lookup].find(a => a.value === title);\n                if (lookupValue) {\n                    title = lookupValue.label;\n                }\n            }\n        }\n        const defaultValues = { ...model.defaultValues };\n        setActiveRecord({ id, title: title, record: { ...defaultValues, ...record, ...parentFilters }, lookups });\n    } catch (error) {\n        setError('Could not load record', error.message || error.toString());\n    }\n};\n\nconst deleteRecord = async function ({ id, api, setError, model }) {\n    const result = { success: false, error: '' };\n    if (!id) {\n        setError('Deleted failed. No active record.');\n        return;\n    }\n    const requestData = {\n        url: `${api}/${id}`,\n        additionalParams: { method: 'DELETE' }\n    };\n\n    if (typeof model.createRequestPayload === 'function') {\n        await model.createRequestPayload(requestData, { id, model, api, action: 'delete', dataParsers: DATA_PARSERS });\n    }\n    try {\n        const response = await request(requestData);\n        if (response?.error || response?.success === false) {\n            result.success = false;\n            const errorMessage = getErrorMessage(response);\n            setError('Delete failed', errorMessage);\n            return false;\n        }\n        result.success = true;\n        return true;\n    } catch (error) {\n        setError('Could not delete record', error.message || error.toString());\n    }\n    return result;\n};\n\nconst saveRecord = async function ({ id, api, values, setError, model, dispatchData }) {\n    let url, method;\n\n    if (id !== 0) {\n        url = `${api}/${id}`;\n        method = 'PUT';\n    } else {\n        url = api;\n        method = 'POST';\n    }\n\n    const requestData = {\n        url,\n        additionalParams: { method },\n        params: values,\n        additionalHeaders: {\n            'Content-Type': 'application/json'\n        },\n        jsonPayload: true,\n        dispatchData\n    };\n\n    if (typeof model.createRequestPayload === 'function') {\n        await model.createRequestPayload(requestData, { id, model, values, api, action: 'save', dataParsers: DATA_PARSERS });\n    }\n\n    try {\n        const response = await request(requestData);\n        if (response?.error || response?.success === false) {\n            const errorMessage = getErrorMessage(response);\n            setError('Save failed', errorMessage);\n            return false;\n        }\n        return response;\n    } catch (error) {\n        setError('Could not save record', error.message || error.toString());\n    }\n\n    return false;\n};\n\nconst getLookups = async ({ api, setActiveRecord, model, setError, lookups, scopeId, reqData }) => {\n    api = api || model.api;\n    const searchParams = new URLSearchParams();\n    const url = `${api}/lookups`;\n    searchParams.set(\"lookups\", lookups);\n    searchParams.set(\"scopeId\", scopeId);\n    const requestData = {\n        url: `${url}?${searchParams.toString()}`,\n        additionalParams: { method: 'GET' },\n        jsonPayload: true,\n        ...reqData\n    };\n    try {\n        if(typeof model.createRequestPayload === 'function') {\n            await model.createRequestPayload(requestData, { model, lookups, scopeId, dataParsers: DATA_PARSERS, action: 'lookups', api });\n        }\n        const response = await request(requestData);\n        if (response?.error || response?.success === false) {\n            const errorMessage = getErrorMessage(response);\n            setError('Could not load lookups', errorMessage);\n            return false;\n        }\n\n        if (typeof model.parseResponsePayload === 'function' && model.parseResponseActions.includes('lookups')) {\n            const resData = await model.parseResponsePayload({ responseData: response, model, action: 'lookups' });\n            setActiveRecord(resData);\n            return;\n        }\n        setActiveRecord(response);\n    } catch (error) {\n        setError('Could not load lookups', error.message || error.toString());\n    }\n};\nexport {\n    getList,\n    getRecord,\n    deleteRecord,\n    saveRecord,\n    getLookups,\n};\n\nconst crudHelper = {\n    getList,\n    getRecord,\n    deleteRecord,\n    saveRecord,\n    getLookups,\n};\n\nexport default crudHelper;\n","import {\n    GridFooterContainer,\n    GridFooter\n} from '@mui/x-data-grid-premium';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport { useTranslation } from 'react-i18next';\nimport React, { useEffect, useState } from 'react';\nconst Footer = ({ pagination, apiRef, tTranslate = (key) => key }) => {\n    const page = apiRef.current.state.pagination.paginationModel.page;\n    const rowsPerPage = apiRef.current.state.pagination.paginationModel.pageSize;\n    const totalRows = apiRef.current.state.rows.totalRowCount;\n    const totalPages = Math.ceil(totalRows / rowsPerPage);\n    const { t: translate, i18n } = useTranslation();\n    const tOpts = { t: translate, i18n };\n    const [pageNumber, setPageNumber] = useState(page + 1);\n\n    const handleChange = function (e) {\n        let value = e.target?.value;\n\n        if (value === '') {\n            setPageNumber('');\n        } else {\n            value = parseInt(value);\n            value = isNaN(value) || value < 1 ? 1 : value;\n            setPageNumber(value);\n        }\n    };\n\n    useEffect(() => {\n        setPageNumber(page + 1);\n    }, [page, rowsPerPage]);\n\n    const onPageChange = function () {\n        let targetPage = pageNumber === '' ? 1 : pageNumber;\n        targetPage = Math.max(targetPage, 1);\n        targetPage = Math.min(targetPage, totalPages);\n        apiRef.current.setPage(targetPage - 1);\n        setPageNumber(targetPage);\n        if (pageNumber === '') {\n            setPageNumber(1);\n        }\n    };\n    const handleKeyPress = (event) => {\n        const keyCode = event.which || event.keyCode;\n        const keyValue = String.fromCharCode(keyCode);\n        if (!/\\d/.test(keyValue)) event.preventDefault();\n    };\n\n    return (\n        <GridFooterContainer>\n            <Box sx={{ pl: 5 }}>\n                {pagination &&\n                    <>\n                        <Typography variant=\"p\">{tTranslate('Jump to page', tOpts)}:</Typography>\n                        <TextField\n                            sx={{\n                                width: 70,\n                                pl: 1,\n                                '& input[type=number]::-webkit-inner-spin-button': {\n                                    cursor: 'pointer'\n                                },\n                                '& input[type=number]::-webkit-outer-spin-button': {\n                                    cursor: 'pointer'\n                                }\n                            }}\n                            variant=\"standard\"\n                            type='number'\n                            min={1}\n                            value={pageNumber}\n                            onChange={handleChange}\n                            onKeyPress={handleKeyPress}\n                            disabled={!totalRows}\n                        />\n                        <Button disabled={!totalRows} size='small' onClick={onPageChange}>{tTranslate('Go', tOpts)}</Button>\n                    </>\n                }\n            </Box>\n            <GridFooter />\n        </GridFooterContainer>\n    );\n};\nexport { Footer };","const defaultTemplate = /\\${((\\w+)\\.)?(\\w+)}/g;\n\n/**\n * @description Replaces the given tags in the given source with the given values.\n * @param {string} source The source to replace the tags in.\n * @param {object} values The values to replace the tags with.\n * @param {object} options template - Regex to use for matching tags, keepMissingTags - Whether to keep tags that are not replaced.\n * @returns {string} The source with the tags replaced.\n * @example\n * // Replaces all tags in the given source with the given values.\n * console.log(template(\"${firstName} ${lastName}\", { firstName: \"John\", lastName: \"Doe\" }));\n * // -> \"John Doe\"\n * // Two level tags are supported.\n * console.log(template(\"${user.firstName} ${user.lastName}\", { user: { firstName: \"John\", lastName: \"Doe\" } }));\n * // -> \"John Doe\"\n **/\nconst replaceTags = function (source, tags, { template = defaultTemplate, keepMissingTags = false } = {}) {\n    if (!source || !tags) {\n        return source;\n    }\n\n    return source.replace(template, function (match, g1, g2, g3) {\n        const container = g2 ? tags[g2] || {} : tags;\n        return container[g3] === undefined ? (keepMissingTags ? match : \"\") : container[g3];\n    });\n};\n\nexport default {\n    replaceTags\n};","import React from 'react';\nimport { Typography } from \"@mui/material\";\n\nexport default function MuiTypography({ variant = \"h2\", component = \"h2\", text = '', name = null, ...rest }) {\n    return (\n        <Typography variant={variant} component={component} {...rest}>\n            {text}\n            {name && ` ${name}`}\n        </Typography>\n    );\n}","import { useState, useEffect } from 'react';\n\nfunction useMobile(onlyMobile = false) {\n  const initialValue = checkDevice();\n  const [view, setView] = useState(initialValue);\n\n  function handleWindowSizeChange() {\n    setTimeout(() => {\n      setView(checkDevice())\n    }, 10);\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', handleWindowSizeChange);\n    return () => {\n      window.removeEventListener('resize', handleWindowSizeChange);\n    }\n  }, []);\n\n\n  function checkDevice() {\n    let userAgent = typeof window.navigator === \"undefined\" ? \"\" : navigator.userAgent;\n    const mobile = Boolean(userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i));\n    userAgent = userAgent.toLowerCase();\n    const tablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent);\n    let currentOrientation = null;\n    if (window.innerWidth <= window.innerHeight) {\n      currentOrientation = \"portrait\";\n    } else {\n      currentOrientation = \"landscape\";\n    }\n    return { mobile, tablet, portrait: currentOrientation === 'portrait', landscape: currentOrientation === 'landscape' };\n  }\n\n  return onlyMobile ? view.mobile : view;\n}\n\nexport default useMobile;","import actionsStateProvider from \"./actions\";\nconst stateReducer = (state, action) => {\n    switch (action.type) {\n        case actionsStateProvider.UPDATE_LOCALIZATION:\n            return { ...state, dataLocalization: action.payload };\n        case actionsStateProvider.UPDATE_DATE_TIME:\n            return { ...state, dateTime: action.payload };\n        case actionsStateProvider.UPDATE_FORM_MODE:\n            return { ...state, dataForm: action.payload };\n        case actionsStateProvider.PAGE_TITLE_DETAILS:\n            return { ...state, pageTitleDetails: action.payload };\n        case actionsStateProvider.OPEN_MODAL:\n            return { ...state, modal: action.payload };\n        case actionsStateProvider.SET_PAGE_BACK_BUTTON:\n            return { ...state, pageBackButton: action.payload };\n        case actionsStateProvider.SET_GRID_SETTINGS:\n            return { ...state, gridSettings: action.payload };\n        case actionsStateProvider.SET_LOCAL_LOCALIZATION:\n            return { ...state, getLocal: action.payload };\n        case actionsStateProvider.USER_DATA:\n            return { ...state, getUserData: action.payload };\n        case actionsStateProvider.UDPATE_PREFERENCES:\n            return { ...state, preferences: action.payload };\n        case actionsStateProvider.SET_CURRENT_PREFERENCE_NAME:\n            return { ...state, currentPreference: action.payload };\n        case actionsStateProvider.TOTAL_PREFERENCES:\n            return { ...state, totalPreferences: action.payload };\n        case actionsStateProvider.UPDATE_LOADER_STATE:\n            return { ...state, loaderOpen: action.payload };\n        case actionsStateProvider.PASS_FILTERS_TO_HEADER:\n            return { ...state, filtersInHeader: action.payload };\n        case actionsStateProvider.SET_TIMEZONE:\n            return { ...state, timeZone: action.payload };\n        default:\n            return state;\n    }\n};\nexport default stateReducer;","const initialState = {\n    dataLocalization: 'en',\n    dateTime: 'MM/DD/YYYY hh:mm:ss A',\n    dataForm: '',\n    pageTitleDetails:null,\n    modal:null,\n    pageBackButton:null,\n    gridSettings:{},\n    getLocal:{},\n    getUserData:null,\n    preferences: [],\n    currentPreference: null,\n    totalPreferences: null,\n    loaderOpen: false,\n    filtersInHeader: {},\n    timeZone: \"\"\n  };\n\n  export default initialState;","import * as locales from '@mui/x-data-grid-premium';\nexport const daDKGrid = {\n\n    Jumptopage: 'Gå til side',\n    Go: 'Gå',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'I dette rum vil vi snart bringe dig et dashboard med hovedoversigt KPIer for nem adgang',\n    Pages: 'sider',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Rækker pr. side',\n    }\n};\nconst mergedLocalizationDatadaDK = {\n    ...locales['daDK'],\n    ...daDKGrid,\n};\nexport default mergedLocalizationDatadaDK;\n","import * as locales from '@mui/x-data-grid-premium';\nexport const deDEGrid = {\n    Jumptopage: 'Zur Seite springen',\n    Go: 'Gehen',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'In diesem Bereich werden wir Ihnen in Kürze ein Dashboard mit den wichtigsten Übersichts-KPIs für einen einfachen Zugriff bereitstellen',\n    Pages: 'Seiten',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Zeilen pro Seite',\n    }\n};\nconst mergedLocalizationDatadeDE= {\n    ...locales['deDE'],\n    ...deDEGrid,\n};\n\nexport default mergedLocalizationDatadeDE;","import * as locales from '@mui/x-data-grid-premium';\nexport const elGRGrid = {\n    Jumptopage: 'Μετάβαση στη σελίδα',\n    Go: 'Πηγαίνω',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'Σε αυτόν τον χώρο θα σας φέρουμε σύντομα έναν πίνακα ελέγχου βασικών επισκόπησης KPI για εύκολη πρόσβαση',\n    Pages: 'Σελίδες',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Σειρές ανά σελίδα',\n    }\n};\nconst mergedLocalizationDataelGR = {\n    ...locales['elGR'],\n    ...elGRGrid,\n};\n\nexport default mergedLocalizationDataelGR;","import * as locales from '@mui/x-data-grid-premium';\nexport const esESGrid = {\n    Jumptopage: 'Saltar a la página',\n    Go: 'Ir',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'En este espacio pronto le ofreceremos un panel con los principales KPI generales para un fácil acceso.',\n    Pages: 'paginas',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Filas por página',\n    }\n};\nconst mergedLocalizationDataesES = {\n    ...locales['esES'],\n    ...esESGrid,\n};\n\nexport default mergedLocalizationDataesES;","\n\nimport * as locales from '@mui/x-data-grid-premium';\nexport const frFRGrid = {\n    Jumptopage: 'Aller à la page',\n    Go: 'Aller',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'Dans cet espace, nous vous proposerons bientôt un tableau de bord des principaux KPI pour un accès facile.',\n    Pages: 'Pages',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Lignes par page',\n    }\n};\nconst mergedLocalizationDatafrFR = {\n    ...locales['frFR'],\n    ...frFRGrid,\n};\nexport default mergedLocalizationDatafrFR;","\nimport * as locales from '@mui/x-data-grid-premium';\nexport const itITGrid = {\n    Jumptopage: 'Vai alla pagina',\n    Go: 'Andare',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'In questo spazio presto ti forniremo una dashboard con i principali KPI generali per un facile accesso',\n    Pages: 'Pagine',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Righe per pagina',\n    }\n};\nconst mergedLocalizationDataitIT = {\n    ...locales['itIT'],\n    ...itITGrid,\n};\n\nexport default mergedLocalizationDataitIT;","\nimport * as locales from '@mui/x-data-grid-premium';\nexport const trTRGrid = {\n  Jumptopage: 'Sayfaya atla',\n  Go: 'Gitmek',\n  InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'Bu alanda yakında size kolay erişim için ana genel bakış KPI larının bir kontrol panelini sunacağız',\n  Pages: 'Sayfalar',\n  MuiTablePagination: {\n    labelRowsPerPage: 'Sayfa başına satır',\n  },\n};\nconst mergedLocalizationDatatrTR = {\n  ...locales['trTR'],\n  ...trTRGrid,\n};\nexport default mergedLocalizationDatatrTR;\n","export default {\n  components: {\n    MuiDataGrid: {\n      defaultProps: {\n        localeText: {\n          Add: \"createew\",\n          noRowsLabel: 'Sem resultados',\n          noResultsOverlayLabel: 'Nenhum resultado encontrado.',\n\n          // Density selector toolbar button text\n          toolbarDensity: 'Densidade',\n          toolbarDensityLabel: 'Densidade',\n          toolbarDensityCompact: 'Compacto',\n          toolbarDensityStandard: 'Padrão',\n          toolbarDensityComfortable: 'Confortável',\n\n          // Columns selector toolbar button text\n          toolbarColumns: 'Colunas',\n          toolbarColumnsLabel: 'Selecionar colunas',\n\n          // Filters toolbar button text\n          toolbarFilters: 'Filtros',\n          toolbarFiltersLabel: 'Mostrar filtros',\n          toolbarFiltersTooltipHide: 'Esconder filtros',\n          toolbarFiltersTooltipShow: 'Mostrar filtros',\n          toolbarFiltersTooltipActive: (count) =>\n            count !== 1 ? `${count} filtros ativos` : `${count} filtro ativo`,\n\n          // Quick filter toolbar field\n          toolbarQuickFilterPlaceholder: 'Pesquisar...',\n          toolbarQuickFilterLabel: 'Pesquisar',\n          toolbarQuickFilterDeleteIconLabel: 'Limpar',\n\n          // Export selector toolbar button text\n          toolbarExport: 'Exportar',\n          toolbarExportLabel: 'Exportar',\n          toolbarExportCSV: 'Baixar como CSV',\n          toolbarExportPrint: 'Imprimir',\n          toolbarExportExcel: 'Baixar como Excel',\n\n          // Columns panel text\n          columnsPanelTextFieldLabel: 'Encontrar coluna',\n          columnsPanelTextFieldPlaceholder: 'Título da coluna',\n          columnsPanelDragIconLabel: 'Reorganizar coluna',\n          columnsPanelShowAllButton: 'Mostrar todas',\n          columnsPanelHideAllButton: 'Esconder todas',\n\n          // Filter panel text\n          filterPanelAddFilter: 'Adicionar filtro',\n          filterPanelRemoveAll: 'Remover todos',\n          filterPanelDeleteIconLabel: 'Excluir',\n          filterPanelLogicOperator: 'Operador lógico',\n          filterPanelOperator: 'Operador',\n          filterPanelOperatorAnd: 'E',\n          filterPanelOperatorOr: 'Ou',\n          filterPanelColumns: 'Colunas',\n          filterPanelInputLabel: 'Valor',\n          filterPanelInputPlaceholder: 'Valor do filtro',\n\n          // Filter operators text\n          filterOperatorContains: 'contém',\n          filterOperatorEquals: 'é igual a',\n          filterOperatorStartsWith: 'começa com',\n          filterOperatorEndsWith: 'termina com',\n          filterOperatorIs: 'é',\n          filterOperatorNot: 'não é',\n          filterOperatorAfter: 'é posterior a',\n          filterOperatorOnOrAfter: 'é em ou depois de',\n          filterOperatorBefore: 'é anterior a',\n          filterOperatorOnOrBefore: 'é em ou antes de',\n          filterOperatorIsEmpty: 'está vazio',\n          filterOperatorIsNotEmpty: 'não está vazio',\n          filterOperatorIsAnyOf: 'é algum de',\n          'filterOperator=': '=',\n          'filterOperator!=': '!=',\n          'filterOperator>': '>',\n          'filterOperator>=': '>=',\n          'filterOperator<': '<',\n          'filterOperator<=': '<=',\n\n          // Header filter operators text\n          headerFilterOperatorContains: 'Contém',\n          headerFilterOperatorEquals: 'É igual a',\n          headerFilterOperatorStartsWith: 'Começa com',\n          headerFilterOperatorEndsWith: 'Termina com',\n          headerFilterOperatorIs: 'É',\n          headerFilterOperatorNot: 'Não é',\n          headerFilterOperatorAfter: 'É depois de',\n          headerFilterOperatorOnOrAfter: 'É em ou depois de',\n          headerFilterOperatorBefore: 'É antes de',\n          headerFilterOperatorOnOrBefore: 'É em ou antes de',\n          headerFilterOperatorIsEmpty: 'Está vazio',\n          headerFilterOperatorIsNotEmpty: 'Não está vazio',\n          headerFilterOperatorIsAnyOf: 'É algum de',\n          'headerFilterOperator=': 'É igual a',\n          'headerFilterOperator!=': 'Não é igual a',\n          'headerFilterOperator>': 'Maior que',\n          'headerFilterOperator>=': 'Maior ou igual a',\n          'headerFilterOperator<': 'Menor que',\n          'headerFilterOperator<=': 'Menor ou igual a',\n\n          // Filter values text\n          filterValueAny: 'qualquer',\n          filterValueTrue: 'verdadeiro',\n          filterValueFalse: 'falso',\n\n          // Column menu text\n          columnMenuLabel: 'Menu',\n          columnMenuShowColumns: 'Mostrar colunas',\n          columnMenuManageColumns: 'Gerenciar colunas',\n          columnMenuFilter: 'Filtro',\n          columnMenuHideColumn: 'Esconder coluna',\n          columnMenuUnsort: 'Desfazer ordenação',\n          columnMenuSortAsc: 'Ordenar por ASC',\n          columnMenuSortDesc: 'Ordenar por DESC',\n\n          // Column header text\n          columnHeaderFiltersTooltipActive: (count) =>\n            count !== 1 ? `${count} filtros ativos` : `${count} filtro ativo`,\n          columnHeaderFiltersLabel: 'Mostrar filtros',\n          columnHeaderSortIconLabel: 'Ordenar',\n\n          // Rows selected footer text\n          footerRowSelected: (count) =>\n            count !== 1\n              ? `${count.toLocaleString()} linhas selecionadas`\n              : `${count.toLocaleString()} linha selecionada`,\n\n          // Total row amount footer text\n          footerTotalRows: 'Total de linhas:',\n\n          // Total visible row amount footer text\n          footerTotalVisibleRows: (visibleCount, totalCount) =>\n            `${visibleCount.toLocaleString()} de ${totalCount.toLocaleString()}`,\n\n          // Checkbox selection text\n          checkboxSelectionHeaderName: 'Seleção de caixa de seleção',\n          checkboxSelectionSelectAllRows: 'Selecionar todas as linhas',\n          checkboxSelectionUnselectAllRows: 'Desselecionar todas as linhas',\n          checkboxSelectionSelectRow: 'Selecionar linha',\n          checkboxSelectionUnselectRow: 'Desselecionar linha',\n\n          // Boolean cell text\n          booleanCellTrueLabel: 'sim',\n          booleanCellFalseLabel: 'não',\n\n          // Actions cell more text\n          actionsCellMore: 'mais',\n\n          // Column pinning text\n          pinToLeft: 'Fixar à esquerda',\n          pinToRight: 'Fixar à direita',\n          unpin: 'Desafixar',\n\n          // Tree Data\n          treeDataGroupingHeaderName: 'Agrupar',\n          treeDataExpand: 'ver filhos',\n          treeDataCollapse: 'esconder filhos',\n\n          // Grouping columns\n          groupingColumnHeaderName: 'Agrupar',\n          groupColumn: (name) => `Agrupar por ${name}`,\n          unGroupColumn: (name) => `Parar de agrupar por ${name}`,\n\n          // Master/detail\n          detailPanelToggle: 'Alternar painel de detalhes',\n          expandDetailPanel: 'Expandir',\n          collapseDetailPanel: 'Recolher',\n\n          // Used core components translation keys\n          MuiTablePagination: {},\n\n          // Row reordering text\n          rowReorderingHeaderName: 'Reorganização de linhas',\n\n          // Aggregation\n          aggregationMenuItemHeader: 'Agregação',\n          aggregationFunctionLabelSum: 'soma',\n          aggregationFunctionLabelAvg: 'média',\n          aggregationFunctionLabelMin: 'mínimo',\n          aggregationFunctionLabelMax: 'máximo',\n          aggregationFunctionLabelSize: 'tamanho',\n          //footer\n          Jumptopage: 'Ir para a página',\n          Go: 'Ir',\n          InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess:'Neste espaço em breve traremos para você um dashboard com os principais KPIs de visão geral para fácil acesso',\n          Pages:'Páginas',\n          MuiTablePagination: {\n            labelRowsPerPage: 'Linhas por página',\n          }\n        }\n      },\n    },\n  },\n};","\nimport * as locales from '@mui/x-data-grid-premium';\n\nexport const enUSGrid = {\n    Jumptopage: 'Jump to page',\n    Go: 'Go',\n    InthisspacewewillsoonbringyouadashboardofmainoverviewKPIsforeasyaccess: 'In this space we will soon bring you a dashboard of main overview KPIs for easy access',\n    Pages: 'Pages',\n    MuiTablePagination: {\n        labelRowsPerPage: 'Rows per page',\n    },\n};\nconst mergedLocalizationDataenUS = {\n    ...locales['enUS'],\n    ...enUSGrid,\n};\nexport default mergedLocalizationDataenUS;","// localization.js\nimport mergedLocalizationDatadaDK from './data-grid/daDK';\nimport mergedLocalizationDatadeDE from './data-grid/deDE';\nimport mergedLocalizationDataelGR from './data-grid/elGR';\nimport mergedLocalizationDataesES from './data-grid/esES';\nimport mergedLocalizationDatafrFR from './data-grid/frFR';\nimport mergedLocalizationDataitIT from './data-grid/itIT';\nimport mergedLocalizationDatatrTR from './data-grid/trTR';\nimport ptPT from './data-grid/ptPT';\nimport mergedLocalizationDataenUS from './data-grid/enUS';\nimport * as React from 'react';\nexport const locales = {\n  'en': mergedLocalizationDataenUS,\n  'tr-TR': mergedLocalizationDatatrTR,\n  'es-ES': mergedLocalizationDataesES,\n  'da-DK': mergedLocalizationDatadaDK,\n  'de-DE': mergedLocalizationDatadeDE,\n  'el-GR': mergedLocalizationDataelGR,\n  'fr-FR': mergedLocalizationDatafrFR,\n  'pt-PT': ptPT,\n  'it-IT': mergedLocalizationDataitIT\n};","import React, { createContext, useReducer, useContext, useRef } from 'react';\nimport stateReducer from './stateReducer';\nimport initialState from './initialState';\nimport { locales } from '../mui/locale/localization';\nimport dayjs from 'dayjs';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\n\n// Extend dayjs with the plugins\ndayjs.extend(utc);\ndayjs.extend(timezone);\n\nconst StateContext = createContext();\nconst RouterContext = createContext(null);\n\nconst StateProvider = ({ children, apiEndpoints: initialApiEndpoints = {} }) => {\n\n  const [stateData, dispatchData] = useReducer(stateReducer, initialState);\n\n  // Initialize with provided endpoints or empty object\n  const apiEndpoints = useRef(initialApiEndpoints);\n\n  function setApiEndpoint(key, endpoint) {\n    apiEndpoints.current[key] = endpoint;\n  }\n\n  function getApiEndpoint(key) {\n    return apiEndpoints.current[key];\n  }\n\n  function buildUrl(controllerType, url) {\n    const baseUrl = apiEndpoints.current[controllerType || \"default\"] || '';\n    return `${baseUrl}${url}`;\n  }\n\n  /**\n   * Returns the system date and/or time format string based on user preferences and options.\n   *\n   * @param {boolean} isDateFormatOnly - If true, returns only the date format; otherwise, returns date and time format.\n   * @param {boolean} showOnlyDate - If true and isDateFormatOnly is false, returns only the date part in uppercase.\n   * @param {string|null|undefined} state - The user-defined date/time format string (e.g., \"dd-mm-yyyy hh:mm A\").\n   * @returns {string} The formatted date/time format string.\n   */\n  function systemDateTimeFormat(isDateFormatOnly, showOnlyDate, state) {\n    if (state !== undefined && state !== null) {\n      const userData = state; // Access 'state' \n      let userDateFormat = isDateFormatOnly ? 'DD-MM-YYYY' : 'DD-MM-YYYY hh:mm:ss A';\n      if (userData) {\n        userDateFormat = userData.split(' ');\n        userDateFormat[0] = userDateFormat[0].toUpperCase();\n        if (!isDateFormatOnly) {\n          if (showOnlyDate) {\n            userDateFormat = userDateFormat[0].toUpperCase();\n          } else {\n            userDateFormat[1] += !userDateFormat[1].includes(':ss') ? ':ss' : '';\n            userDateFormat = userDateFormat.join(\" \");\n          }\n        } else {\n          userDateFormat = userDateFormat[0];\n        }\n      };\n      return userDateFormat;\n    }\n    return isDateFormatOnly ? 'DD-MM-YYYY' : 'DD-MM-YYYY hh:mm:ss A';\n  }\n\n  /**\n   * Formats a date value using the system or user-defined format and optional timezone.\n   *\n   * @param {Object} params - The parameters object.\n   * @param {string|Date} params.value - The date value to format.\n   * @param {boolean} params.useSystemFormat - Whether to use the system date format.\n   * @param {boolean} [params.showOnlyDate=false] - Whether to show only the date part.\n   * @param {string|null|undefined} params.state - The user-defined date/time format string.\n   * @param {string} [params.timeZone] - The timezone to use for formatting.\n   * @returns {string} The formatted date string or '-' if value is falsy.\n   */\n  function formatDate({ value, useSystemFormat, showOnlyDate = false, state, timeZone }) {\n    if (!value) return '-';\n    const format = systemDateTimeFormat(useSystemFormat, showOnlyDate, state); // Pass 'state' as an argument\n    if (!timeZone) {\n      return dayjs(value).format(format);\n    }\n    return dayjs(value).tz(timeZone).format(format);\n  }\n\n  /**\n   * Provides localization utilities for the current locale.\n   *\n   * @returns {Object} An object with a getLocalizedString function.\n   */\n  function useLocalization() {\n    const currentLocaleData = stateData.dataLocalization;\n    const localeData = locales[currentLocaleData];\n    function getLocalizedString(key) {\n      return currentLocaleData === 'pt-PT' || currentLocaleData === 'ptPT' ? localeData.components.MuiDataGrid.defaultProps.localeText[key] || key : localeData[key] || key;\n    }\n    return { getLocalizedString };\n  }\n\n  return (\n    <StateContext.Provider value={{ stateData, dispatchData, systemDateTimeFormat, formatDate, useLocalization, getApiEndpoint, setApiEndpoint, buildUrl }}>\n      {children}\n    </StateContext.Provider>\n  );\n};\n\nconst RouterProvider = RouterContext.Provider;\n\nconst useRouter = () => {\n  return useContext(RouterContext);\n};\n\nconst useStateContext = () => {\n  const context = useContext(StateContext);\n  if (context === undefined) {\n    throw new Error('useStateContext must be used within a StateProvider');\n  }\n  return context;\n};\n\nexport { StateProvider, useStateContext, useRouter, RouterProvider };\n","import React, { useEffect, useState } from 'react';\nimport {\n    Grid, Typography,\n    Dialog, DialogContent, DialogTitle,\n} from '@mui/material';\nimport { Replay, Close } from '@mui/icons-material';\nimport { useStateContext } from '../useRouter/StateProvider';\nimport actionsStateProvider from '../useRouter/actions';\n\nconst HelpModal = () => {\n    const [height, setHeight] = useState();\n    const [loading, setLoading] = useState(false);\n    const { stateData, dispatchData } = useStateContext()\n    const openModal = stateData.modal; //useSelector(state => state.appReducer.modal);\n    const ratio = 16 / 9;\n    let zoom = ((window.outerWidth - 10) / window.innerWidth) * 100;\n    const updateHeight = () => {\n        let widthPercentage = document.getElementById('tutorial-iframe');\n        if (widthPercentage) {\n            widthPercentage = widthPercentage.offsetWidth;\n            widthPercentage = widthPercentage / window.innerWidth;\n        } else {\n            widthPercentage = 0.9;\n        }\n        const calculatedHeight = window.innerWidth * widthPercentage * (1 / ratio);\n        const maxHeight = window.innerHeight - 180;\n        setHeight(Math.min(calculatedHeight, maxHeight));\n    };\n    useEffect(() => {\n        if (openModal?.status) {\n            setLoading(true);\n            updateHeight();\n        }\n    }, [openModal, zoom])\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", updateHeight);\n\n        return () => {\n            window.removeEventListener(\"resize\", updateHeight);\n        }\n    }, [])\n\n    function resetIframe() {\n        const iframe = document.getElementById('tutorial-iframe');\n        iframe.src = openModal?.data?.url;\n    }\n\n    return (\n        <div>\n            {openModal?.status &&\n                <Dialog fullWidth={true} maxWidth={\"lg\"} open={openModal.status} onClose={() => {\n                    dispatchData({\n                        type: actionsStateProvider.OPEN_MODAL, payload: { status: false, data: {}, }\n                    })\n                }} >\n                    <DialogTitle className='pt-2 pb-0'>\n                        <Grid container spacing={1}>\n                            <Grid size={11} >\n                                <Typography variant=\"h7\" component='div'> {openModal?.data?.title || ''}</Typography>\n                                <Typography variant=\"caption\" component='div'>{openModal?.data?.subTitle || <>&nbsp;</>}</Typography>\n                            </Grid>\n                            <Grid className=\"text-right\" size={1} >\n                                <Replay className='cursor_pointer mt-2 mr-2' onClick={resetIframe} />\n                                <Close className='cursor_pointer mt-2' onClick={() => {\n                                    dispatchData({\n                                        type: actionsStateProvider.OPEN_MODAL, payload: { status: false, data: {} }\n                                    })\n                                }} />\n                            </Grid>\n                        </Grid>\n                    </DialogTitle>\n                    <DialogContent dividers>\n                        {loading && <div>{\"Loading...\"}</div>}\n                        {openModal?.data?.url && <iframe\n                            id='tutorial-iframe'\n                            style={{ width: '100%', height: `${height}px` }}\n                            title={openModal?.data?.title || ''}\n                            src={openModal?.data?.url}\n                            allowfullscreen\n                            frameborder=\"0\"\n                            loading=\"lazy\"\n                            onLoad={() => setLoading(false)}\n                        />}\n                    </DialogContent>\n                </Dialog>}\n        </div>\n    )\n}\n\nexport default HelpModal","import React, { useEffect } from \"react\";\n\nimport { Box } from \"@mui/material\";\nimport { withTranslation } from \"react-i18next\";\nimport MuiTypography from \"../Typography\";\nimport useMobile from \"../useMobile\";\nimport { Breadcrumbs, Typography, Link as MuiLink, Button, IconButton, Grid } from \"@mui/material\";\nimport HelpIcon from '@mui/icons-material/Help';\nimport HelpModal from \"../HelpModal\";\nimport { Card, CardContent } from '@mui/material';\n\nfunction PageTitle({\n  titleHeading,\n  navigate,\n  name = null,\n  RightComponent = null,\n  mobileRightComponent,\n  title = \"\",\n  titleClass = \"text-theme-blue text-max-width\",\n  showBreadcrumbs,\n  breadcrumbs = [],\n  enableBackButton = false,\n  breadcrumbColor,\n  showHelpButton = false\n}) {\n  const isMobile = useMobile(true);\n  const breadcrumbsLasIndex = breadcrumbs.length - 1;\n  const needToShowBreadcrumbs = showBreadcrumbs && breadcrumbs.length;\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  // Update document title when title prop changes\n  useEffect(() => {\n    if (title) {\n      document.title = title;\n    }\n  }, [title]);\n\n  return (\n    <>\n      <MuiTypography className=\"print-only\" text={titleHeading} />\n      {needToShowBreadcrumbs && (<>\n        <Card sx={{ mb: 3 }}>\n          <CardContent sx={{ backgroundColor: breadcrumbColor || '#fff' }}>\n            {/* Add BreadCrumbs  */}\n            <Grid container>\n              <Grid sx={{ display: 'flex', alignItems: 'center', flex: 1 }}>\n                <Breadcrumbs variant=\"h5\" aria-label=\"breadcrumb\" separator=\">\" className={`${titleClass} breadcrumbs-text-title text-max-width`}>\n                  {breadcrumbs.map((breadcrumb, index) => index < breadcrumbsLasIndex ? (\n                    <MuiLink onClick={handleBack} key={index} className={`${titleClass} breadcrumbs-text-title text-max-width`} variant=\"inherit\" sx={{ textDecoration: 'none', color: '#1976d2' }}>\n                      {breadcrumb.text}\n                    </MuiLink>\n                  ) : <Typography key={index} className={`${titleClass} breadcrumbs-text-title text-max-width`} variant=\"inherit\">\n                    {breadcrumb.text}\n                  </Typography>)}\n                </Breadcrumbs>\n              </Grid>\n              {(breadcrumbs.length > 1 || enableBackButton) && <Grid sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                <Button variant=\"contained\" onClick={handleBack}>Back</Button>\n              </Grid>}\n              {showHelpButton && <Grid sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                <IconButton color=\"primary\" title='Help' size=\"large\">\n                  <HelpIcon fontSize=\"inherit\" />\n                </IconButton>\n              </Grid>}\n            </Grid>\n            {/* Title render */}\n            <Box className=\"app-page-title--first\">\n              <div>\n                <div style={{ display: isMobile ? 'block' : \"flex\", alignItems: \"center\" }}>\n                  <div style={{ flex: \"1 0 auto\" }}>\n                    <MuiTypography\n                      className={`${titleClass} page-text-title`}\n                      variant=\"p\"\n                      text={titleHeading}\n                      name={name}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Box>\n            {/* For Mobile */}\n            {!isMobile && (\n              <>\n                <Box> {RightComponent && <RightComponent />} </Box>\n                <Box> {mobileRightComponent} </Box>\n              </>\n            )}\n          </CardContent>\n        </Card>\n        <HelpModal />\n      </>)}\n    </>\n  );\n}\n\nexport default withTranslation()(PageTitle);\n","const utils = {\n    filterFieldDataTypes: {\n        Number: 'number',\n        String: 'string',\n        Boolean: 'boolean'\n    },\n    fixedFilterFormat: {\n        date: \"YYYY-MM-DD\",\n        datetime: \"YYYY-MM-DD hh:mm:ss a\",\n        dateTimeLocal: \"YYYY-MM-DD hh:mm:ss a\",\n        OverrideDateFormat: \"DD-MMM-YYYY\"\n    },\n    errorMapping: {\n        413: \"Upload failed: The file exceeds the 30 MB size limit. Please select a smaller file.\"\n    },\n    permissionsMapper: {\n        add: \"Permission2\",\n        edit: \"Permission3\",\n        delete: \"Permission4\"\n    },\n    emptyIdValues: [null, undefined, '', '0', 0]\n}\nexport const getPermissions = ({ userData = {}, model, userDefinedPermissions }) => {\n    const { permissions = [] } = userData;\n    userDefinedPermissions = userDefinedPermissions || { add: true, edit: true, delete: true };\n    const userPermissions = permissions.find(item => item.Module === model.module);\n    if (!userPermissions) {\n        return { canAdd: userDefinedPermissions.add, canEdit: userDefinedPermissions.edit, canDelete: userDefinedPermissions.delete };\n    }\n    return {\n        canAdd: userDefinedPermissions.add && Boolean(userPermissions[utils.permissionsMapper.add]),\n        canEdit: userDefinedPermissions.edit && Boolean(userPermissions[utils.permissionsMapper.edit]),\n        canDelete: userDefinedPermissions.delete && Boolean(userPermissions[[utils.permissionsMapper.delete]])\n    };\n};\nexport default utils;","import React from 'react';\nimport dayjs from 'dayjs';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\nimport { getGridDateOperators } from '@mui/x-data-grid-premium';\nimport utcPlugin from 'dayjs/plugin/utc.js';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { useStateContext } from '../useRouter/StateProvider';\nimport utils from '../utils';\n\ndayjs.extend(utcPlugin);\nconst componentMap = {\n    date: DatePicker,\n    datetime: DateTimePicker,\n    dateTimeLocal: DateTimePicker\n};\nconst DATEPICKER_MARGIN_TOP = '-10px';\nconst DATEPICKER_MARGIN_BOTTOM = '-16px';\n\nconst LocalizedDatePicker = (props) => {\n    const { fixedFilterFormat } = utils;\n    const { item, applyValue, convert } = props;\n    const { systemDateTimeFormat, stateData } = useStateContext();\n    const columnType = props?.type || 'date';\n    const filterFormat = fixedFilterFormat[columnType];\n    const isValidDate = (date) => {\n        const parsedDate = dayjs(date);\n        return parsedDate.isValid() && parsedDate.year() > 1900;\n    };\n    const format = (systemDateTimeFormat((columnType !== \"datetime\" && columnType !== \"dateTimeLocal\", false, stateData.dateTime)));\n\n    const handleFilterChange = (newValue) => {\n        if (columnType !== \"date\" && columnType !== \"datetime\" && columnType !== \"dateTimeLocal\") return;\n        const isPartialDate = (value) => {\n            if (typeof value !== 'string') return false;\n            return !dayjs(value, format, true).isValid();\n        };\n        if (isPartialDate(newValue)) {\n            return;\n        }\n        if (convert) {\n            newValue = dayjs(newValue).utc();\n            applyValue({ ...item, value: newValue });\n            return;\n        }\n        if (!isValidDate(newValue)) {\n            applyValue({ ...item, value: null });\n            return;\n        }\n        applyValue({ ...item, value: newValue.format(filterFormat) });\n    };\n    const getMonthAbbreviation = (format) => {\n        if (format && format === fixedFilterFormat.OverrideDateFormat) {\n            const parts = format.split('-');\n            return parts.length === 3 ? parts[1] : null;\n        }\n    };\n    const ComponentToRender = componentMap[columnType];\n    const Dateformatvalue = columnType === \"dateTimeLocal\"\n        ? item?.value ? dayjs(item?.value.$d) : null\n        : item?.value ? dayjs(item.value) : null;\n    return (\n        <LocalizationProvider dateAdapter={AdapterDayjs}>\n            <ComponentToRender\n                fullWidth\n                format={format}\n                value={Dateformatvalue}\n                onChange={handleFilterChange}\n                slotProps={{\n                    textField: {\n                        variant: \"standard\", label: props.label,\n                        sx: {\n                            marginTop: DATEPICKER_MARGIN_TOP,\n                            marginBottom: DATEPICKER_MARGIN_BOTTOM\n                        }\n                    }\n                }}\n                localeText={{\n                    fieldMonthPlaceholder: () => {\n                        const monthAbbreviation = getMonthAbbreviation(format);\n                        return monthAbbreviation === \"MMM\" ? 'MMM' : 'MM';\n                    }\n                }}\n            />\n        </LocalizationProvider>\n    );\n};\n\nconst localizedDateFormat = (colProps) => getGridDateOperators().map((operator) => ({\n    ...operator,\n    InputComponent: operator.InputComponent\n        ? (props) => <LocalizedDatePicker {...props} {...colProps} />\n        : undefined\n}));\n\nexport default localizedDateFormat;","import React, { useMemo, useCallback } from 'react';\nimport {\n    useGridSelector,\n    gridFilterModelSelector\n} from '@mui/x-data-grid-premium';\n\nimport { FormControl, InputLabel, MenuItem, Select } from '@mui/material';\n\nconst GridOperators = {\n    IsAnyOf: 'isAnyOf'\n};\n\nconst CustomDropdownMenu = (props) => {\n    const { column, item, applyValue, apiRef } = props;\n    const lookupData = column?.dataRef?.current?.lookups;\n    let options = column.customLookup || lookupData[column.lookup] || [];\n\n    if (typeof column.lookup === 'string') {\n        options = options.map(({ label, value }) => ({\n            label,\n            value\n        }));\n    }\n\n    const filterModel = useGridSelector(apiRef, gridFilterModelSelector);\n    const currentFieldFilters = useMemo(\n        () =>\n            filterModel.items?.filter((value) => {\n                return value.field === column.field;\n            }),\n        [column.field, filterModel.items]\n    );\n\n    const handleFilterChange = useCallback(\n        (event) => {\n            let inputValue = event.target.value;\n            if (filterModel.items.length >= 1) {\n                inputValue = inputValue.length === 1 ? inputValue[0] : inputValue;\n\n                for (const element of filterModel.items) {\n                    if (element.field !== item.field) {\n                        continue;\n                    }\n                    if (element.operator === GridOperators.IsAnyOf) {\n                        inputValue = Array.isArray(inputValue) ? inputValue : [inputValue];\n                    } else {\n                        inputValue = inputValue === 0 ? '0' : inputValue;\n                    }\n                }\n            }\n\n            if (inputValue.length === 0 && currentFieldFilters[0]) {\n                apiRef.current.deleteFilterItem(currentFieldFilters[0]);\n                return;\n            }\n\n            const newValue = inputValue;\n            const newitem = currentFieldFilters[0] ? currentFieldFilters[0] : item;\n            applyValue({ ...newitem, value: newValue });\n        },\n        [apiRef, column.applyZeroFilter, currentFieldFilters, item, applyValue]\n    );\n\n    const value = currentFieldFilters[0]?.value ?? '';\n\n    return (\n        <FormControl variant=\"standard\" className=\"w-100\">\n            <Select\n                label={column.field}\n                variant=\"standard\"\n                value={value}\n                onChange={(e) => handleFilterChange(e)}\n                multiple={Array.isArray(value)}\n                MenuProps={{\n                    PaperProps: {\n                        style: {\n                            height: 'fit-content',\n                            overflow: 'hidden'\n                        }\n                    }\n                }}\n            >\n                {options?.map((option, index) => (\n                    <MenuItem key={index} value={option.value}>\n                        {option.label}\n                    </MenuItem>\n                ))}\n            </Select>\n        </FormControl>\n    );\n};\n\nexport default CustomDropdownMenu;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport CloseIcon from '@mui/icons-material/Close';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport SaveIcon from '@mui/icons-material/Save';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport AddIcon from '@mui/icons-material/Add';\nimport { Box, Button, Checkbox, FormControlLabel, Grid, List, ListItem, ListItemButton, ListItemText, Menu, MenuItem, Stack, TextField, Typography, Tooltip, ListItemIcon } from '@mui/material';\nimport { DataGridPremium, GridActionsCellItem, useGridApiRef } from '@mui/x-data-grid-premium';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport { useSnackbar } from '../SnackBar';\nimport { useTranslation } from 'react-i18next';\nimport request, { DATA_PARSERS } from './httpRequest';\nimport { useStateContext } from '../useRouter/StateProvider';\nimport { DialogComponent } from '../Dialog';\n\nconst actionTypes = {\n    Edit: \"Edit\",\n    Delete: \"Delete\"\n};\n\nconst DIALOG_TYPES = {\n    ADD: \"Add\",\n    EDIT: \"Edit\",\n    MANAGE: \"Manage\",\n    NONE: null\n};\n\nconst gridColumns = [\n    { field: \"prefName\", type: 'string', width: 300, headerName: \"Preference Name\", sortable: false, filterable: false },\n    { field: \"prefDesc\", type: 'string', width: 300, headerName: \"Preference Description\", sortable: false, filterable: false },\n    { field: \"isDefault\", type: \"boolean\", width: 100, headerName: \"Default\", sortable: false, filterable: false },\n    { field: 'editAction', type: 'actions', headerName: '', width: 20, getActions: () => [<GridActionsCellItem key={1} icon={<Tooltip title={actionTypes.Edit}><EditIcon /></Tooltip>} tabIndex={1} data-action={actionTypes.Edit} label=\"Edit\" color=\"primary\" />] },\n    { field: 'deleteAction', type: 'actions', headerName: '', width: 20, getActions: () => [<GridActionsCellItem key={2} icon={<Tooltip title={actionTypes.Delete}><DeleteIcon /></Tooltip>} tabIndex={2} data-action={actionTypes.Delete} label=\"Delete\" color=\"error\" />] }\n];\n\nconst initialValues = {\n    prefName: '',\n    prefDesc: '',\n    isDefault: false\n};\n\nconst paginationModel = { pageSize: 50, page: 0 };\n\nconst pageSizeOptions = [5, 10, 20, 50, 100];\n\nconst GridPreferences = ({ gridRef, preferenceKey, onPreferenceChange, t, tOpts }) => {\n    const { getApiEndpoint } = useStateContext();\n    const preferenceApi = getApiEndpoint(\"GridPreferenceManager\");\n    const apiRef = useGridApiRef();\n    const snackbar = useSnackbar();\n    //const { t } = useTranslation(); // To do: to fix useTranslation directly in next release\n    const [dialogState, setDialogState] = useState(DIALOG_TYPES.NONE);\n    const [menuAnchorEl, setMenuAnchorEl] = useState(null);\n    const [openPreferenceExistsModal, setOpenPreferenceExistsModal] = useState(false);\n    const [openConfirmDeleteDialog, setOpenConfirmDeleteDialog] = useState({});\n    const [preferences, setPreferences] = useState(null);\n    const [currentPreference, setCurrentPreference] = useState(null);\n\n    // Filter out the default preference (prefId === 0) for the management grid\n    const nonDefaultPreferences = useMemo(() =>\n        preferences == null ? [] : preferences.filter(pref => pref.prefId !== 0),\n        [preferences]\n    );\n\n    const validationSchema = useMemo(() =>\n        yup.object({\n            prefName: yup.string().trim(true).required(t('Preference Name is Required', tOpts)).max(20, t('Maximum Length is ', tOpts) + '20'),\n            prefDesc: yup.string().max(100, t('Maximum Length is ', tOpts) + '100')\n        }), [t, tOpts]);\n\n    const handleOpen = (event) => setMenuAnchorEl(event?.currentTarget);\n    const handleClose = () => setMenuAnchorEl(null);\n    const handleDialogClose = () => {\n        setDialogState(DIALOG_TYPES.NONE);\n        handleClose();\n    };\n\n    const resetToDefault = () => {\n        if (gridRef.current?.initialGridState) {\n            gridRef.current.restoreState(gridRef.current.initialGridState);\n            setCurrentPreference(null);\n            if (onPreferenceChange) onPreferenceChange(null);\n            handleClose();\n        }\n    };\n\n    // Only memoize functions used in useEffect dependencies\n    const loadPreferences = useCallback(async ({ applyDefault = false }) => {\n        const response = await request({\n            url: preferenceApi,\n            params: { action: 'list', id: preferenceKey },\n            dataParser: DATA_PARSERS.json\n        });\n        \n        if (!response?.preferences) {\n            snackbar.showMessage(t('Failed to load preferences.', tOpts));\n            if (onPreferenceChange) onPreferenceChange(null);\n            return;\n        }\n\n        const preferences = response.preferences.filter(pref => pref.prefName.trim() !== '');\n        \n        setPreferences(preferences);\n        \n        if (applyDefault) {\n            const defaultPref = preferences.find(pref => pref.isDefault);\n            if (defaultPref) {\n                return { defaultPrefId: defaultPref.prefId, preferences };\n            } else {\n                if (onPreferenceChange) onPreferenceChange(null);\n            }\n        }\n        \n        return { preferences };\n    }, [preferenceApi, preferenceKey, snackbar, t, tOpts, onPreferenceChange]);\n\n    const applyPreference = useCallback(async (prefId, preferencesArray = null) => {\n        // Store initial state before applying first preference\n        if (!gridRef.current?.initialGridState && gridRef.current?.exportState) {\n            gridRef.current.initialGridState = gridRef.current.exportState();\n        }\n\n        if (prefId === 0) {\n            resetToDefault();\n            return;\n        }\n\n        // Use provided preferences array or fall back to state\n        const prefsToSearch = preferencesArray || preferences;\n        if (!prefsToSearch) {\n            snackbar.showMessage(t('Preferences not loaded yet.', tOpts));\n            return;\n        }\n\n        const preference = prefsToSearch.find(ele => ele.prefId === prefId);\n        if (!preference?.prefValue) {\n            snackbar.showMessage(t('Failed to load preference.', tOpts));\n            return;\n        }\n\n        let gridState;\n        try {\n            gridState = typeof preference.prefValue === 'string' ? JSON.parse(preference.prefValue) : preference.prefValue;\n        } catch (error) {\n            snackbar.showMessage(t('Failed to parse preference data.', tOpts));\n            return;\n        }\n\n        gridRef.current.restoreState(gridState);\n        setCurrentPreference(preference.prefName);\n        if (onPreferenceChange) onPreferenceChange(preference.prefName);\n        handleClose();\n    }, [gridRef, resetToDefault, preferences, onPreferenceChange, snackbar, t, tOpts]);\n\n    const savePreference = async (values) => {\n        const prefName = values.prefName.trim();\n        const caseInsensitivePrefName = prefName.toLocaleLowerCase();\n\n        if (preferences.find(ele => ele.prefName.toLocaleLowerCase() === caseInsensitivePrefName && ele.prefId !== values.prefId)) {\n            setOpenPreferenceExistsModal(true);\n            return;\n        }\n\n        const response = await request({ \n            url: preferenceApi, \n            params: {\n                action: 'save',\n                id: preferenceKey,\n                prefId: values.prefId,\n                prefName,\n                prefDesc: values.prefDesc,\n                prefValue: JSON.stringify(gridRef.current.exportState()),\n                isDefault: values.isDefault\n            },\n            dataParser: DATA_PARSERS.json \n        });\n\n        if (response === true || response?.success === true) {\n            snackbar.showMessage(t(`Preference ${dialogState === DIALOG_TYPES.ADD ? \"added\" : \"saved\"} successfully.`, tOpts));\n            handleDialogClose();\n            await loadPreferences({ applyDefault: false });\n            return;\n        }\n\n        snackbar.showMessage(t('Error saving preference: ', tOpts) + (response?.message || t('Unknown error', tOpts)));\n    };\n\n    const deletePreference = async () => {\n        const response = await request({ \n            url: preferenceApi, \n            params: {\n                action: 'delete',\n                id: preferenceKey,\n                prefIdArray: openConfirmDeleteDialog.prefId\n            },\n            dataParser: DATA_PARSERS.json \n        });\n\n        if (response === true || response?.success === true) {\n            snackbar.showMessage(t('Preference deleted successfully.', tOpts));\n            await loadPreferences({ applyDefault: false });\n            setOpenConfirmDeleteDialog({});\n            return;\n        }\n\n        snackbar.showMessage(t('Error deleting preference: ', tOpts) + (response?.message || t('Unknown error', tOpts)));\n    };\n\n    const onCellClick = (cellParams) => {\n        const action = cellParams.field === 'editAction' ? actionTypes.Edit : cellParams.field === 'deleteAction' ? actionTypes.Delete : null;\n        if (cellParams.id === 0 && action) {\n            snackbar.showMessage(t(`Default preference cannot be ${action === actionTypes.Edit ? 'edited' : 'deleted'}`, tOpts));\n            return;\n        }\n        if (action === actionTypes.Edit) {\n            setDialogState(DIALOG_TYPES.EDIT);\n            formik.setValues(cellParams?.row);\n        }\n        if (action === actionTypes.Delete) {\n            setOpenConfirmDeleteDialog({\n                prefId: cellParams.id,\n                preferenceName: cellParams.row.prefName\n            });\n        }\n    };\n\n    const openDialog = (type) => {\n        setDialogState(type);\n        handleClose();\n        if (type === DIALOG_TYPES.ADD) {\n            formik.resetForm();\n        }\n    };\n\n    const formik = useFormik({\n        initialValues,\n        validationSchema,\n        onSubmit: savePreference,\n        mode: \"onBlur\"\n    });\n\n    // Load preferences on mount\n    useEffect(() => {\n        if (!preferenceKey) return;\n        \n        const loadAndApply = async () => {\n            const result = await loadPreferences({ applyDefault: true });\n            if (result?.defaultPrefId && result?.preferences) {\n                await applyPreference(result.defaultPrefId, result.preferences);\n            }\n        };\n        \n        loadAndApply();\n    }, [preferenceKey]);\n\n    const isManageDialog = dialogState === DIALOG_TYPES.MANAGE;\n    const isFormDialog = dialogState === DIALOG_TYPES.ADD || dialogState === DIALOG_TYPES.EDIT;\n\n    return (\n        <Box>\n            <Button\n                id=\"grid-preferences-btn\"\n                aria-controls={menuAnchorEl ? 'basic-menu' : undefined}\n                aria-haspopup=\"true\"\n                aria-expanded={menuAnchorEl ? 'true' : undefined}\n                onClick={handleOpen}\n                title={t('Preference', tOpts)}\n                startIcon={<SettingsIcon />}\n            >\n                {t('Preferences', tOpts)} {currentPreference && `(${currentPreference})`}\n            </Button>\n            <Menu\n                id={`grid-preference-menu`}\n                anchorEl={menuAnchorEl}\n                open={!!menuAnchorEl}\n                onClose={handleClose}\n                component={List}\n                dense\n                MenuListProps={{\n                    'aria-labelledby': 'grid-preferences-btn'\n                }}\n                sx={{\n                    '& .MuiMenu-paper': { minWidth: 240, maxHeight: 320 },\n                    '& .MuiListItemSecondaryAction-root': {\n                        display: 'flex'\n                    },\n                    '& .Mui-selected': {\n                        color: 'text.primary',\n                        '&:hover': {\n                            backgroundColor: 'success.main'\n                        }\n                    }\n                }}\n            >\n                <MenuItem component={ListItemButton} dense onClick={() => openDialog(DIALOG_TYPES.ADD)}>\n                    <ListItemIcon>\n                        <AddIcon />\n                    </ListItemIcon>\n                    {t('Add Preference', tOpts)}\n                </MenuItem>\n                <MenuItem component={ListItemButton} dense onClick={() => openDialog(DIALOG_TYPES.MANAGE)}>\n                    <ListItemIcon>\n                        <SettingsIcon />\n                    </ListItemIcon>\n                    {t('Manage Preferences', tOpts)}\n                </MenuItem>\n                {gridRef.current?.initialGridState && (\n                    <MenuItem component={ListItemButton} dense divider={preferences?.length > 0} onClick={() => applyPreference(0)}>\n                        <ListItemIcon>\n                            <RefreshIcon />\n                        </ListItemIcon>\n                        {t('Reset to Default', tOpts)}\n                    </MenuItem>\n                )}\n\n                {preferences?.length > 0 && preferences?.map((ele) => {\n                    const { prefName, prefDesc, prefId } = ele;\n                    return (\n                        <MenuItem\n                            onClick={() => applyPreference(prefId)}\n                            component={ListItem}\n                            selected={currentPreference === prefName}\n                            key={`pref-item-${prefId}`}\n                            title={t(prefDesc, tOpts)}\n                            dense\n                        >\n                            <ListItemText primary={prefName} />\n                        </MenuItem>\n                    );\n                })}\n            </Menu>\n            <DialogComponent\n                open={dialogState !== DIALOG_TYPES.NONE}\n                disableRestoreFocus\n                title={\n                    <Typography variant=\"h5\">\n                        {dialogState} {t(isManageDialog ? 'Preferences' : 'Preference', tOpts)}\n                    </Typography>\n                }\n                maxWidth={isManageDialog ? 'md' : 'sm'}\n                fullWidth\n            >\n                {isFormDialog && (\n                    <Grid\n                        component={'form'}\n                        onSubmit={formik.handleSubmit}\n                        rowGap={2}\n                        container\n                        sx={{\n                            '& .MuiFormLabel-root:not(.MuiTypography-root)': {\n                                fontWeight: 400,\n                                display: 'table',\n                                whiteSpace: 'pre-wrap' /* css-3 */,\n                                wordWrap: 'break-word' /* Internet Explorer 5.5+ */\n                            }\n                        }}\n                    >\n                        <Grid size={12}>\n                            <TextField\n                                value={formik.values.prefName}\n                                variant=\"outlined\"\n                                size=\"small\"\n                                margin=\"dense\"\n                                label={\n                                    <span>\n                                        {t('Preference Name', tOpts)} <span style={{ color: 'red' }}>*</span>\n                                    </span>\n                                }\n                                autoFocus\n                                name=\"prefName\"\n                                onChange={formik.handleChange}\n                                error={!!formik.errors.prefName}\n                                helperText={formik.errors.prefName}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid size={12}>\n                            <TextField\n                                value={formik.values.prefDesc}\n                                variant=\"outlined\"\n                                multiline\n                                rows={2}\n                                size=\"small\"\n                                margin=\"dense\"\n                                label={t('Preference Description', tOpts)}\n                                name=\"prefDesc\"\n                                onChange={formik.handleChange}\n                                error={!!formik.errors.prefDesc}\n                                helperText={formik.errors.prefDesc}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid size={12}>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        checked={formik.values.isDefault}\n                                        name=\"isDefault\"\n                                        onChange={formik.handleChange}\n                                    />\n                                }\n                                label={t('Default', tOpts)}\n                            />\n                        </Grid>\n                        <Grid size={12}>\n                            <Stack direction=\"row\" columnGap={1} style={{ justifyContent: 'end' }}>\n                                <Button\n                                    type=\"submit\"\n                                    size=\"small\"\n                                    startIcon={<SaveIcon />}\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    disableElevation\n                                >\n                                    {t('Save', tOpts)}\n                                </Button>\n                                <Button\n                                    type=\"button\"\n                                    startIcon={<CloseIcon />}\n                                    color=\"error\"\n                                    variant=\"contained\"\n                                    size=\"small\"\n                                    onClick={handleDialogClose}\n                                    disableElevation\n                                >\n                                    {t('Close', tOpts)}\n                                </Button>\n                            </Stack>\n                        </Grid>\n                    </Grid>\n                )}\n\n                {isManageDialog && (\n                    <Grid container rowGap={2}>\n                        <Grid size={12}>\n                            <DataGridPremium\n                                sx={{\n                                    \"& .MuiTablePagination-selectLabel\": {\n                                        marginTop: 2\n                                    },\n                                    \"& .MuiTablePagination-displayedRows\": {\n                                        marginTop: 2\n                                    },\n                                    \"& .MuiDataGrid-columnHeader .MuiInputLabel-shrink\": {\n                                        display: \"none\"\n                                    }\n                                }}\n                                className=\"pagination-fix\"\n                                onCellClick={onCellClick}\n                                columns={gridColumns}\n                                pageSizeOptions={pageSizeOptions}\n                                pagination\n                                rowCount={nonDefaultPreferences.length}\n                                rows={nonDefaultPreferences}\n                                getRowId={(row) => row['GridPreferenceId']}\n                                slots={{\n                                    headerFilterMenu: false\n                                }}\n                                density=\"compact\"\n                                disableDensitySelector={true}\n                                apiRef={apiRef}\n                                disableAggregation={true}\n                                disableRowGrouping={true}\n                                disableRowSelectionOnClick={true}\n                                initialState={{\n                                    pagination: {\n                                        paginationModel\n                                    }\n                                }}\n                            />\n                        </Grid>\n                        <Grid size={12}>\n                            <Stack direction=\"row\" columnGap={1} style={{ justifyContent: 'end' }}>\n                                <Button\n                                    type=\"button\"\n                                    startIcon={<CloseIcon />}\n                                    color=\"error\"\n                                    variant=\"contained\"\n                                    size=\"small\"\n                                    onClick={handleDialogClose}\n                                    disableElevation\n                                >\n                                    {t('Close', tOpts)}\n                                </Button>\n                            </Stack>\n                        </Grid>\n                    </Grid>\n                )}\n            </DialogComponent>\n            <DialogComponent\n                open={openPreferenceExistsModal}\n                onConfirm={() => setOpenPreferenceExistsModal(false)}\n                title=\"\"\n                okText={t('Ok', tOpts)}\n                cancelText=\"\"\n            >\n                \"{formik.values.prefName.trim()}\": {t('name already in use, please use another name.', tOpts)}\n            </DialogComponent>\n            <DialogComponent\n                open={!!openConfirmDeleteDialog.preferenceName}\n                onConfirm={deletePreference}\n                onCancel={() => setOpenConfirmDeleteDialog({})}\n                title={t('Confirm delete', tOpts)}\n                yesNo={true}\n            >\n                {t('Are you sure you wish to delete', tOpts)} \"{openConfirmDeleteDialog.preferenceName}\"?\n            </DialogComponent>\n        </Box>\n    );\n};\n\n\nexport default GridPreferences;","import MenuItem from '@mui/material/MenuItem';\nimport Box from '@mui/material/Box';\nimport { GridToolbarExportContainer } from '@mui/x-data-grid-premium';\nimport { GridOn, Code, Language, TableChart, DataObject as DataObjectIcon } from '@mui/icons-material';\nimport React from 'react';\n\n// Helper to convert default sort string to array\nexport const convertDefaultSort = (defaultSort, constants, sortRegex) => {\n    if (typeof defaultSort !== constants.string) return [];\n    return defaultSort.split(',').map(sortField => {\n        sortRegex.lastIndex = 0;\n        const sortInfo = sortRegex.exec(sortField);\n        if (!sortInfo) return null;\n        const [, field, direction = 'ASC'] = sortInfo;\n        return {\n            field: field.trim(),\n            sort: direction.trim().toLowerCase()\n        };\n    }).filter(Boolean);\n};\n\n// Export menu item component\nexport const ExportMenuItem = ({ tTranslate, tOpts, handleExport, contentType, type, isPivotExport = false, icon }) => (\n    <MenuItem\n        onClick={handleExport}\n        data-type={type}\n        data-content-type={contentType}\n        data-is-pivot-export={isPivotExport}\n    >\n        <Box className=\"grid-icons\" sx={{ pointerEvents: 'none', marginTop: 1 }}>{icon}</Box>\n        {tTranslate(type, tOpts)}\n    </MenuItem>\n);\n\n// Custom export button component\nexport const CustomExportButton = ({ exportFormats, ...props }) => (\n    <GridToolbarExportContainer {...props}>\n        {exportFormats.csv !== false && <ExportMenuItem {...props} icon={<GridOn fontSize=\"small\" />} type=\"CSV\" contentType=\"text/csv\" />}\n        {exportFormats.excel !== false && <ExportMenuItem {...props} icon={<TableChart fontSize=\"small\" />} type=\"Excel\" contentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" />}\n        {props.showPivotExportBtn && <ExportMenuItem {...props} icon={<TableChart fontSize=\"small\" />} type=\"Excel With Pivot\" contentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" isPivotExport={true} />}\n        {exportFormats.xml !== false && <ExportMenuItem {...props} icon={<Code fontSize=\"small\" />} type=\"XML\" contentType=\"text/xml\" />}\n        {exportFormats.html !== false && <ExportMenuItem {...props} icon={<Language fontSize=\"small\" />} type=\"HTML\" contentType=\"text/html\" />}\n        {exportFormats.json !== false && <ExportMenuItem {...props} icon={<DataObjectIcon fontSize=\"small\" />} type=\"JSON\" contentType=\"application/json\" />}\n    </GridToolbarExportContainer>\n);\n\n// Get default operator based on column type\nexport const getDefaultOperator = (type, customOperator) => {\n    if (customOperator) return customOperator;\n    switch (type) {\n        case 'string':\n            return 'startsWith';\n        case 'number':\n            return '=';\n        case 'date':\n        case 'dateTime':\n            return 'is';\n        case 'boolean':\n            return 'is';\n        case 'select':\n        case 'lookup':\n            return 'isAnyOf';\n        default:\n            return 'startsWith';\n    }\n};\n\n// Shallow props comparison\nexport const areEqual = (prevProps = {}, nextProps = {}) => {\n    let equal = true;\n    for (const o in prevProps) {\n        if (prevProps[o] !== nextProps[o]) {\n            equal = false;\n        }\n    }\n    for (const o in nextProps) {\n        if (!(o in prevProps)) {\n            equal = false;\n        }\n    }\n    return equal;\n};","import React, { useCallback, useMemo } from 'react';\nimport { TextField, FormControl, Select, MenuItem, InputLabel } from '@mui/material';\nimport { DatePicker, DateTimePicker } from '@mui/x-date-pickers';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport dayjs from 'dayjs';\nimport utcPlugin from 'dayjs/plugin/utc.js';\nimport { useStateContext } from '../useRouter/StateProvider';\nimport utils from '../utils';\nimport { getDefaultOperator } from './helper';\n\ndayjs.extend(utcPlugin);\n\nconst ToolbarFilter = ({\n    column,\n    filterModel,\n    setFilterModel,\n    lookupData,\n    tTranslate,\n    tOpts\n}) => {\n    const { systemDateTimeFormat, stateData } = useStateContext();\n    const { fixedFilterFormat } = utils;\n\n    // Find existing filter for this column\n    const existingFilter = useMemo(() => {\n        return filterModel?.items?.find(item => item.field === column.field);\n    }, [filterModel, column.field]);\n\n    // Get current filter value\n    // If there's an existing filter, use its value (even if it's falsy like 0, false, \"\")\n    const filterValue = useMemo(() => {\n        if (!existingFilter) {\n            // For multi-select fields, default to empty array\n            const isMultiple = column.toolbarFilter?.defaultOperator === 'isAnyOf';\n            return isMultiple ? [] : '';\n        }\n        return existingFilter.value;\n    }, [existingFilter, column.toolbarFilter?.defaultOperator]);\n    // Handle filter change - use functional update to avoid filterModel dependency\n    const handleFilterChange = useCallback((newValue) => {\n        const operator = column.toolbarFilter?.defaultOperator || getDefaultOperator(column.type);\n        \n        setFilterModel((prevFilterModel) => {\n            const currentItems = prevFilterModel?.items || [];\n\n            // If value is empty, remove filter\n            if (newValue === '' || newValue === null || (Array.isArray(newValue) && newValue.length === 0)) {\n                const newItems = currentItems.filter((item) => item.field !== column.field);\n                return {\n                    ...prevFilterModel,\n                    items: newItems,\n                };\n            }\n\n            // Update or add filter\n            const newFilter = {\n                field: column.field,\n                operator: operator,\n                value: newValue,\n                type: column.type,\n            };\n\n            const otherFilters = currentItems.filter((item) => item.field !== column.field);\n            return {\n                ...prevFilterModel,\n                items: [...otherFilters, newFilter],\n            };\n        });\n    }, [column, setFilterModel]);\n\n    // Get operator label/symbol for display\n    const getOperatorLabel = useCallback((operator, type) => {\n        // For number operators, use symbols\n        if (type === 'number') {\n            const symbolMap = {\n                '=': '=',\n                '!=': '≠',\n                '>': '>',\n                '>=': '≥',\n                '<': '<',\n                '<=': '≤'\n            };\n            return symbolMap[operator] || operator;\n        }\n        \n        // For string operators, use verbose labels for non-obvious ones\n        // Note: 'startsWith' is included for completeness but won't be displayed\n        // due to shouldShowOperator logic below (it's the default and doesn't need a label)\n        if (type === 'string') {\n            const labelMap = {\n                'contains': 'contains',\n                'equals': 'exact match',\n                'startsWith': 'starts with',\n                'endsWith': 'ends with',\n                'isEmpty': 'is empty',\n                'isNotEmpty': 'is not empty'\n            };\n            return labelMap[operator] || operator;\n        }\n        \n        // For other types, return the operator as-is or a readable version\n        const labelMap = {\n            'is': 'is',\n            'not': 'is not',\n            'isAnyOf': 'any of',\n            'after': 'after',\n            'onOrAfter': 'on or after',\n            'before': 'before',\n            'onOrBefore': 'on or before'\n        };\n        return labelMap[operator] || operator;\n    }, []);\n\n    // Render based on column type\n    const renderFilterInput = () => {\n        const baseLabel = column.toolbarFilter?.label || column.headerName || column.label || column.field;\n        const operator = column.toolbarFilter?.defaultOperator || getDefaultOperator(column.type);\n        const operatorLabel = getOperatorLabel(operator, column.type);\n        \n        // For number fields, prepend operator symbol. For others, append operator text if verbose\n        const shouldShowOperator = column.type === 'number' || (column.type === 'string' && operator !== 'startsWith');\n        const label = shouldShowOperator \n            ? (column.type === 'number' ? `${operatorLabel} ${baseLabel}` : `${baseLabel} (${operatorLabel})`)\n            : baseLabel;\n\n        switch (column.type) {\n            case 'string':\n                return (\n                    <TextField\n                        variant=\"standard\"\n                        label={tTranslate(label, tOpts)}\n                        value={filterValue}\n                        onChange={(e) => handleFilterChange(e.target.value)}\n                        type=\"text\"\n                        size=\"small\"\n                        sx={{ minWidth: 150 }}\n                    />\n                );\n\n            case 'number':\n                return (\n                    <TextField\n                        variant=\"standard\"\n                        label={tTranslate(label, tOpts)}\n                        value={filterValue}\n                        onChange={(e) => handleFilterChange(e.target.value)}\n                        type=\"text\"\n                        inputProps={{ inputMode: 'numeric' }}\n                        size=\"small\"\n                        sx={{ minWidth: 150 }}\n                    />\n                );\n\n            case 'boolean': {\n                const booleanSelectValue =\n                    filterValue === '' || filterValue === undefined || filterValue === null\n                        ? ''\n                        : filterValue === true || filterValue === 'true'\n                            ? 'true'\n                            : filterValue === false || filterValue === 'false'\n                                ? 'false'\n                                : '';\n\n                return (\n                    <FormControl variant=\"standard\" sx={{ minWidth: 150 }}>\n                        <InputLabel>{tTranslate(label, tOpts)}</InputLabel>\n                        <Select\n                            value={booleanSelectValue}\n                            onChange={(e) => {\n                                const val = e.target.value;\n                                let newValue;\n                                if (val === '') {\n                                    newValue = '';\n                                } else if (val === 'true') {\n                                    newValue = true;\n                                } else if (val === 'false') {\n                                    newValue = false;\n                                } else {\n                                    newValue = val;\n                                }\n                                handleFilterChange(newValue);\n                            }}\n                            size=\"small\"\n                        >\n                            <MenuItem value=\"\">{tTranslate('All', tOpts)}</MenuItem>\n                            <MenuItem value=\"true\">{tTranslate('True', tOpts)}</MenuItem>\n                            <MenuItem value=\"false\">{tTranslate('False', tOpts)}</MenuItem>\n                        </Select>\n                    </FormControl>\n                );\n            }\n\n            case 'select':\n            case 'singleSelect':\n            case 'lookup':\n                const options = column.customLookup || lookupData?.[column.lookup] || [];\n                const normalizedOptions = typeof column.lookup === 'string'\n                    ? options.map((option) => ({\n                        label: option?.label || '',\n                        value: option?.value ?? ''\n                    }))\n                    : options;\n\n                const isMultiple = existingFilter?.operator === 'isAnyOf' || column.toolbarFilter?.defaultOperator === 'isAnyOf';\n\n                return (\n                    <FormControl variant=\"standard\" sx={{ minWidth: 150 }}>\n                        <InputLabel>{tTranslate(label, tOpts)}</InputLabel>\n                        <Select\n                            value={filterValue}\n                            onChange={(e) => handleFilterChange(e.target.value)}\n                            multiple={isMultiple}\n                            size=\"small\"\n                        >\n                            {normalizedOptions.map((option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                );\n\n            case 'date':\n            case 'dateTime':\n                const columnType = column.type;\n                // Normalize column type for fixedFilterFormat lookup (dateTime -> datetime)\n                const normalizedType = columnType === 'dateTime' ? 'datetime' : columnType;\n                const filterFormat = fixedFilterFormat[normalizedType];\n                const format = systemDateTimeFormat(columnType !== 'dateTime', false, stateData.dateTime);\n                const DateComponent = columnType === 'dateTime' ? DateTimePicker : DatePicker;\n                \n                // Parse and validate date value once\n                let dateValue = null;\n                if (filterValue) {\n                    const parsedDate = dayjs(filterValue);\n                    dateValue = parsedDate.isValid() ? parsedDate : null;\n                }\n\n                return (\n                    <LocalizationProvider dateAdapter={AdapterDayjs}>\n                        <DateComponent\n                            label={tTranslate(label, tOpts)}\n                            format={format}\n                            value={dateValue}\n                            onChange={(newValue) => {\n                                if (!newValue || !newValue.isValid()) {\n                                    handleFilterChange(null);\n                                } else {\n                                    handleFilterChange(newValue.format(filterFormat));\n                                }\n                            }}\n                            slotProps={{\n                                textField: {\n                                    variant: \"standard\",\n                                    size: \"small\",\n                                    sx: { minWidth: 150 }\n                                }\n                            }}\n                        />\n                    </LocalizationProvider>\n                );\n\n            default:\n                return (\n                    <TextField\n                        variant=\"standard\"\n                        label={tTranslate(label, tOpts)}\n                        value={filterValue}\n                        onChange={(e) => handleFilterChange(e.target.value)}\n                        size=\"small\"\n                        sx={{ minWidth: 150 }}\n                    />\n                );\n        }\n    };\n\n    return renderFilterInput();\n};\n\nexport default ToolbarFilter;\n","import React from 'react';\nimport Button from '@mui/material/Button';\nimport {\n    Toolbar,\n    ColumnsPanelTrigger,\n    FilterPanelTrigger\n} from '@mui/x-data-grid-premium';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport Typography from '@mui/material/Typography';\nimport { Badge, Box } from \"@mui/material\";\nimport FilterListOffIcon from '@mui/icons-material/FilterListOff';\nimport ViewColumnIcon from '@mui/icons-material/ViewColumn';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport { styled } from '@mui/material/styles';\nimport GridPreferences from './GridPreference';\nimport ToolbarFilter from './ToolbarFilter';\nimport { CustomExportButton } from './helper';\n\nconst ButtonWithMargin = styled(Button)({\n    margin: '6px'\n});\n\nconst GridToolBar = styled(Toolbar)({\n    display: 'flex',\n    alignItems: 'center',\n    gap: '1.5rem',\n    flexWrap: 'nowrap',\n    whiteSpace: 'nowrap',\n    minHeight: 'auto',\n    borderBottom: 'none'\n});\n\nconst CustomToolbar = function (props) {\n    const {\n        model,\n        data,\n        currentPreference,\n        isReadOnly,\n        canAdd,\n        forAssignment,\n        showAddIcon,\n        onAdd,\n        selectionApi,\n        rowSelectionModel,\n        selectAll,\n        available,\n        onAssign,\n        assigned,\n        onUnassign,\n        effectivePermissions,\n        clearFilters,\n        handleExport,\n        preferenceKey,\n        apiRef,\n        tTranslate,\n        tOpts,\n        filterModel,\n        setFilterModel,\n        onPreferenceChange,\n        toolbarItems,\n        gridColumns\n    } = props;\n\n    const addText = model.customAddText || (model.title ? `Add ${model.title}` : 'Add');\n    const activeFilterCount = filterModel?.items?.length || 0;\n\n    // Get columns that should have toolbar filters\n    const toolbarFilterColumns = gridColumns?.filter(col => col.toolbarFilter) || [];\n    const lookupData = data?.lookups || {};\n    const records = data?.records || [];\n\n    return (\n        <>\n            <div\n                style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    padding: '10px'\n                }}\n            >\n                <div>\n                    {model.gridSubTitle && <Typography variant=\"h6\" component=\"h3\" textAlign=\"center\" sx={{ ml: 1 }}> {tTranslate(model.gridSubTitle, tOpts)}</Typography>}\n                    {currentPreference && model.showPreferenceInHeader && <Typography className=\"preference-name-text\" variant=\"h6\" component=\"h6\" textAlign=\"center\" sx={{ ml: 1 }} >{tTranslate('Applied Preference', tOpts)}: {currentPreference}</Typography>}\n                    {(isReadOnly || (!canAdd && !forAssignment)) && <Typography variant=\"h6\" component=\"h3\" textAlign=\"center\" sx={{ ml: 1 }} > {!canAdd || isReadOnly ? \"\" : model.title}</Typography>}\n                    {!forAssignment && canAdd && !isReadOnly && <ButtonWithMargin startIcon={!showAddIcon ? null : <AddIcon />} onClick={onAdd} size=\"medium\" variant=\"contained\" >{tTranslate(addText, tOpts)}</ButtonWithMargin>}\n                    {(selectionApi.length && records.length) ? (\n                        <ButtonWithMargin\n                            onClick={selectAll}\n                            size=\"medium\"\n                            variant=\"contained\"\n                        >\n                            {rowSelectionModel.ids.size === records.length ? tTranslate(\"Deselect All\", tOpts) : tTranslate(\"Select All\", tOpts)}\n                        </ButtonWithMargin>) :\n                        <></>\n                    }\n                    {available && <ButtonWithMargin startIcon={!showAddIcon ? null : <AddIcon />} onClick={onAssign} size=\"medium\" variant=\"contained\"  >{tTranslate(\"Assign\", tOpts)}</ButtonWithMargin>}\n                    {assigned && <ButtonWithMargin startIcon={!showAddIcon ? null : <RemoveIcon />} onClick={onUnassign} size=\"medium\" variant=\"contained\"  >{tTranslate(\"Remove\", tOpts)}</ButtonWithMargin>}\n                </div>\n                <GridToolBar {...props}>\n                    {effectivePermissions.showColumnsOrder && (\n                        <ColumnsPanelTrigger\n                            render={(triggerProps) => (\n                                <Button\n                                    {...triggerProps}\n                                    startIcon={<ViewColumnIcon />}\n                                    size=\"small\"\n                                    variant=\"text\"\n                                >\n                                    {tTranslate(\"COLUMNS\", tOpts)}\n                                </Button>\n                            )}\n                        />\n                    )}\n                    {effectivePermissions.filter && (<>\n                        <FilterPanelTrigger\n                            render={(triggerProps) => (\n                                <Button\n                                    {...triggerProps}\n                                    startIcon={\n                                        <Badge badgeContent={activeFilterCount} color=\"primary\">\n                                            <FilterListIcon />\n                                        </Badge>\n                                    }\n                                    size=\"small\"\n                                    variant=\"text\"\n                                >\n                                    {tTranslate(\"FILTERS\", tOpts)}\n                                </Button>\n                            )}\n                        />\n                        <Button startIcon={<FilterListOffIcon />} onClick={clearFilters} size=\"small\">{tTranslate(\"CLEAR FILTER\", tOpts)}</Button>\n                    </>)}\n\n                    {effectivePermissions.export && (\n                        <CustomExportButton handleExport={handleExport} showPivotExportBtn={model.pivotApi} exportFormats={model.exportFormats || {}} tTranslate={tTranslate} tOpts={tOpts} />\n                    )}\n                    {toolbarItems}\n                    {preferenceKey &&\n                        <GridPreferences\n                            gridRef={apiRef}\n                            preferenceKey={preferenceKey}\n                            onPreferenceChange={onPreferenceChange}\n                            t={tTranslate}\n                            tOpts={tOpts}\n                        />\n                    }\n                </GridToolBar>\n            </div >\n            <Box sx={{ display: 'flex', justifyContent: 'flex-start', padding: '0 10px 10px 10px' }}>\n                {toolbarFilterColumns.length > 0 && (\n                    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>\n                        {toolbarFilterColumns.map((column) => (\n                            <ToolbarFilter\n                                key={column.field}\n                                column={column}\n                                filterModel={filterModel}\n                                setFilterModel={setFilterModel}\n                                lookupData={lookupData}\n                                tTranslate={tTranslate}\n                                tOpts={tOpts}\n                            />\n                        ))}\n                    </div>\n                )}\n            </Box>\n          </>  \n    );\n};\n\nexport default CustomToolbar;\n","import {\n    DataGridPremium,\n    getGridDateOperators,\n    GRID_CHECKBOX_SELECTION_COL_DEF,\n    getGridStringOperators,\n    getGridBooleanOperators,\n    GridActionsCellItem,\n    useGridApiRef,\n    useGridApiContext,\n    useGridSelector,\n    gridRowSelectionStateSelector\n} from '@mui/x-data-grid-premium';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CopyIcon from '@mui/icons-material/FileCopy';\nimport ArticleIcon from '@mui/icons-material/Article';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { useMemo, useEffect, memo, useRef, useState, useCallback } from 'react';\nimport { useSnackbar } from '../SnackBar/index';\nimport { DialogComponent } from '../Dialog/index';\nimport { getList, getRecord, deleteRecord, saveRecord } from './crud-helper';\nimport { Footer } from './footer';\nimport template from './template';\nimport { Tooltip, Box } from \"@mui/material\";\nimport CheckIcon from '@mui/icons-material/Check';\nimport CloseIcon from '@mui/icons-material/Close';\nimport PageTitle from '../PageTitle';\nimport { useStateContext, useRouter } from '../useRouter/StateProvider';\nimport LocalizedDatePicker from './LocalizedDatePicker';\nimport actionsStateProvider from '../useRouter/actions';\nimport CustomDropdownMenu from './CustomDropdownMenu';\nimport CustomToolbar from './CustomToolbar';\nimport { getPermissions } from '../utils';\nimport HistoryIcon from '@mui/icons-material/History';\nimport FileDownloadIcon from '@mui/icons-material/FileDownload';\nimport Checkbox from '@mui/material/Checkbox';\nimport { useTranslation } from 'react-i18next';\nimport { convertDefaultSort, areEqual, getDefaultOperator } from './helper';\nimport { styled } from '@mui/material/styles';\n\nconst defaultPageSize = 50;\nconst sortRegex = /(\\w+)( ASC| DESC)?/i;\nconst recordCounts = 60000;\nconst actionTypes = {\n    Copy: \"Copy\",\n    Edit: \"Edit\",\n    Delete: \"Delete\",\n    History: \"History\",\n    Download: \"Download\"\n};\nconst iconMapper = {\n    'article': <ArticleIcon />,\n    'edit': <EditIcon />,\n    'copy': <CopyIcon />,\n    'delete': <DeleteIcon />,\n    'history': <HistoryIcon />,\n    'download': <FileDownloadIcon />,\n};\n\nconst constants = {\n    gridFilterModel: { items: [], logicOperator: 'and', quickFilterValues: Array(0), quickFilterLogicOperator: 'and' },\n    permissions: { edit: true, add: true, export: true, delete: true, showColumnsOrder: true, filter: true },\n    client: 'client',\n    server: 'server',\n    object: 'object',\n    startDate: 'startDate',\n    endDate: 'endDate',\n    oneToMany: 'oneToMany',\n    lookup: 'lookup',\n    Number: 'number',\n    string: 'string',\n    boolean: 'boolean',\n    right: 'right',\n    left: 'left',\n    dateTime: 'dateTime',\n    actions: 'actions',\n    function: 'function',\n    pageSizeOptions: [5, 10, 20, 50, 100],\n    defaultActionWidth: 50\n};\nconst auditColumnMappings = [\n    { key: 'addCreatedOnColumn', field: 'CreatedOn', type: 'dateTime', header: 'Created On' },\n    { key: 'addCreatedByColumn', field: 'CreatedByUser', type: 'string', header: 'Created By' },\n    { key: 'addModifiedOnColumn', field: 'ModifiedOn', type: 'dateTime', header: 'Modified On' },\n    { key: 'addModifiedByColumn', field: 'ModifiedByUser', type: 'string', header: 'Modified By' }\n];\nconst booleanIconRenderer = (params) => {\n    if (params.value) {\n        return <CheckIcon style={{ color: 'green' }} />;\n    } else {\n        return <CloseIcon style={{ color: 'gray' }} />;\n    }\n};\n\nconst DeleteContentText = styled('span')({\n    width: '100%',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n});\n\nconst CustomCheckBox = ({ params, handleSelectRow, idProperty }) => {\n    const apiRef = useGridApiContext();\n    const rowId = params.row[idProperty];\n    // useGridSelector subscribes to state changes and triggers re-render when selection updates\n    const selectionModel = useGridSelector(apiRef, gridRowSelectionStateSelector);\n    const isChecked = selectionModel?.ids?.has(rowId) ?? false;\n\n    const handleCheckboxClick = (event) => {\n        event.stopPropagation();\n        handleSelectRow({ row: params.row });\n    };\n\n    return (\n        <Checkbox\n            onClick={handleCheckboxClick}\n            checked={isChecked}\n            color=\"primary\"\n            value={rowId}\n            inputProps={{ 'aria-label': 'checkbox' }}\n        />\n    );\n};\n\nconst GridBase = memo(({\n    model,\n    columns,\n    api,\n    defaultSort,\n    setActiveRecord,\n    parentFilters,\n    parent,\n    where,\n    title,\n    showPageTitle,\n    permissions,\n    selected,\n    assigned,\n    available,\n    disableCellRedirect = false,\n    onAssignChange,\n    customStyle,\n    onCellClick,\n    showRowsSelected,\n    showFullScreenLoader,\n    customFilters,\n    onRowDoubleClick,\n    onRowClick = () => { },\n    gridStyle,\n    reRenderKey,\n    additionalFilters,\n    onCellDoubleClickOverride,\n    onAddOverride,\n    dynamicColumns,\n    toolbarItems,\n    readOnly = false,\n    onListParamsChange,\n    apiRef: propsApiRef,\n    baseFilters,\n    ...props\n}) => {\n    const [paginationModel, setPaginationModel] = useState({ pageSize: defaultPageSize, page: 0 });\n    const [data, setData] = useState({ recordCount: 0, records: null, lookups: {} });\n    const forAssignment = !!onAssignChange;\n    const rowsSelected = showRowsSelected;\n    // MUI v8: rowSelectionModel uses object format with type ('include'/'exclude') and ids (Set)\n    const [rowSelectionModel, setRowSelectionModel] = useState({\n        type: 'include',\n        ids: new Set()\n    });\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [record, setRecord] = useState(null);\n    const visibilityModel = { CreatedOn: false, CreatedByUser: false, ...model.columnVisibilityModel };\n    const [showAddConfirmation, setShowAddConfirmation] = useState(false);\n    const snackbar = useSnackbar();\n    const paginationMode = model.paginationMode === constants.client ? constants.client : constants.server;\n    const { t: translate, i18n } = useTranslation();\n    const tOpts = useMemo(() => ({ t: translate, i18n }), [translate, i18n]);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [sortModel, setSortModel] = useState(convertDefaultSort(defaultSort || model.defaultSort, constants, sortRegex));\n    const initialFilterModel = { items: [], logicOperator: 'and', quickFilterValues: Array(0), quickFilterLogicOperator: 'and' };\n    if (model.defaultFilters) {\n        initialFilterModel.items = [];\n        model.defaultFilters.forEach((ele) => {\n            initialFilterModel.items.push(ele);\n        });\n    }\n    const [filterModel, setFilterModel] = useState({ ...initialFilterModel });\n    const { navigate, getParams, useParams, pathname } = useRouter();\n    const { id: idWithOptions } = useParams() || getParams;\n    const id = idWithOptions?.split('-')[0];\n    const apiRef = propsApiRef || useGridApiRef();\n    const { idProperty = \"id\", showHeaderFilters = true, disableRowSelectionOnClick = true, hideTopFilters = true, updatePageTitle = true, isElasticScreen = false, navigateBack = false, selectionApi = {}, debounceTimeOut = 300 } = model;\n    const isReadOnly = model.readOnly === true || readOnly;\n    const isDoubleClicked = model.allowDoubleClick === false;\n    const dataRef = useRef(data);\n    const showAddIcon = model.showAddIcon === true;\n    const toLink = model.columns.filter(({ link }) => Boolean(link)).map(item => item.link);\n    const { stateData, dispatchData, formatDate, getApiEndpoint, buildUrl } = useStateContext();\n    const { timeZone } = stateData;\n    const effectivePermissions = useMemo(() => ({ ...constants.permissions, ...model.permissions, ...permissions }), [model.permissions, permissions]);\n    const emptyIsAnyOfOperatorFilters = [\"isEmpty\", \"isNotEmpty\", \"isAnyOf\"];\n    const userData = stateData.getUserData || {};\n    const documentField = model.columns.find(ele => ele.type === 'fileUpload')?.field || \"\";\n    const userDefinedPermissions = { add: effectivePermissions.add, edit: effectivePermissions.edit, delete: effectivePermissions.delete };\n    const { canAdd, canEdit, canDelete } = getPermissions({ userData, model, userDefinedPermissions });\n    const tTranslate = model.tTranslate ?? ((key) => key);\n    const { addUrlParamKey, searchParamKey, hideBreadcrumb = false, tableName, showHistory = true, hideBreadcrumbInGrid = false, breadcrumbColor, disablePivoting = false, columnHeaderHeight = 70 } = model;\n    const gridTitle = model.gridTitle || model.title;\n    const preferenceKey = getApiEndpoint(\"GridPreferenceManager\") ? (model.preferenceId || model.module?.preferenceId) : null;\n    const searchParams = new URLSearchParams(window.location.search);\n    const [currentPreference, setCurrentPreference] = useState(null);\n    const [preferencesReady, setPreferencesReady] = useState(!preferenceKey);\n    const backendApi = api || model.api;\n    // State for single expanded detail panel row\n    const [rowPanelId, setRowPanelId] = useState(null);\n    const detailPanelExpandedRowIds = useMemo(() => new Set(rowPanelId ? [rowPanelId] : []), [rowPanelId]);\n    const enableRowDetailPanel = typeof model.getDetailPanelContent === 'function';\n\n    useEffect(() => {\n        if (!apiRef.current) return;\n        // Store preferenceKey on apiRef for GridPreferences to access\n        apiRef.current.prefKey = preferenceKey;\n    }, [apiRef, preferenceKey]);\n\n    // Callback when preferences are loaded or changed\n    const onPreferenceChange = useCallback((preferenceName) => {\n        setCurrentPreference(preferenceName);\n        setPreferencesReady(true);\n    }, []);\n\n    const baseDataFromParams = searchParams.has('baseData') && searchParams.get('baseData');\n    const baseSaveData = useMemo(() => {\n        if (baseDataFromParams) {\n            try {\n                const parsedData = JSON.parse(baseDataFromParams);\n                if (typeof parsedData === constants.object && parsedData !== null) {\n                    return parsedData;\n                }\n            } catch (error) {\n                console.error('Failed to parse baseData from URL:', error);\n            }\n        }\n        return {};\n    }, [baseDataFromParams]);\n\n    const handleSelectRow = useCallback(({ row }) => {\n        const rowId = row[idProperty];\n        setRowSelectionModel(prevModel => {\n            const newIds = new Set(prevModel?.ids || []);\n            if (newIds.has(rowId)) {\n                newIds.delete(rowId);\n            } else {\n                newIds.add(rowId);\n            }\n            return { type: 'include', ids: newIds };\n        });\n    }, [idProperty]);\n\n    const gridColumnTypes = {\n        \"radio\": {\n            \"type\": \"singleSelect\",\n            \"valueOptions\": \"lookup\"\n        },\n        \"date\": {\n            \"valueFormatter\": (value) => (\n                formatDate({ value, useSystemFormat: true, showOnlyDate: false, state: stateData.dateTime, timeZone })\n            ),\n            \"filterOperators\": LocalizedDatePicker({ columnType: \"date\", label: tTranslate('Value', tOpts) })\n        },\n        \"dateTime\": {\n            \"valueFormatter\": (value) => (\n                formatDate({ value, useSystemFormat: false, showOnlyDate: false, state: stateData.dateTime, timeZone })\n            ),\n            \"filterOperators\": LocalizedDatePicker({ columnType: \"datetime\", label: tTranslate('Value', tOpts) })\n        },\n        \"dateTimeLocal\": {\n            \"valueFormatter\": (value) => (\n                formatDate({ value, useSystemFormat: false, showOnlyDate: false, state: stateData.dateTime, timeZone })\n            ),\n            \"filterOperators\": LocalizedDatePicker({ type: \"dateTimeLocal\", convert: true })\n        },\n        \"boolean\": {\n            renderCell: booleanIconRenderer\n        },\n        \"select\": {\n            \"type\": \"singleSelect\",\n            \"valueOptions\": \"lookup\"\n        },\n        \"selection\": {\n            renderCell: (params) => <CustomCheckBox params={params} handleSelectRow={handleSelectRow} idProperty={idProperty} />\n        }\n    };\n\n    useEffect(() => {\n        dataRef.current = data;\n    }, [data]);\n\n    useEffect(() => {\n        if (!customFilters || !Object.keys(customFilters).length) return;\n        if (customFilters.clear) {\n            setFilterModel({ items: [], logicOperator: \"and\", quickFilterValues: [], quickFilterLogicOperator: \"and\" });\n            return;\n        }\n        const items = Object.entries(customFilters).reduce((acc, [key, value]) => {\n            if (key === constants.startDate || key === constants.endDate) {\n                acc.push(value);\n            } else if (key in customFilters) {\n                acc.push({ field: key, value, operator: \"equals\", type: \"string\" });\n            }\n            return acc;\n        }, []);\n        setFilterModel({ items, logicOperator: \"and\", quickFilterValues: [], quickFilterLogicOperator: \"and\" });\n    }, [customFilters]);\n\n    const lookupOptions = useCallback(({ field, lookupMap: lookupMapParam }) => {\n        const lookupData = dataRef.current.lookups || {};\n        const map = lookupMapParam || {};\n        return lookupData[map[field]?.lookup] || [];\n    }, []);\n\n    useEffect(() => {\n        if (props.isChildGrid || !hideTopFilters) {\n            return;\n        }\n        dispatchData({\n            type: actionsStateProvider.PASS_FILTERS_TO_HEADER, payload: {\n                filterButton: null,\n                hidden: { search: true, operation: true, export: true, print: true, filter: true }\n            }\n        });\n    }, []);\n\n    const createAction = useCallback(\n        ({ key, title, icon, color = \"primary\", disabled, otherProps }) => (\n            <GridActionsCellItem\n                key={key}\n                icon={<Tooltip title={title}>{iconMapper[icon] || icon}</Tooltip>}\n                data-action={key}\n                label={title}\n                color={color}\n                disabled={disabled}\n                {...otherProps}\n            />\n        ),\n        []\n    );\n    const { customActions = [] } = model;\n    const actionConfig = useMemo(() => {\n        const actions = [];\n\n        if (!forAssignment && !isReadOnly) {\n            actions.push(\n                {\n                    key: actionTypes.Edit,\n                    title: \"Edit\",\n                    icon: 'edit',\n                    show: !!canEdit,\n                    disabled: row => row.canEdit === false\n                },\n                {\n                    key: actionTypes.Copy,\n                    title: \"Copy\",\n                    icon: 'copy',\n                    show: !!effectivePermissions.copy,\n                },\n                {\n                    key: actionTypes.Delete,\n                    title: \"Delete\",\n                    icon: 'delete',\n                    color: \"error\",\n                    show: !!canDelete,\n                },\n                {\n                    key: actionTypes.History,\n                    title: \"History\",\n                    icon: 'history',\n                    show: !!showHistory,\n                },\n                ...customActions\n            );\n        }\n\n        actions.push({\n            key: actionTypes.Download,\n            title: \"Download document\",\n            icon: 'download',\n            show: documentField.length > 0,\n        });\n\n        return actions.filter(({ show }) => show !== false);\n    }, [\n        forAssignment,\n        isReadOnly,\n        canEdit,\n        canDelete,\n        showHistory,\n        effectivePermissions.copy,\n        documentField.length,\n        customActions\n    ]);\n\n    const getActions = useCallback(\n        ({ row }) =>\n            actionConfig\n                .map(({ key, title, icon, color, disabled, show, action, ...otherProps }) =>\n                    createAction({\n                        key,\n                        title: title || action, // Fallback to 'action' for backward compatibility if 'title' is not provided\n                        icon,\n                        color,\n                        disabled: disabled?.(row),\n                        otherProps\n                    })\n                ),\n        [actionConfig, createAction]\n    );\n    const { gridColumns, pinnedColumns, lookupMap } = useMemo(() => {\n        let baseColumnList = columns || model.gridColumns || model.columns;\n        if (dynamicColumns) {\n            baseColumnList = [...dynamicColumns, ...baseColumnList];\n        }\n        const pinnedColumns = { left: [GRID_CHECKBOX_SELECTION_COL_DEF.field], right: [] };\n        const finalColumns = [];\n        const lookupMap = {};\n        const updatedColumnType = { ...gridColumnTypes, ...model.gridColumnTypes };\n        for (const column of baseColumnList) {\n            if (column.gridLabel === null || (parent && column.lookup === parent) || (column.type === constants.oneToMany && column.countInList === false)) continue;\n            const overrides = {};\n            if (column.type === constants.oneToMany) {\n                overrides.type = 'number';\n                overrides.field = column.field.replace(/s$/, 'Count');\n            }\n \n            if (updatedColumnType[column.type]) {\n                Object.assign(overrides, updatedColumnType[column.type]);\n            }\n            // Common filter operator pattern\n            if (overrides.valueOptions === constants.lookup || column.type === constants.boolean) {\n                let operators = [];\n\n                if (overrides.valueOptions === constants.lookup) {\n                    overrides.valueOptions = (params) => lookupOptions({ ...params, lookupMap });\n                    const lookupFilters = [...getGridDateOperators(), ...getGridStringOperators()]\n                        .filter((op) => ['is', 'not', 'isAnyOf'].includes(op.value));\n                    operators = lookupFilters;\n                }\n\n                if (column.type === constants.boolean) {\n                    operators = getGridBooleanOperators();\n                }\n\n                overrides.filterOperators = operators.map((operator) => ({\n                    ...operator,\n                    InputComponent: operator.InputComponent\n                        ? (params) => (\n                            <CustomDropdownMenu\n                                column={{\n                                    ...column,\n                                    ...(column.type === constants.boolean\n                                        ? {\n                                            customLookup: [\n                                                { value: true, label: 'Yes' },\n                                                { value: false, label: 'No' }\n                                            ]\n                                        }\n                                        : {}),\n                                    dataRef\n                                }}\n                                {...params}\n                                autoHighlight\n                            />\n                        )\n                        : undefined\n                }));\n            }\n            if (column.linkTo || column.link) {\n                overrides.cellClassName = 'mui-grid-linkColumn';\n            }\n            const headerName = tTranslate(column.gridLabel || column.label, tOpts);\n            finalColumns.push({ ...column, ...overrides, headerName, description: headerName });\n            if (column.pinned) {\n                pinnedColumns[column.pinned === constants.right ? constants.right : constants.left].push(column.field);\n            }\n            lookupMap[column.field] = column;\n        }\n        let auditColumns = model.standard;\n        if (auditColumns === true) {\n            auditColumns = { addCreatedOnColumn: true, addCreatedByColumn: true, addModifiedOnColumn: true, addModifiedByColumn: true };\n        }\n        if (auditColumns && typeof auditColumns === constants.object) {\n            auditColumnMappings.forEach(({ key, field, type, header }) => {\n                if (auditColumns[key] === true) {\n                    const column = { field, type, headerName: tTranslate(header, tOpts), width: 200 };\n                    if (type === constants.dateTime) {\n                        column.filterOperators = LocalizedDatePicker({ columnType: 'date' });\n                        column.valueFormatter = gridColumnTypes.dateTime.valueFormatter;\n                        column.keepLocal = true;\n                    }\n                    finalColumns.push(column);\n                }\n            });\n        }\n        if (actionConfig.length) {\n            finalColumns.push({\n                field: 'actions',\n                type: 'actions',\n                width: (model.actionWidth ?? constants.defaultActionWidth) * actionConfig.length,\n                hidable: false,\n                getActions,\n                headerName: tTranslate('Actions', tOpts),\n            });\n\n            pinnedColumns.right.push('actions');\n        }\n        return { gridColumns: finalColumns, pinnedColumns, lookupMap };\n    }, [columns, model, parent, permissions, forAssignment, dynamicColumns, translate]);\n\n    // Initialize toolbar filters with default values\n    const hasInitializedRef = useRef(false);\n    useEffect(() => {\n        // Only run once on initial mount\n        if (hasInitializedRef.current) return;\n        const toolbarFilterColumns = gridColumns?.filter(col => col.toolbarFilter?.defaultFilterValue !== undefined) || [];\n        if (toolbarFilterColumns.length === 0) return;\n\n        // Check if any toolbar filters already exist in filterModel\n        const hasExistingToolbarFilters = filterModel.items.some(item => \n            toolbarFilterColumns.some(col => col.field === item.field)\n        );\n        if (hasExistingToolbarFilters) {\n            hasInitializedRef.current = true;\n            return;\n        }\n\n        const toolbarFilters = toolbarFilterColumns.map(col => ({\n            field: col.field,\n            operator: getDefaultOperator(col.type, col.toolbarFilter?.defaultOperator),\n            value: col.toolbarFilter.defaultFilterValue,\n            type: col.type\n        }));\n\n        setFilterModel(prev => ({\n            ...prev,\n            items: [...prev.items, ...toolbarFilters]\n        }));\n        hasInitializedRef.current = true;\n    }, [gridColumns]);\n\n\n    const fetchData = (action = \"list\", extraParams = {}, contentType, columns, isPivotExport, isElasticExport) => {\n        const { pageSize, page } = paginationModel;\n\n        const baseUrl =  buildUrl(model.controllerType, isPivotExport ? model.pivotApi : backendApi);\n\n        if (assigned || available) {\n            extraParams[assigned ? \"include\" : \"exclude\"] = Array.isArray(selected) ? selected.join(\",\") : selected;\n        }\n\n        const filters = { ...filterModel };\n        const finalBaseFilters = Array.isArray(baseFilters) ? [...baseFilters] : [];\n        if (model.joinColumn && id) {\n            finalBaseFilters.push({ field: model.joinColumn, operator: \"is\", type: \"number\", value: Number(id) });\n        }\n\n        if (additionalFilters) {\n            filters.items = [...(filters.items || []), ...additionalFilters];\n        }\n        extraParams = { ...extraParams, ...props.extraParams }; // Merge any custom params passed via component props into extraParams\n        const isValidFilters = !filters.items.length || filters.items.every(item => \"value\" in item && item.value !== undefined);\n        if (!isValidFilters) return;\n\n        const listParams = {\n            action,\n            page: !contentType ? page : 0,\n            pageSize: !contentType ? pageSize : 1000000,\n            sortModel,\n            filterModel: filters,\n            controllerType: model.controllerType,\n            api: baseUrl,\n            gridColumns,\n            model,\n            parentFilters,\n            extraParams,\n            contentType,\n            columns,\n            template: isPivotExport ? model.exportTemplate : null,\n            configFileName: isPivotExport ? model.configFileName : null,\n            baseFilters: finalBaseFilters,\n            isElasticExport\n        };\n        if (typeof onListParamsChange === 'function') {\n            onListParamsChange(listParams);\n        }\n        apiRef.current.listParams = listParams;\n        return getList({\n            ...listParams,\n            setError: snackbar.showError,\n            setData,\n            dispatchData,\n            showFullScreenLoader,\n            history: navigate,\n        });\n    };\n\n    const openForm = useCallback(({ id, record = {}, mode }) => {\n        if (setActiveRecord) {\n            getRecord({ id, api: backendApi, setActiveRecord, model, parentFilters, where, setError: snackbar.showError });\n            return;\n        }\n        let path = pathname;\n        if (!path.endsWith(\"/\")) {\n            path += \"/\";\n        }\n        if (mode === \"copy\") {\n            path += \"0-\" + id;\n            dispatchData({ type: 'UPDATE_FORM_MODE', payload: 'copy' });\n\n        } else {\n            path += id;\n            dispatchData({ type: 'UPDATE_FORM_MODE', payload: '' });\n        }\n        if (addUrlParamKey) {\n            searchParams.set(addUrlParamKey, record[addUrlParamKey]);\n            path += `?${searchParams.toString()}`;\n        }\n        navigate(path);\n    }, [setActiveRecord, backendApi, model, parentFilters, where, pathname, addUrlParamKey, searchParams, navigate, dispatchData, getRecord]);\n\n    const handleDownload = useCallback(({ documentLink }) => {\n        if (!documentLink) return;\n        window.open(documentLink, '_blank');\n    }, []);\n    const onCellClickHandler = useCallback(async (cellParams, event, details) => {\n        let action = cellParams.field === model.linkColumn ? actionTypes.Edit : null;\n        if (!action && cellParams.field === constants.actions) {\n            action = details?.action;\n            if (!action) {\n                const el = event.target.closest('button');\n                if (el) {\n                    action = el.dataset.action;\n                }\n            }\n        }\n        const { row: record } = cellParams;\n        if (!isReadOnly) {\n            if (onCellClick) {\n                const result = await onCellClick({ cellParams, event, details });\n                if (typeof result !== constants.boolean) {\n                    return;\n                }\n            }\n            const columnConfig = lookupMap[cellParams.field] || {};\n            if (columnConfig.linkTo) {\n                navigate({\n                    pathname: template.replaceTags(columnConfig.linkTo, record)\n                });\n                return;\n            }\n            switch (action) {\n                case actionTypes.Edit: {\n                    if (model.getDetailPanelContent) {\n                        const rowId = record[idProperty];\n                        setRowPanelId(prevId => prevId === rowId ? null : rowId);\n                        return;\n                    } else {\n                        return openForm({ id: record[idProperty], record });\n                    }\n                }\n                case actionTypes.Copy:\n                    return openForm({ id: record[idProperty], mode: 'copy' });\n                case actionTypes.Delete:\n                    setIsDeleting(true);\n                    setRecord({ name: record[model.linkColumn], id: record[idProperty] });\n                    break;\n                case actionTypes.History:\n                    // navigates to history screen, specifying the tablename, id of record and breadcrumb to render title on history screen.\n                    return navigate(`${getApiEndpoint('history')}?tableName=${tableName}&id=${record[idProperty]}&breadCrumb=${searchParamKey ? searchParams.get(searchParamKey) : gridTitle}`);\n                default:\n                    // Check if action matches any customAction and call its onClick if found\n                    const foundCustomAction = customActions.find(ca => ca.action === action && typeof ca.onClick === constants.function);\n                    if (foundCustomAction) {\n                        foundCustomAction.onClick({ row: record, navigate });\n                        return;\n                    }\n                    break;\n            }\n        }\n        if (action === actionTypes.Download) {\n            handleDownload({ documentLink: record[documentField] });\n        }\n        if (!toLink.length) {\n            return;\n        }\n        const { row } = cellParams;\n        const columnConfig = lookupMap[cellParams.field] || {};\n        const historyObject = {\n            pathname: template.replaceTags(columnConfig.linkTo, row)\n        };\n        if (model.addRecordToState) {\n            historyObject.state = row;\n        }\n        navigate(historyObject);\n    }, [isReadOnly, onCellClick, lookupMap, model, idProperty, documentField, navigate, toLink, customActions, tableName, searchParamKey, searchParams, gridTitle, getApiEndpoint, handleDownload, openForm]);\n\n    const handleDelete = useCallback(async () => {\n        const baseUrl = buildUrl(model.controllerType, backendApi);\n        const result = await deleteRecord({ id: record.id, api: baseUrl, setError: snackbar.showError, setErrorMessage, model });\n        if (result === true) {\n            setIsDeleting(false);\n            snackbar.showMessage('Record Deleted Successfully.');\n            fetchData();\n        } else {\n            setIsDeleting(false);\n        }\n    }, [model.controllerType, backendApi, record?.id, snackbar, setErrorMessage, model, fetchData]);\n\n    const clearError = useCallback(() => {\n        setErrorMessage(null);\n        setIsDeleting(false);\n    }, []);\n\n    const processRowUpdate = useCallback((updatedRow) => {\n        if (typeof props.processRowUpdate === \"function\") {\n            props.processRowUpdate(updatedRow, data);\n        }\n        return updatedRow;\n    }, [props.processRowUpdate, data]);\n\n    const onCellDoubleClick = useCallback((event) => {\n        if (event.row.canEdit === false) {\n            return;\n        }\n        const { row: record } = event;\n        if (typeof onCellDoubleClickOverride === constants.function) {\n            onCellDoubleClickOverride(event);\n            return;\n        }\n        if (!isReadOnly && !isDoubleClicked && !disableCellRedirect) {\n            openForm({ id: record[idProperty], record });\n        }\n        if (isReadOnly && model.rowRedirectLink) {\n            const historyObject = {\n                pathname: template.replaceTags(model.rowRedirectLink, record)\n            };\n            if (model.addRecordToState) {\n                historyObject.state = record;\n            }\n            navigate(historyObject);\n        }\n        if (typeof onRowDoubleClick === constants.function) {\n            onRowDoubleClick(event);\n        }\n    }, [onCellDoubleClickOverride, isReadOnly, isDoubleClicked, disableCellRedirect, openForm, idProperty, model.rowRedirectLink, model.addRecordToState, navigate, onRowDoubleClick, template]);\n\n    const handleAddRecords = useCallback(async () => {\n        if (rowSelectionModel.ids.size < 1) {\n            snackbar.showError(\"Please select at least one record to proceed\");\n            return;\n        }\n\n        const selectedIds = Array.from(rowSelectionModel.ids);\n        const recordMap = new Map((data.records || []).map(record => [record[idProperty], record]));\n        let selectedRecords = selectedIds.map(id => ({ ...baseSaveData, ...recordMap.get(id) }));\n\n        // If selectionUpdateKeys is defined, filter each record to only those keys\n        if (Array.isArray(model.selectionUpdateKeys) && model.selectionUpdateKeys.length) {\n            selectedRecords = selectedRecords.map(item =>\n                Object.fromEntries(model.selectionUpdateKeys.map(key => [key, item[key]]))\n            );\n        }\n\n        const baseUrl =  buildUrl(model.controllerType, selectionApi || backendApi);\n        try {\n            const result = await saveRecord({\n                id: 0,\n                api: `${baseUrl}/updateMany`,\n                values: { items: selectedRecords },\n                setError: snackbar.showError,\n                model,\n                dispatchData\n            });\n\n            if (result) {\n                fetchData();\n                const message = result.info ? result.info : \"Record Added Successfully.\";\n                snackbar.showMessage(message);\n            }\n        } catch (err) {\n            snackbar.showError(err.message || \"An error occurred, please try again later.\");\n        } finally {\n            setRowSelectionModel({\n                type: 'include',\n                ids: new Set()\n            });\n            setShowAddConfirmation(false);\n        }\n    }, [rowSelectionModel.ids, snackbar, data.records, idProperty, baseSaveData, model.selectionUpdateKeys, model.controllerType, selectionApi, backendApi, model, dispatchData, fetchData]);\n\n    const onAdd = useCallback(() => {\n        if (selectionApi.length > 0) {\n            if (rowSelectionModel.ids.size > 0) {\n                setShowAddConfirmation(true);\n                return;\n            }\n            snackbar.showError(\n                \"Please select at least one record to proceed\"\n            );\n            return;\n        }\n        if (typeof onAddOverride === constants.function) {\n            onAddOverride();\n        } else {\n            openForm({ id: 0 });\n        }\n    }, [selectionApi, snackbar, onAddOverride, openForm, rowSelectionModel.ids.size]);\n\n    const clearFilters = useCallback(() => {\n        if (!filterModel?.items?.length) return;\n        setFilterModel({ ...constants.gridFilterModel });\n    }, [filterModel]);\n    const updateAssignment = useCallback(({ unassign, assign }) => {\n        const assignedValues = Array.isArray(selected) ? selected : (selected.length ? selected.split(',') : []);\n        const finalValues = unassign ? assignedValues.filter(id => !unassign.includes(parseInt(id))) : [...assignedValues, ...assign];\n        onAssignChange(typeof selected === constants.string ? finalValues.join(',') : finalValues);\n    }, [selected, onAssignChange]);\n\n    const onAssign = useCallback(() => {\n        updateAssignment({ assign: Array.from(rowSelectionModel.ids) });\n    }, [updateAssignment, rowSelectionModel.ids]);\n\n    const onUnassign = useCallback(() => {\n        updateAssignment({ unassign: Array.from(rowSelectionModel.ids) });\n    }, [updateAssignment, rowSelectionModel.ids]);\n\n    const selectAll = useCallback(() => {\n        const records = data.records || [];\n        const currentCount = rowSelectionModel.ids.size;\n        if (currentCount === records.length) {\n            // If all records are selected, deselect all\n            setRowSelectionModel({\n                type: 'include',\n                ids: new Set()\n            });\n        } else {\n            // Select all records\n            const allIds = records.map(record => record[idProperty]);\n            setRowSelectionModel({\n                type: 'include',\n                ids: new Set(allIds)\n            });\n        }\n    }, [rowSelectionModel, data.records, idProperty]);\n\n    const getGridRowId = useCallback((row) => row[idProperty], [idProperty]);\n    const handleExport = useCallback((e) => {\n        if (data?.recordCount > recordCounts) {\n            snackbar.showMessage('Cannot export more than 60k records, please apply filters or reduce your results using filters');\n            return;\n        }\n        const { orderedFields, columnVisibilityModel, lookup } = apiRef.current.state.columns;\n        const isPivotExport = e.target.dataset.isPivotExport === 'true';\n        const hiddenColumns = Object.keys(columnVisibilityModel).filter(key => columnVisibilityModel[key] === false);\n\n        const nonExportColumns = new Set(gridColumns.filter(col => col.exportable === false).map(col => col.field));\n\n        const visibleColumns = orderedFields.filter(\n            field => !nonExportColumns.has(field) && !hiddenColumns.includes(field) && field !== '__check__' && field !== 'actions'\n        );\n\n        if (visibleColumns.length === 0) {\n            snackbar.showMessage('You cannot export while all columns are hidden... please show at least 1 column before exporting');\n            return;\n        }\n\n        const columns = {};\n        visibleColumns.forEach(field => {\n            const col = lookup[field];\n            columns[field] = { field, width: col.width, headerName: col.headerName || col.field, type: col.type, keepLocal: col.keepLocal === true, isParsable: col.isParsable, lookup: col.lookup };\n        });\n        const action = (model?.formActions?.export || isPivotExport) ? (model?.formActions?.export || 'export') : undefined;\n        fetchData(\n            action,\n            undefined,\n            e.target.dataset.contentType,\n            columns,\n            isPivotExport,\n            isElasticScreen\n        );\n    }, [data?.recordCount, apiRef, gridColumns, snackbar, fetchData, isElasticScreen]);\n\n    useEffect(() => {\n        if (!backendApi || !preferencesReady) return;\n        fetchData();\n    }, [paginationModel, model, assigned, available, selected, filterModel, id, additionalFilters, props.extraParams, sortModel, backendApi, gridColumns, parentFilters, isElasticScreen, preferencesReady, baseFilters]);\n\n    useEffect(() => {\n        if (props.isChildGrid || forAssignment || !updatePageTitle) {\n            return;\n        }\n        dispatchData({ type: actionsStateProvider.PAGE_TITLE_DETAILS, payload: { icon: \"\", titleHeading: model.pageTitle || model.title, title: model.title } });\n        return () => {\n            dispatchData({\n                type: actionsStateProvider.PAGE_TITLE_DETAILS, payload: null\n            });\n        };\n    }, []);\n\n    const updateFilters = useCallback((e) => {\n        const { items } = e;\n        const updatedItems = items.map(item => {\n            const { field, operator, type, value } = item;\n            const column = gridColumns.find(col => col.field === field) || {};\n            const isNumber = column.type === constants.Number;\n\n            if (isNumber && value < 0) {\n                return { ...item, value: null };\n            }\n\n            if ((emptyIsAnyOfOperatorFilters.includes(operator)) || (isNumber && !isNaN(value)) || ((!isNumber))) {\n                const isKeywordField = isElasticScreen && gridColumns.filter(element => element.field === field)[0]?.isKeywordField;\n                if (isKeywordField) {\n                    item.filterField = `${item.field}.keyword`;\n                }\n                item.value = ['isEmpty', 'isNotEmpty'].includes(operator) ? null : value;\n                return { ...item, type: column.type };\n            }\n            const updatedValue = isNumber ? null : value;\n            return { field, operator, type, value: updatedValue };\n        });\n        e.items = updatedItems;\n        setFilterModel(e);\n    }, [gridColumns, constants.Number, emptyIsAnyOfOperatorFilters, isElasticScreen, setFilterModel]);\n\n    const updateSort = useCallback((e) => {\n        const sort = e.map((ele) => {\n            const field = gridColumns.filter(element => element.field === ele.field)[0] || {};\n            const isKeywordField = isElasticScreen && field.isKeywordField;\n            const obj = { ...ele, filterField: isKeywordField ? `${ele.field}.keyword` : ele.field };\n            if (field.dataIndex) {\n                obj.filterField = field.dataIndex;\n            }\n            return obj;\n        });\n        setSortModel(sort);\n    }, [gridColumns, isElasticScreen, setSortModel]);\n\n    const pageTitle = title || model.gridTitle || model.title;\n    const breadCrumbs = searchParamKey\n        ? [{ text: searchParams.get(searchParamKey) || pageTitle }]\n        : [{ text: pageTitle }];\n\n    const handleDetailPanelExpanded = useCallback((ids) => {\n        setRowPanelId(ids.size > 0 ? [...ids].pop() : null);\n    }, []);\n\n    const getDetailPanelContent = useCallback((params) => {\n        if (typeof model.getDetailPanelContent === 'function') {\n            return model.getDetailPanelContent({\n                ...params,\n                onRefresh: () => {\n                    // Close the expanded panel and refresh data\n                    setRowPanelId(null);\n                    fetchData();\n                }\n            });\n        }\n        return null;\n    }, [model.getDetailPanelContent, fetchData]);\n\n    const localeText =\n        useMemo(() => ({\n            filterValueTrue: tTranslate('Yes', tOpts),\n            filterValueFalse: tTranslate('No', tOpts),\n            noRowsLabel: tTranslate('No data', tOpts),\n            footerTotalRows: `${tTranslate('Total rows', tOpts)}:`,\n            MuiTablePagination: {\n                labelRowsPerPage: tTranslate('Rows per page', tOpts),\n                labelDisplayedRows: ({ from, to, count }) => `${from}–${to} ${tTranslate('of', tOpts)} ${count}`,\n            },\n            toolbarQuickFilterPlaceholder: tTranslate(model?.searchPlaceholder || 'Search...', tOpts),\n            toolbarColumns: tTranslate('Columns', tOpts),\n            toolbarFilters: tTranslate('Filters', tOpts),\n            toolbarExport: tTranslate('Export', tOpts),\n            filterPanelAddFilter: tTranslate('Add filter', tOpts),\n            filterPanelRemoveAll: tTranslate('Remove all', tOpts),\n            filterPanelDeleteIconLabel: tTranslate('Delete', tOpts),\n            filterPanelColumns: tTranslate('Columns', tOpts),\n            filterPanelOperator: tTranslate('Operator', tOpts),\n            filterPanelValue: tTranslate('Value', tOpts),\n            filterPanelInputLabel: tTranslate('Value', tOpts),\n            filterPanelInputPlaceholder: tTranslate('Filter value', tOpts),\n            columnMenuLabel: tTranslate('Menu', tOpts),\n            columnMenuShowColumns: tTranslate('Show columns', tOpts),\n            columnMenuManageColumns: tTranslate('Manage columns', tOpts),\n            columnMenuFilter: tTranslate('Filter', tOpts),\n            columnMenuHideColumn: tTranslate('Hide column', tOpts),\n            columnMenuManagePivot: tTranslate('Manage pivot', tOpts),\n            toolbarColumnsLabel: tTranslate('Select columns', tOpts),\n            toolbarExportLabel: tTranslate('Export', tOpts),\n            pivotDragToColumns: tTranslate('Drag here to pivot by', tOpts),\n            pivotDragToRows: tTranslate('Drag here to group by', tOpts),\n            pivotDragToValues: tTranslate('Drag here to create values', tOpts),\n            pivotColumns: tTranslate('Pivot columns', tOpts),\n            pivotRows: tTranslate('Row groups', tOpts),\n            pivotValues: tTranslate('Values', tOpts),\n            pivotMenuRows: tTranslate('Rows', tOpts),\n            pivotMenuColumns: tTranslate('Columns', tOpts),\n            pivotMenuValues: tTranslate('Values', tOpts),\n            pivotToggleLabel: tTranslate('Pivot', tOpts),\n            pivotSearchControlPlaceholder: tTranslate('Search pivot columns', tOpts),\n            columnMenuUnsort: tTranslate('Unsort', tOpts),\n            columnMenuSortAsc: tTranslate('Sort by ascending', tOpts),\n            columnMenuSortDesc: tTranslate('Sort by descending', tOpts),\n            columnMenuUnpin: tTranslate('Unpin', tOpts),\n            columnsPanelTextFieldLabel: tTranslate('Find column', tOpts),\n            columnsPanelTextFieldPlaceholder: tTranslate('Column title', tOpts),\n            columnsPanelHideAllButton: tTranslate('Hide all', tOpts),\n            columnsPanelShowAllButton: tTranslate('Show all', tOpts),\n            pinToLeft: tTranslate('Pin to left', tOpts),\n            pinToRight: tTranslate('Pin to right', tOpts),\n            unpin: tTranslate('Unpin', tOpts),\n            filterValueAny: tTranslate('any', tOpts),\n            filterOperatorIs: tTranslate('is', tOpts),\n            filterOperatorNot: tTranslate('is not', tOpts),\n            filterOperatorIsAnyOf: tTranslate('is any of', tOpts),\n            filterOperatorContains: tTranslate('contains', tOpts),\n            filterOperatorDoesNotContain: tTranslate('does not contain', tOpts),\n            filterOperatorEquals: tTranslate('equals', tOpts),\n            filterOperatorDoesNotEqual: tTranslate('does not equal', tOpts),\n            filterOperatorStartsWith: tTranslate('starts with', tOpts),\n            filterOperatorEndsWith: tTranslate('ends with', tOpts),\n            filterOperatorIsEmpty: tTranslate('is empty', tOpts),\n            filterOperatorIsNotEmpty: tTranslate('is not empty', tOpts),\n            filterOperatorAfter: tTranslate('is after', tOpts),\n            filterOperatorOnOrAfter: tTranslate('is on or after', tOpts),\n            filterOperatorBefore: tTranslate('is before', tOpts),\n            filterOperatorOnOrBefore: tTranslate('is on or before', tOpts),\n            toolbarFiltersTooltipHide: tTranslate('Hide filters', tOpts),\n            toolbarFiltersTooltipShow: tTranslate('Show filters', tOpts),\n\n            //filter textfield labels\n            headerFilterOperatorContains: tTranslate('contains', tOpts),\n            headerFilterOperatorEquals: tTranslate('equals', tOpts),\n            headerFilterOperatorStartsWith: tTranslate('starts with', tOpts),\n            headerFilterOperatorEndsWith: tTranslate('ends with', tOpts),\n            headerFilterOperatorIsEmpty: tTranslate('is empty', tOpts),\n            headerFilterOperatorIsNotEmpty: tTranslate('is not empty', tOpts),\n            headerFilterOperatorAfter: tTranslate('is after', tOpts),\n            headerFilterOperatorOnOrAfter: tTranslate('is on or after', tOpts),\n            headerFilterOperatorBefore: tTranslate('is before', tOpts),\n            headerFilterOperatorOnOrBefore: tTranslate('is on or before', tOpts),\n            headerFilterOperatorIs: tTranslate('is', tOpts),\n            'headerFilterOperator=': tTranslate('equals', tOpts),\n            'headerFilterOperator!=': tTranslate('does not equal', tOpts),\n            'headerFilterOperator>': tTranslate('greater than', tOpts),\n            'headerFilterOperator>=': tTranslate('greater than or equal to', tOpts),\n            'headerFilterOperator<': tTranslate('less than', tOpts),\n            'headerFilterOperator<=': tTranslate('less than or equal to', tOpts),\n            columnsManagementSearchTitle: tTranslate('Search', tOpts),\n            columnsManagementNoColumns: tTranslate('No columns', tOpts),\n            paginationRowsPerPage: tTranslate('Rows per page', tOpts),\n            paginationDisplayedRows: ({ from, to, count }) => `${from}–${to} ${tTranslate('of', tOpts)} ${count}`,\n            toolbarQuickFilterLabel: tTranslate('Search', tOpts),\n            toolbarFiltersTooltipActive: (count) => {\n                const key = count === 1 ? 'active filter' : 'active filters';\n                return `${count} ${tTranslate(key, tOpts)}`;\n            },\n            columnHeaderSortIconLabel: tTranslate('Sort', tOpts),\n            filterPanelOperatorAnd: tTranslate('And', tOpts),\n            filterPanelOperatorOr: tTranslate('Or', tOpts),\n            noResultsOverlayLabel: tTranslate('No results found', tOpts),\n            columnHeaderFiltersTooltipActive: (count) => {\n                const key = count === 1 ? 'active filter' : 'active filters';\n                return `${count} ${tTranslate(key, tOpts)}`;\n            },\n            detailPanelToggle: tTranslate('Detail panel toggle', tOpts),\n            checkboxSelectionHeaderName: tTranslate('Checkbox selection', tOpts),\n            columnsManagementShowHideAllText: tTranslate('Show/Hide all', tOpts),\n            noColumnsOverlayLabel: tTranslate('No columns', tOpts),\n            noColumnsOverlayManageColumns: tTranslate('Manage columns', tOpts),\n            columnsManagementReset: tTranslate('Reset', tOpts),\n            groupColumn: (name) => `${tTranslate('Group by', tOpts)} ${name}`,\n            unGroupColumn: (name) => `${tTranslate('Ungroup', tOpts)} ${name}`,\n            footerRowSelected: (count) => {\n                const key = count === 1 ? 'item selected' : 'items selected';\n                return `${count.toLocaleString()} ${tTranslate(key, tOpts)}`;\n            }\n        }), [tTranslate, tOpts, model?.searchPlaceholder]);\n\n    const slotProps = useMemo(() => ({\n        headerFilterCell: { showClearIcon: true },\n        toolbar: {\n            model,\n            data,\n            currentPreference,\n            isReadOnly,\n            canAdd,\n            forAssignment,\n            showAddIcon,\n            onAdd,\n            selectionApi,\n            rowSelectionModel,\n            selectAll,\n            available,\n            onAssign,\n            assigned,\n            onUnassign,\n            effectivePermissions,\n            clearFilters,\n            handleExport,\n            preferenceKey,\n            apiRef,\n            gridColumns,\n            tTranslate,\n            tOpts,\n            idProperty,\n            filterModel,\n            setFilterModel,\n            onPreferenceChange,\n            toolbarItems\n        },\n        footer: {\n            pagination: true,\n            apiRef,\n            tTranslate,\n            tOpts\n        },\n        panel: {\n            placement: \"bottom-end\"\n        },\n        pagination: {\n            backIconButtonProps: {\n                title: tTranslate('Go to previous page', tOpts),\n                'aria-label': tTranslate('Go to previous page', tOpts),\n            },\n            nextIconButtonProps: {\n                title: tTranslate('Go to next page', tOpts),\n                'aria-label': tTranslate('Go to next page', tOpts),\n            },\n        }\n    }), [model, data, currentPreference, isReadOnly, canAdd, forAssignment, showAddIcon, onAdd, selectionApi, rowSelectionModel, selectAll, available, onAssign, assigned, onUnassign, effectivePermissions, clearFilters, handleExport, preferenceKey, apiRef, gridColumns, tTranslate, tOpts, idProperty, filterModel, setFilterModel, onPreferenceChange, toolbarItems]);\n\n    const initialState = useMemo(() => ({\n        columns: {\n            columnVisibilityModel: visibilityModel\n        },\n        pinnedColumns: pinnedColumns\n    }), [visibilityModel, pinnedColumns]);\n\n    const slots = useMemo(() => ({\n        headerFilterMenu: false,\n        toolbar: CustomToolbar,\n        footer: Footer\n    }), []);\n\n    return (\n        <>\n            {showPageTitle !== false && <PageTitle navigate={navigate} showBreadcrumbs={!hideBreadcrumb && !hideBreadcrumbInGrid}\n                breadcrumbs={breadCrumbs} enableBackButton={navigateBack} breadcrumbColor={breadcrumbColor} />}\n            <Box style={gridStyle || customStyle}>\n                <Box sx={{ display: 'flex', maxHeight: '80vh', flexDirection: 'column' }}>\n                    <DataGridPremium\n                        sx={{\n                            \"& .MuiTablePagination-selectLabel\": {\n                                marginTop: 2\n                            },\n                            \"& .MuiTablePagination-displayedRows\": {\n                                marginTop: 2\n                            },\n                            \"& .MuiDataGrid-virtualScroller \": {\n                                zIndex: 2,\n                            },\n                            \"& .MuiDataGrid-detailPanelToggleCell, & .MuiDataGrid-cell--withRenderer.MuiDataGrid-cell--detailPanelToggle\": {\n                                display: 'none'\n                            }\n                        }}\n                        headerFilters={showHeaderFilters}\n                        unstable_headerFilters={showHeaderFilters} //for older versions of mui\n                        checkboxSelection={forAssignment}\n                        loading={!data.records || stateData.loaderOpen}\n                        className=\"pagination-fix\"\n                        onCellClick={onCellClickHandler}\n                        onCellDoubleClick={onCellDoubleClick}\n                        columns={gridColumns}\n                        paginationModel={paginationModel}\n                        pageSizeOptions={constants.pageSizeOptions}\n                        onPaginationModelChange={setPaginationModel}\n                        pagination\n                        rowCount={data.recordCount}\n                        rows={data.records || []}\n                        sortModel={sortModel}\n                        paginationMode={paginationMode}\n                        sortingMode={paginationMode}\n                        filterMode={paginationMode}\n                        processRowUpdate={processRowUpdate}\n                        keepNonExistentRowsSelected\n                        onSortModelChange={updateSort}\n                        onFilterModelChange={updateFilters}\n                        rowSelectionModel={rowSelectionModel}\n                        onRowSelectionModelChange={setRowSelectionModel}\n                        filterModel={filterModel}\n                        getRowId={getGridRowId}\n                        onRowClick={onRowClick}\n                        slots={slots}\n                        slotProps={slotProps}\n                        hideFooterSelectedRowCount={rowsSelected}\n                        density=\"compact\"\n                        disableDensitySelector={true}\n                        apiRef={apiRef}\n                        disableAggregation={true}\n                        disableRowGrouping={true}\n                        disableRowSelectionOnClick={disableRowSelectionOnClick}\n                        disablePivoting={disablePivoting}\n                        filterDebounceMs={debounceTimeOut}\n                        initialState={initialState}\n                        {...(enableRowDetailPanel && {\n                             getDetailPanelContent,\n                             detailPanelExpandedRowIds,\n                             onDetailPanelExpandedRowIdsChange: handleDetailPanelExpanded\n                        })}\n                        localeText={localeText}\n                        showToolbar={true}\n                        columnHeaderHeight={columnHeaderHeight}\n                    />\n                </Box>\n                {errorMessage && (<DialogComponent open={!!errorMessage} onConfirm={clearError} onCancel={clearError} title=\"Info\" hideCancelButton={true} > {errorMessage}</DialogComponent>)\n                }\n                {isDeleting && !errorMessage && (\n                    <DialogComponent open={isDeleting} onConfirm={handleDelete} onCancel={() => setIsDeleting(false)} title=\"Confirm Delete\">\n                        <DeleteContentText>\n                            {tTranslate(\"Are you sure you want to delete\", tOpts)} {record.name && <Tooltip style={{ display: \"inline\" }} title={record.name} arrow>\n                                {record.name.length > 30 ? `${record.name.slice(0, 30)}...` : record.name}\n                            </Tooltip>} ?\n                        </DeleteContentText>\n                    </DialogComponent>)}\n                {showAddConfirmation && (\n                    <DialogComponent\n                        open={showAddConfirmation}\n                        onConfirm={handleAddRecords}\n                        onCancel={() => setShowAddConfirmation(false)}\n                        title=\"Confirm Add\"\n                    >\n                        <DeleteContentText>\n                            {tTranslate(\"Are you sure you want to add\", tOpts)} {rowSelectionModel.ids.size} {tTranslate(\"records\", { count: rowSelectionModel.ids.size, ...tOpts })}?\n                        </DeleteContentText>\n                    </DialogComponent>\n                )}\n            </Box >\n        </>\n    );\n}, areEqual);\n\nexport default GridBase;","import React, { useMemo } from 'react';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport { FormHelperText } from '@mui/material';\nimport Checkbox from '@mui/material/Checkbox';\n\nconst Field = ({ column, field, formik, otherProps }) => {\n    const handleChange = (event) => {\n        formik.setFieldValue(field, event.target.checked);\n    }\n    const checked = useMemo(()=> formik.values[field] ?? !!column.defaultValue, [formik, column]);\n    const isDisabled = typeof column.readOnly === 'function' ? column.readOnly(formik) : column.readOnly; \n    return <div key={field}>\n        <FormControlLabel\n            control={\n                <Checkbox\n                    {...otherProps}\n                    name={field}\n                    disabled={isDisabled || column.disabled === true}\n                    checked={checked}\n                    onChange={handleChange}\n                    onBlur={formik.handleBlur}\n                    defaultChecked={column.defaultValue}\n                />\n            }\n        />\n        <FormHelperText error={formik.touched[field] && Boolean(formik.errors[field])} >{formik.touched[field] && formik.errors[field]}</FormHelperText>\n    </div>\n}\n\nexport default Field;","import TextField from '@mui/material/TextField';\nimport React from 'react';\nimport { useTheme } from '@mui/material';\n\nconst field = ({ column, field, formik, otherProps }) => {\n    const theme = useTheme();\n    const rows = column.rows || (column.multiline ? 5 : 1);\n    return <TextField\n        type=\"text\"\n        variant={column.variant || \"standard\"}\n        InputProps={{\n            readOnly: column.readOnly === true,\n            sx: column.readOnly\n                ? { backgroundColor: theme.palette?.action?.disabled } // Light grey background for read-only inputs\n                : undefined\n        }}\n        key={field}\n        required={column.required}\n        multiline={column.multiline}\n        rows={rows}\n        fullWidth\n        name={field}\n        value={formik.values[field]}\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        error={formik.touched[field] && Boolean(formik.errors[field])}\n        helperText={formik.touched[field] && formik.errors[field]}\n        autoComplete={column.autoComplete}\n        {...otherProps}\n        defaultValue={column.defaultValue}\n    />;\n};\n\nexport default field;","import { useEffect, useState } from 'react';\n\nfunction useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(() => {\n        // Set a timer to update the debounced value\n        const timer = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n\n        // Cleanup function to cancel the timer if the value changes again before the delay\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [value, delay]); // Rerun effect only if value or delay changes\n\n    return debouncedValue;\n}\n\nexport default useDebounce;\n","import React, { useMemo, useState, useEffect, useId } from 'react';\nimport { NumberField as BaseNumberField } from '@base-ui/react/number-field';\nimport {\n    IconButton,\n    FormControl,\n    FormHelperText,\n    Input,\n    OutlinedInput,\n    FilledInput,\n    InputAdornment,\n    useTheme\n} from '@mui/material';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport useDebounce from '../../../hooks/useDebounce';\n\nconst resolveValue = ({ value, state }) => {\n    if (typeof value === 'string' && value.startsWith('{') && value.endsWith('}')) {\n        const key = value.slice(1, -1); // Extract key inside the braces\n        return state[key] !== undefined ? state[key] : value;\n    }\n    return value;\n};\n\n\nconst inputComponentMap = {\n    outlined: OutlinedInput,\n    filled: FilledInput,\n    standard: Input,\n};\n\nconst NumberFieldAdornment = () => (\n    <InputAdornment\n        position=\"end\"\n        sx={{\n            flexDirection: 'column',\n            maxHeight: 'unset',\n            alignSelf: 'stretch',\n            ml: 0,\n            '& button': {\n                py: 0,\n                flex: 1,\n                borderRadius: 0.5,\n            },\n        }}\n    >\n        <BaseNumberField.Increment\n            render={<IconButton size=\"small\" aria-label=\"Increase\" />}\n        >\n            <KeyboardArrowUpIcon\n                fontSize=\"small\"\n                sx={{ transform: 'translateY(2px)' }}\n            />\n        </BaseNumberField.Increment>\n\n        <BaseNumberField.Decrement\n            render={<IconButton size=\"small\" aria-label=\"Decrease\" />}\n        >\n            <KeyboardArrowDownIcon\n                fontSize=\"small\"\n                sx={{ transform: 'translateY(-2px)' }}\n            />\n        </BaseNumberField.Decrement>\n    </InputAdornment>\n);\n\nconst Field = ({ column, otherProps, formik, field, ...props }) => {\n    const { min, max, readOnly } = column;\n    const theme = useTheme();\n\n    const resolvedMin = useMemo(\n        () => resolveValue({ value: min, state: formik.values }),\n        [min, formik.values]\n    );\n\n    const resolvedMax = useMemo(\n        () => resolveValue({ value: max, state: formik.values }),\n        [max, formik.values]\n    );\n    const formikFieldValue = useMemo(() => formik.values[field] ?? null, [formik.values[field]]);\n    const [inputValue, setInputValue] = useState(formikFieldValue);\n    const debouncedValue = useDebounce(inputValue, 400);\n\n    useEffect(() => {\n        if (debouncedValue !== formikFieldValue) {\n            formik.setFieldValue(field, debouncedValue);\n        }\n    }, [debouncedValue]);\n\n    // Sync with formik value changes from external sources\n    useEffect(() => {\n        if (formikFieldValue !== inputValue) {\n            setInputValue(formikFieldValue);\n        }\n    }, [formikFieldValue]);\n\n    const handleValueChange = (value) => {\n        setInputValue(value);\n    };\n\n    const handleBlur = (event) => {\n        formik.setFieldTouched(field, true);\n        if (typeof props.onBlur === \"function\") {\n            props.onBlur(event);\n        }\n    };\n\n    const inputId = useId();\n    const id = `number-field-${field}-${inputId}`;\n    const variant = column.variant || 'standard';\n    const InputComponent = inputComponentMap[variant];\n    return (\n        <BaseNumberField.Root\n            value={inputValue}\n            onValueChange={handleValueChange}\n            min={resolvedMin}\n            max={resolvedMax}\n            disabled={readOnly}\n            render={(baseProps, state) => (\n                <FormControl\n                    fullWidth\n                    ref={baseProps.ref}\n                    error={formik.touched[field] && Boolean(formik.errors[field])}\n                    sx={readOnly ? {\n                        backgroundColor: theme.palette?.action?.disabled\n                    } : undefined}\n                >\n                    {baseProps.children}\n                </FormControl>\n            )}\n        >\n            <BaseNumberField.Input\n                render={(inputProps, state) => (\n                    <InputComponent\n                        id={id}\n                        inputRef={inputProps.ref}\n                        value={state.inputValue}\n                        onChange={inputProps.onChange}\n                        onBlur={(e) => {\n                            inputProps.onBlur(e);\n                            handleBlur(e);\n                        }}\n                        inputProps={{\n                            ...inputProps,\n                            'aria-describedby': formik.touched[field] && formik.errors[field] ? `${id}-error` : undefined,\n                        }}\n                        endAdornment={<NumberFieldAdornment />}\n                        sx={{ pr: 0 }}\n                        {...otherProps}\n                    />\n                )}\n            />\n            {formik.touched[field] && formik.errors[field] && <FormHelperText id={`${id}-error`} error={true}> {formik.errors[field]} </FormHelperText>}\n        </BaseNumberField.Root>\n    );\n};\n\nexport default Field;\n","import React from 'react';\nimport StringField from './string';\nimport { IconButton, InputAdornment } from '@mui/material';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\n\nconst Field = ({ otherProps, ...props }) => {\n\tconst [showPassword, setShowPassword] = React.useState(false);\n\tconst handleClickShowPassword = () => setShowPassword((show) => !show);\n\n\tconst handleMouseDownPassword = (event) => {\n\t\tevent.preventDefault();\n\t};\n    const { readOnly = false, disabled = false } = props.column || {};\n    otherProps = {\n\t\ttype: showPassword ? 'text' : 'password',\n\t\tInputProps: {\n\t\t\treadOnly,\n\t\t\tdisabled,\n\t\t\tendAdornment: (\n\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t<IconButton\n                        aria-label=\"toggle password visibility\"\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                        edge=\"end\"\n                        disabled={disabled}\n                        readOnly={readOnly}\n                        size=\"large\">\n\t\t\t\t\t\t{showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}\n\t\t\t\t\t</IconButton>\n\t\t\t\t</InputAdornment>\n\t\t\t)\n\t\t},\n        ...otherProps\n    }\n    return <StringField otherProps={otherProps} {...props} />\n}\n\nexport default Field;","import React from 'react';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport dayjs from 'dayjs';\nimport { useStateContext } from '../../useRouter/StateProvider';\n\nconst Field = ({ column, field, formik, otherProps, fieldConfigs = {}, mode }) => {\n    const isDisabled = mode !== 'copy' && fieldConfigs.disabled;\n    const { systemDateTimeFormat, stateData } = useStateContext(); //provider\n    return <DatePicker\n        {...otherProps}\n        variant=\"standard\"\n        readOnly={column?.readOnly === true}\n        key={field}\n        fullWidth\n        format={systemDateTimeFormat(true, false, stateData.dateTime)}\n        name={field}\n        value={dayjs(formik.values[field])}\n        onChange={(value) => {\n            const adjustedDate = dayjs(value).hour(12);\n            const isoString = adjustedDate.toISOString();\n            formik.setFieldValue(field, isoString);\n        }}\n        onBlur={formik.handleBlur}\n        helperText={formik.touched[field] && formik.errors[field]}\n        minDate={(column.min ? dayjs(column.min) : null)}\n        maxDate={(column.max ? dayjs(column.max) : null)}\n        disabled={isDisabled}\n        slotProps={{ textField: { fullWidth: true, helperText: formik.errors[field], variant: \"standard\" } }}\n    />\n\n}\n\nexport default Field;","import React from 'react';\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\nimport dayjs from 'dayjs';\nimport { useStateContext } from '../../useRouter/StateProvider'\n\nconst Field = ({ column, field, formik, otherProps }) => {\n    const { systemDateTimeFormat, stateData } = useStateContext();\n    return <DateTimePicker\n        {...otherProps}\n        variant=\"standard\"\n        readOnly={column?.readOnly === true}\n        key={field}\n        fullWidth\n        format={systemDateTimeFormat(false, false, stateData.dateTime)}\n        name={field}\n        value={dayjs(formik.values[field])}\n        onChange={(value) => formik.setFieldValue(field, value)}\n        onBlur={formik.handleBlur}\n        helperText={formik.touched[field] && formik.errors[field]}\n        minDateTime={(column.min ? dayjs(column.min) : null)}\n        maxDateTime={(column.max ? dayjs(column.max) : null)}\n        slotProps={{ textField: { fullWidth: true, helperText: formik.errors[field], variant: \"standard\" } }}\n    />\n\n}\n\nexport default Field;","import React from 'react';\nimport { TimePicker } from '@mui/x-date-pickers/TimePicker';\nimport dayjs from 'dayjs';\n\nconst field = ({ column, field, formik, otherProps }) => {\n    let inputValue = formik.values[field];\n    if (column.isUtc) {\n        inputValue = dayjs.utc(inputValue).utcOffset(dayjs().utcOffset(), true).format();\n    }\n    return <TimePicker\n        {...otherProps}\n        variant=\"standard\"\n        readOnly={column.readOnly === true}\n        key={field}\n        fullWidth\n        name={field}\n        value={dayjs(inputValue)}\n        onChange={(value) => {\n            if (column.isUtc) {\n                value = (value && value.isValid()) ? value.format('YYYY-MM-DDTHH:mm:ss') + '.000Z' : null;\n            }\n            return formik.setFieldValue(field, value);\n        }}\n        onBlur={formik.handleBlur}\n        helperText={formik.touched[field] && formik.errors[field]}\n        slotProps={{ textField: { fullWidth: true, helperText: formik.errors[field], variant: \"standard\" } }}\n    />\n}\n\nexport default field;","import { useEffect, useMemo, useState } from 'react';\nimport { useStateContext } from \"../components/useRouter/StateProvider\";\nimport { getLookups } from \"../components/Grid/crud-helper.js\";\nimport { useSnackbar } from \"../components/SnackBar/index.js\";\n\nconst emptyValues = [null, undefined, ''];\n\nexport default function useCascadingLookup({ column, formik, lookups, dependsOn = [], isAutoComplete = false, userSelected, model }) {\n    const [options, setOptions] = useState([]);\n    const { buildUrl } = useStateContext();\n    const snackbar = useSnackbar();\n    const api = buildUrl(model.controllerType, model.api);\n    // Memoize dependency values\n    const dependencyValues = useMemo(() => {\n        const toReturn = {};\n        if (!dependsOn.length) return toReturn;\n        for (const dependency of dependsOn) {\n            toReturn[dependency] = formik.values[dependency];\n        }\n        return toReturn;\n    }, dependsOn.map(dep => formik.values[dep]));\n\n    // Initial options for non-cascading\n    const initialOptions = useMemo(() => {\n        if (dependsOn.length) return [];\n        return typeof column.lookup === 'string' ? lookups[column.lookup] : column.lookup;\n    }, [column.lookup, lookups, dependsOn]);\n\n    const fetchOptions = async () => {\n        if (!column.lookup) return;\n        // Only fetch if all dependencies have values\n        const allDependenciesHaveValues = Object.values(dependencyValues).every(\n            value => !emptyValues.includes(value)\n        );\n        if (!allDependenciesHaveValues) {\n            setOptions([]);\n            return;\n        }\n        getLookups({\n            api,\n            setActiveRecord: setOptions,\n            model,\n            setError: snackbar.showError,\n            lookups,\n            reqData: {\n                params: { lookups: [{ lookup: column.lookup, where: dependencyValues }] }\n            }\n        });\n    };\n\n    // Fetch cascading options\n    useEffect(() => {\n        if (dependsOn.length) {\n            fetchOptions();\n        } else if (isAutoComplete || !userSelected.current) {\n            setOptions(initialOptions || []);\n        }\n    }, [dependencyValues, initialOptions, lookups, api, column.lookup]);\n\n    return options;\n}\n","import React, { useEffect, useMemo, useCallback } from 'react';\nimport { FormHelperText, useTheme } from '@mui/material';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport FormControl from '@mui/material/FormControl';\nimport InputLabel from '@mui/material/InputLabel';\nimport Select from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\nimport useCascadingLookup from '../../../hooks/useCascadingLookup';\n\nconst SelectField = React.memo(({ column, field, formik, lookups, dependsOn = [], model, ...otherProps }) => {\n    const userSelected = React.useRef(false);\n    const { placeHolder } = column;\n    const options = useCascadingLookup({ column, formik, lookups, dependsOn, userSelected, model });\n    const theme = useTheme();\n\n    // Memoize input value processing to avoid recalculation on each render\n    const inputValue = useMemo(() => {\n        let value = formik.values[field];\n        \n        // Handle default value selection\n        if (options?.length && !value && !column.multiSelect && \"IsDefault\" in options[0]) {\n            const isDefaultOption = options.find(e => e.IsDefault);\n            if (isDefaultOption) {\n                value = isDefaultOption.value;\n                formik.setFieldValue(field, isDefaultOption.value);\n            }\n        }\n        \n        // Handle multi-select values\n        if (column.multiSelect) {\n            if (!value || value.length === 0) {\n                value = [];\n            } else if (!Array.isArray(value)) {\n                value = value.split(',').map((e) => parseInt(e));\n            }\n        }\n        \n        return value;\n    }, [formik.values[field], options, column.multiSelect, field]);\n\n    const handleChange = useCallback((event) => {\n        if (typeof column.onChange === 'function') {\n            column.onChange({ formik, value: event.target.value, options, event });\n        }\n        formik.handleChange(event);\n        userSelected.current = true;\n    }, [formik.values[field], column.onChange, options]);\n\n    return (\n        <FormControl\n            fullWidth\n            key={field}\n            error={formik.touched[field] && formik.errors[field]}\n            variant=\"standard\">\n            <InputLabel>{placeHolder ? placeHolder : \"\"}</InputLabel> \n            <Select\n                IconComponent={KeyboardArrowDownIcon}\n                {...otherProps}\n                name={field}\n                multiple={column.multiSelect === true}\n                readOnly={column.readOnly === true}\n                value={`${inputValue}`}\n                onChange={handleChange}\n                onBlur={formik.handleBlur}\n                sx={{\n                    backgroundColor: column.readOnly ? theme.palette?.action?.disabled : ''\n                }}\n            >\n                {Array.isArray(options) && options.map(option => (\n                    <MenuItem key={option.value} value={option.value} disabled={option.isDisabled}>\n                        {option.label}\n                    </MenuItem>\n                ))}\n            </Select>\n            <FormHelperText>{formik.touched[field] && formik.errors[field]}</FormHelperText>\n        </FormControl>\n    );\n});\n\nexport default SelectField;","import { useCallback } from \"react\";\nimport { styled } from \"@mui/material/styles\";\n\nconst DivSpacing = styled('div')({\n    marginTop: '10px',\n    marginBottom: '10px',\n    fontSize: '20px'\n});\nconst TransferField = ({ component, name, formik, field, column }) => {\n    const { value } = formik.getFieldProps(name || field);\n    const { setFieldValue } = formik;\n    const Component = component || column.relation;\n    const onAssignChange = useCallback((value) => {\n        setFieldValue(name || field, value);\n    }, [setFieldValue, name, field]);\n    return (\n        <div>\n            <DivSpacing>{`${\"Available\"} ${column.label}`}</DivSpacing>\n            <Component selected={value} available={true} onAssignChange={onAssignChange} disableCellRedirect={column.disableCellRedirect} readOnly={column.readOnly} />\n            <DivSpacing>{`${\"Assigned\"} ${column.label}`}</DivSpacing>\n            <Component selected={value} assigned={true} onAssignChange={onAssignChange} disableCellRedirect={column.disableCellRedirect} readOnly={column.readOnly} />\n        </div>\n    );\n}\n\nexport default TransferField;","import React from \"react\";\nimport { FormControl, FormControlLabel, FormLabel, Radio, RadioGroup, FormHelperText, useTheme } from \"@mui/material\";\n\nconst Field = ({ field, formik, orientation = \"row\", label, lookups, fieldConfigs={}, mode, ...otherProps }) => {\n    const handleChange = (event) => {\n        formik.setFieldValue(field, event.target.value);\n    }\n\n    const options = lookups ? lookups[otherProps.column.lookup] : [];\n    const theme = useTheme();\n    const isError = formik.touched[field] && Boolean(formik.errors[field]);\n    const isDisabled = mode !== 'copy' && fieldConfigs.disabled;\n    return (\n        <>\n            <FormControl component=\"fieldset\" error={isError}>\n                <RadioGroup\n                    row={orientation === \"row\"}\n                    aria-label={label}\n                    name={field}\n                    value={formik.values[field] ?? \"\"}\n                    onChange={handleChange}\n                >\n                    {options?.map((option, index) => (\n                        <FormControlLabel\n                            key={index}\n                            value={option.value}\n                            control={<Radio />}\n                            label={option.label}\n                            disabled={isDisabled}\n                        />\n                    ))}\n                </RadioGroup>\n            </FormControl>\n            {isError && <FormHelperText style={{ color: theme.palette.error.main }}>{formik.errors[field]}</FormHelperText>}\n        </>\n    );\n};\n\nexport default Field;\n","import * as React from 'react';\nimport { FormHelperText } from '@mui/material';\nimport FormControl from '@mui/material/FormControl';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport TextField from '@mui/material/TextField';\nimport useCascadingLookup from '../../../hooks/useCascadingLookup';\n\nconst consts = {\n    limitTags: 5\n}\n\nconst Field = React.memo(({ column, field, formik, lookups, dependsOn = [], fieldConfigs = {}, mode, model, ...otherProps }) => {\n    const options = useCascadingLookup({ column, formik, lookups, dependsOn, model, isAutoComplete: true });\n    let inputValue = formik.values[field] || [];\n    if (!Array.isArray(inputValue)) {\n        inputValue = inputValue.split(\", \").map(Number);\n    }\n    const filteredCombos = options.filter(option => inputValue.includes(option.value)) || [];\n    const isDisabled = mode !== 'copy' && fieldConfigs.disabled;\n    const handleAutoCompleteChange = (_, newValue) => {\n        let toSave = newValue?.map(val => val.value) || [];\n        // multi-select values are stored as array or as comma-separated-string based on dataFormat\n        if (column.dataFormat !== 'array') {\n            toSave = toSave.length ? toSave.join(', ') : '';\n        }\n        formik.setFieldValue(field, toSave);\n    };\n\n    return (\n        <FormControl\n            fullWidth\n            key={field}\n            variant=\"standard\"\n            error={formik.touched[field] && Boolean(formik.errors[field])}\n        >\n            <Autocomplete\n                {...otherProps}\n                multiple\n                id={field}\n                limitTags={column.limitTags || consts.limitTags}\n                options={options || []}\n                getOptionLabel={(option) => option.label || ''}\n                defaultValue={filteredCombos}\n                renderInput={(params) => <TextField {...params} variant=\"standard\" />}\n                onChange={handleAutoCompleteChange}\n                value={filteredCombos}\n                size=\"small\"\n                disabled={isDisabled}\n            />\n            {formik.touched[field] && formik.errors[field] && <FormHelperText>{formik.errors[field]}</FormHelperText>}\n        </FormControl>\n    )\n});\n\nexport default Field;\n\n","import { Avatar, useTheme } from \"@mui/material\";\n\nexport const brandBackgroundColor = '#182eb5';\nexport const brandColor = '#ffffff';\nfunction RenderDayCell({ value }) {\n    const days = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\n    const dayValues = value.split('');\n\n    const theme = useTheme();\n    return (\n        <div style={{ display: 'flex' }}>\n            {dayValues.map((val, index) => (\n                <Avatar\n                    key={index}\n                    sx={{\n                        backgroundColor: val === '1' ? theme.palette.success.main : brandColor,\n                        color: val === '1' ? 'white' : 'black',\n                        marginRight: '5px',\n                        width: '25px',\n                        height: '25px',\n                        fontSize: '0.65rem',\n                        lineHeight: '25px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        border: \"1px solid grey\"\n                    }}\n                >\n                    {days[index]}\n                </Avatar>\n            ))}\n        </div>\n    );\n}\n\nexport {\n    RenderDayCell\n}","import React from 'react';\nimport { useCallback, useState } from 'react';\nimport { Avatar, FormControl, FormControlLabel, FormHelperText, Radio, RadioGroup, styled, useTheme } from '@mui/material';\nimport {  grey } from '@mui/material/colors';\nimport { brandBackgroundColor } from './CustomRenderCell';\n\n\nconst days = [\n    { label: 'Sunday', value: 0, display: 'S' },\n    { label: 'Monday', value: 1, display: 'M' },\n    { label: 'Tuesday', value: 2, display: 'T' },\n    { label: 'Wednesday', value: 3, display: 'W' },\n    { label: 'Thursday', value: 4, display: 'T' },\n    { label: 'Friday', value: 5, display: 'F' },\n    { label: 'Saturday', value: 6, display: 'S' },\n];\n\nconst CustomAvator = styled(Avatar)(({ theme, isSelected }) => ({\n    width: 34,\n    height: 34,\n    padding: 1,\n    margin: 1,\n    backgroundColor: isSelected ? brandBackgroundColor : '#ffffff',\n    border: `1px solid ${grey[500]}`,\n    color: isSelected ? 'white' : 'black',\n}));\n\nconst DayAvatar = ({ day, onClick, isSelected }) => {\n    return (\n        <CustomAvator\n            key={day.value}\n            onClick={() => onClick(day.value)}\n            isSelected={isSelected}\n            style={{ margin: '4px' }}\n        >\n            {day.display}\n        </CustomAvator>\n    );\n};\nconst DaySelection = ({ name, field, formik, expired }) => {\n    const { setFieldValue } = formik;\n    const { value } = formik.getFieldProps(name || field);\n\n    const isWeekend = '1000001';\n    const isWeekdays = '0111110';\n    const defaultVal = \"0\".repeat(7);\n\n    const [selectedDays, setSelectedDays] = useState(value || defaultVal);\n    const [radioValue, setRadioValue] = useState(() => {\n        if (!value) return '';\n        if (value === isWeekend) return isWeekend;\n        if (value === isWeekdays) return isWeekdays;\n        return 'Custom';\n    });\n    const [presetSelected, setPresetSelected] = useState(false);\n    const onAssignChange = useCallback((newValue) => {\n        if (Array.isArray(newValue)) {\n            let finalValue = defaultVal;\n            for (const val of newValue) {\n                finalValue = finalValue.substring(0, val) + \"1\" + finalValue.substring(val + 1);\n            }\n            setSelectedDays(finalValue);\n            setFieldValue(name || field, finalValue);\n            setPresetSelected(true);\n        } else {\n            let baseValue = presetSelected ? defaultVal : selectedDays;\n            const finalValue = baseValue.slice(0, newValue) + (baseValue[newValue] === \"1\" ? \"0\" : \"1\") + baseValue.slice(newValue + 1);\n            setSelectedDays(finalValue);\n            setFieldValue(name || field, finalValue);\n            setRadioValue('Custom');\n            setPresetSelected(false);\n        }\n    }, [presetSelected, defaultVal, selectedDays, name, field, setFieldValue]);\n    const theme = useTheme();\n    const isError = formik.touched[field] && Boolean(formik.errors[field]);\n    return (\n        <>\n            <FormControl component=\"fieldset\" error={isError}>\n                <RadioGroup\n                    row\n                    name={name || field}\n                    value={radioValue}\n                    onChange={event => {\n                        const val = event.target.value;\n                        setRadioValue(val);\n                        if (val !== 'Custom') {\n                            setSelectedDays(val);\n                            setFieldValue(name || field, val);\n                            setPresetSelected(true);\n                        } else {\n                            setSelectedDays(defaultVal);\n                            setFieldValue(name || field, defaultVal);\n                            setPresetSelected(false);\n                        }\n                    }}\n                >\n                    <FormControlLabel value={isWeekend} control={<Radio />} label={\"Weekends (Sat - Sun)\"} onClick={() => onAssignChange([0, 6])} />\n                    <FormControlLabel value={isWeekdays} control={<Radio />} label={\"Weekdays (Mon - Fri)\"} onClick={() => onAssignChange([1, 2, 3, 4, 5])} />\n                    <FormControlLabel value={'Custom'} control={<Radio />} label={\"Specific days\"} />\n                    {days.map((day, index) => (\n                        <DayAvatar\n                            key={day.value}\n                            day={day}\n                            onClick={() => onAssignChange(index)}\n                            isSelected={radioValue === 'Custom' && selectedDays[index] === \"1\"}\n                            disabled={expired}\n                        />\n                    ))}\n                </RadioGroup>\n            </FormControl>\n            {isError && <FormHelperText style={{ color: theme.palette.error.main }}>{formik.errors[field]}</FormHelperText>}\n        </>\n    );\n};\n\nexport default DaySelection;","import * as React from 'react';\nimport { FormHelperText, useTheme } from '@mui/material';\nimport FormControl from '@mui/material/FormControl';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport TextField from '@mui/material/TextField';\nimport Chip from '@mui/material/Chip';\nimport { useCallback } from 'react';\n\nconst Field = ({ isAdd, column, field, formik, otherProps, fieldConfigs = {}, mode }) => {\n    const theme = useTheme();\n    let inputValue = formik.values[field] || [];\n    if (!Array.isArray(inputValue)) {\n        inputValue = inputValue.split(',').map(item => item.trim());\n    }\n    const isDisabled = React.useMemo(() => {\n        if (mode === 'copy') return true;\n        if (typeof fieldConfigs.disabled !== 'undefined') return fieldConfigs.disabled;\n        if (typeof column.disabled === 'function') return column.disabled({ isAdd, formik });\n        return Boolean(column.disabled);\n    }, [mode, fieldConfigs.disabled, column.disabled]);\n    const fixedOptions = column.hasDefault && !isAdd ? [inputValue[0]] : [];\n\n    const handleAutoCompleteChange = useCallback((e, newValue, action, item = {}) => {\n        const lastElement = newValue.pop()?.trim();\n        if (!newValue.includes(lastElement)) {\n            newValue.push(lastElement);\n        }\n        if (fixedOptions && fixedOptions.includes(item.option) && action === \"removeOption\") {\n            newValue = [item.option];\n        }\n        // multi-select values are stored as array or as comma-separated-string based on dataFormat\n        if (column.dataFormat !== 'array') {\n            newValue = newValue.length ? newValue.join(',') : '';\n        }\n        formik.setFieldValue(field, newValue);\n    },[formik, field]);\n\n    return (\n        <FormControl\n            fullWidth\n            key={field}\n            variant=\"standard\"\n            error={formik.touched[field] && Boolean(formik.errors[field])}\n        >\n            <Autocomplete\n                {...otherProps}\n                multiple\n                id={field}\n                freeSolo={true}\n                value={inputValue}\n                options={[]}\n                renderInput={(params) => (\n                    <TextField \n                        {...params} \n                        variant=\"standard\"\n                        InputProps={{\n                            ...params.InputProps,\n                            sx: {\n                                ...params.InputProps?.sx,\n                                ...(isDisabled && { backgroundColor: theme.palette?.action?.disabled })\n                            }\n                        }}\n                    />\n                )}\n                onChange={handleAutoCompleteChange}\n                size=\"small\"\n                renderTags={(tagValue, getTagProps) =>\n                    tagValue.map((option, index) => {\n                        const { key, ...tagProps } = getTagProps({ index });\n                        return (\n                            <Chip\n                                key={key}\n                                label={option}\n                                {...tagProps}\n                                disabled={fixedOptions.includes(option)}\n                            />\n                        );\n                    })\n                }\n                disabled={isDisabled}\n            />\n            {formik.touched[field] && formik.errors[field] && <FormHelperText>{formik.errors[field]}</FormHelperText>}\n        </FormControl>\n    )\n}\n\nexport default Field;\n\n","import React from 'react';\nimport Box from '@mui/material/Box';\nimport { SimpleTreeView } from '@mui/x-tree-view/SimpleTreeView';\nimport { TreeItem } from '@mui/x-tree-view/TreeItem';\n\n/**\n * Builds a tree structure from a flat array of data.\n * \n * @param {Array<Object>} data - The array of items to build the tree from.\n * @param {string|number} data[].ParentId - The ID of the parent item.\n * @param {string} data[].ParentName - The label for the parent item.\n * @param {string|number} data[].value - The unique value of the item.\n * @param {string} data[].label - The label for the item.\n * @returns {Array<Object>} The tree structure containing parent and child nodes.\n */\nconst buildTree = (data = []) => {\n  const tree = {};\n  data.forEach((item) => {\n    if (item.ParentId && tree[item.ParentId]) {\n      tree[item.ParentId].children.push({\n        value: item.value?.toString(),\n        label: item.label\n      });\n    } else {\n      tree[item.ParentId] = {\n        label: item.ParentName,\n        value: \"Parent\" + item.ParentId.toString(),\n        children: [{\n          value: item.value?.toString(),\n          label: item.label\n        }]\n      };\n    }\n  });\n  return Object.values(tree);\n};\n\n/**\n * Renders a tree view component with checkboxes for selection.\n * \n * @param {Object} props - The properties passed to the component.\n * @param {Object} props.column - The column metadata, including lookup information.\n * @param {string} props.field - The name of the field in the form to bind.\n * @param {Object} props.formik - The Formik instance for managing form state.\n * @param {Object} props.lookups - The lookup data for populating tree items.\n * @param {Array<Object>} props.data - Additional data for the tree.\n * @param {Object} props.otherProps - Other props for customization.\n * @param {Object} props.model - The model configuration.\n * @param {Object} props.fieldConfigs - Configuration for the field, including disabled state.\n * @param {string} props.mode - The mode of the form, such as 'edit' or 'copy'.\n * @returns {JSX.Element} The rendered tree view component.\n */\nexport default function treeCheckBox({ column, field, formik, lookups, fieldConfigs, mode }) {\n  const options = lookups ? lookups[column.lookup] : [];\n  const tree = buildTree(options);\n  const inputValue = formik.values[field]?.length ? formik.values[field].split(\", \") : [];\n  let isDisabled;\n  if (mode !== 'copy') {\n    isDisabled = fieldConfigs?.disabled;\n  }\n  const handleChange = (_, newValue) => {\n    formik.setFieldValue(field, newValue?.join(', ') || '');\n  };\n  return (\n    <Box sx={{ minHeight: 350 }}>\n      <SimpleTreeView\n        selectedItems={inputValue}\n        onSelectedItemsChange={handleChange}\n        disabled={isDisabled}\n        multiSelect\n        checkboxSelection\n      >\n        {tree.map((node) => (\n          <TreeItem key={node.value} itemId={node.value} label={node.label}>\n            {node.children.map((child) => (\n              <TreeItem key={child.value} itemId={child.value} label={child.label} />\n            ))}\n          </TreeItem>\n        ))}\n      </SimpleTreeView>\n    </Box>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Box, RadioGroup, FormControlLabel, Radio, TextField, Button, Typography, Tooltip, CircularProgress } from \"@mui/material\";\nimport { useRouter, useStateContext } from \"../../useRouter/StateProvider\";\nimport { transport } from \"../../Grid/httpRequest\";\nimport { useSnackbar } from \"../../SnackBar\";\nimport utils from \"../../utils\";\n\nconst consts = { maxLength: 500 }; // Default max length for document link\nconst { errorMapping } = utils;\nconst MB = 1024 * 1024;\nfunction FileUpload({ column, field, formik }) {\n    const inputValue = formik.values[field] || \"\";\n    const { stateData } = useStateContext();\n    const { maxSize, formats } = column;\n    const { uploadApi, mediaApi, Url } = stateData?.gridSettings?.permissions;\n    const [formState, setFormState] = useState({\n        isExternal: \"no\",\n        selectedFile: null\n    });\n    const [loading, setLoading] = useState(false); // Add loading state\n    const snackbar = useSnackbar();\n    const { getParams, useParams } = useRouter();\n    const { associationId } = useParams() || getParams;\n    const id = associationId?.split(\"-\")[0] || 1;\n\n    const handleRadioChange = (event) => {\n        const isExternal = event.target.value;\n        setFormState({\n            ...formState,\n            isExternal,\n            selectedFile: null\n        });\n        formik.setFieldValue(field, formik.values[field]); // Reset form field value\n    };\n\n    const handleInputChange = (e) => {\n        formik.setFieldValue(field, e.target.value);\n    };\n\n    const handleFileChange = (event) => {\n        const selectedFile = event.target.files[0];\n        if (!selectedFile) return;\n        if (maxSize && selectedFile.size > maxSize * MB) {\n            snackbar.showError(`File size exceeds the maximum limit of ${maxSize} MB.`);\n            return;\n        }\n        if (Array.isArray(formats) && !formats.includes(selectedFile.type)) {\n            snackbar.showError(`Invalid file format. Allowed formats: ${formats.join(\", \")}.`);\n            return;\n        }\n        setFormState((prev) => ({ ...prev, selectedFile }));\n    };\n\n    const handleFileUpload = async () => {\n        if (!formState.selectedFile) return;\n\n        setLoading(true); // Start loading\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", formState.selectedFile);\n            formData.append(\"DocumentGroupId\", formik.values.DocumentGroupId); // Doc group ID\n            formData.append(\"AssociationId\", id); // Association ID\n            const response = await transport({\n                method: 'POST',\n                url: uploadApi,\n                data: formData,\n                headers: { 'Content-Type': 'multipart/form-data' },\n                credentials: 'include'\n            });\n            const data = response.data || {};\n            if (!data.success) {\n                snackbar.showError(data.message || \"Upload failed\");\n                return;\n            }\n            const fileUrl = mediaApi + '/' + data.filePath;\n            formik.setFieldValue(field, fileUrl);\n        } catch (error) {\n            const statusCode = (error.message.match(/status code (\\d{3})/) || [])[1];\n            snackbar.showError(errorMapping[statusCode]);\n        } finally {\n            setLoading(false); // Stop loading\n        }\n    };\n\n    const host = new URL(Url, window.location.origin).hostname.toLowerCase();\n    React.useEffect(() => {\n        setFormState({\n            ...formState,\n            isExternal: !inputValue.toLowerCase().includes(host) ? \"yes\" : \"no\"\n        });\n    }, [inputValue, setFormState]);\n\n    const isLengthExceeded = formik.values[field]?.length > (column.max || consts.maxLength);\n    const colorScheme = isLengthExceeded ? 'red' : '';\n\n    return (\n        <Box>\n            {/* Radio group */}\n            <Box sx={{ display: \"flex\", alignItems: \"center\", marginBottom: 2 }}>\n                <Typography variant=\"body1\" sx={{ width: \"150px\", marginRight: 2 }}>\n                    External Link?\n                </Typography>\n                <RadioGroup\n                    row\n                    value={formState.isExternal}\n                    onChange={handleRadioChange}\n                    aria-label=\"is-external-link\"\n                    name=\"is-external-link\"\n                >\n                    <FormControlLabel value=\"yes\" control={<Radio />} label=\"Yes\" />\n                    <FormControlLabel value=\"no\" control={<Radio />} label=\"No\" />\n                </RadioGroup>\n            </Box>\n\n            {/* Document link */}\n            <Box sx={{ display: \"flex\", alignItems: \"center\", marginBottom: 2 }}>\n                <Typography variant=\"body1\" sx={{ width: \"150px\", marginRight: 2 }}>\n                    Document Link\n                </Typography>\n                <Box sx={{ flex: 1, display: \"flex\", flexDirection: \"column\" }}>\n                    {formState.isExternal === \"yes\" ? (\n                        <TextField\n                            fullWidth\n                            value={inputValue}\n                            sx={{\n                                \"& .MuiOutlinedInput-root\": {\n                                    \"& fieldset\": { borderColor: colorScheme },\n                                    \"&.Mui-focused fieldset\": { borderColor: colorScheme },\n                                    \"&:hover fieldset\": { borderColor: colorScheme }\n                                }\n                            }}\n                            onChange={handleInputChange}\n                            placeholder=\"Enter external link\"\n                        />\n                    ) : (\n                        <TextField\n                            fullWidth\n                            value={inputValue}\n                            placeholder=\"Link autopopulated once uploaded\"\n                            InputProps={{ readOnly: true }}\n                        />\n                    )}\n                    {isLengthExceeded && <Typography sx={{ color: 'red' }}>Maximum allowed length for the document link is {column.max} characters.</Typography>}\n                </Box>\n            </Box>\n\n            {/* File upload */}\n            {formState.isExternal === \"no\" && (\n                <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 2 }}>\n                    <Button\n                        variant=\"outlined\"\n                        component=\"label\"\n                        disabled={loading} // Disable while loading\n                    >\n                        Choose File\n                        <input type=\"file\" hidden onChange={handleFileChange} />\n                    </Button>\n                    {formState.selectedFile && (\n                        <Tooltip title={formState.selectedFile.name} arrow>\n                            <Typography variant=\"body2\">\n                                {formState.selectedFile.name.length > 20\n                                    ? `${formState.selectedFile.name.substring(0, 20)}...`\n                                    : formState.selectedFile.name}\n                            </Typography>\n                        </Tooltip>\n                    )}\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleFileUpload}\n                        disabled={!formState.selectedFile || loading} // Disable while loading\n                    >\n                        {loading ? <CircularProgress size={24} color=\"inherit\" /> : \"Upload File\"}\n                    </Button>\n                </Box>\n            )}\n        </Box>\n    );\n}\n\nexport default FileUpload;\n","import * as React from 'react';\nimport FormControl from '@mui/material/FormControl';\nimport Input from '@mui/material/Input';\nimport Typography from '@mui/material/Typography';\nimport useDebounce from '../../../hooks/useDebounce';\n\nconst Field = ({ field, formik }) => {\n    const [state, setState] = React.useState({});\n    const debouncedState = useDebounce(state, 300);\n\n    React.useEffect(() => {\n        if (!formik.values[field]) return;\n        try {\n            const inputJSON = JSON.parse(formik.values[field]);\n            setState(inputJSON);\n        } catch (e) {\n            setState({});\n        }\n    }, [formik.values[field]]);\n\n    // Update formik when debounced state changes\n    React.useEffect(() => {\n        const nextValue = JSON.stringify(debouncedState);\n        if (formik.values[field] !== nextValue) {\n            formik.setFieldValue(field, nextValue);\n        }\n    }, [debouncedState, field, formik, formik.values[field]]);\n\n    const handleChange = (key, value) => {\n        const updatedState = { ...state, [key]: value };\n        setState(updatedState);\n    };\n\n    return (\n        <FormControl\n            fullWidth\n            key={field}\n            variant=\"standard\"\n            error={formik.touched[field] && Boolean(formik.errors[field])}\n            style={{ marginBottom: '1rem' }}\n        >\n            {Object.keys(state).map((key) => (\n                <div\n                    key={key}\n                    style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        marginBottom: '0.5rem'\n                    }}\n                >\n                    <Typography variant=\"body1\" sx={{ width: \"180px\", marginRight: 2 }}>\n                        {key}:\n                    </Typography>\n                    <Input\n                        id={key}\n                        name={key}\n                        value={state[key]}\n                        onChange={(e) => handleChange(key, e.target.value)}\n                        fullWidth\n                        style={{ flex: 2 }}\n                    />\n                </div>\n            ))}\n        </FormControl>\n    );\n};\n\nexport default Field;\n","import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport BooleanField from './fields/boolean';\nimport StringField from './fields/string';\nimport NumberField from './fields/number';\nimport PasswordField from './fields/password';\nimport DateField from './fields/date';\nimport DateTimeField from './fields/dateTime';\nimport TimeField from './fields/time';\nimport SelectField from './fields/select';\nimport GridTransfer from './fields/grid-transfer';\nimport Grid from '@mui/material/Grid';\nimport RadioField from './fields/radio';\nimport AutocompleteField from './fields/autocomplete';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\nimport Button from '@mui/material/Button';\nimport DaySelection from './fields/dayRadio';\nimport { Typography } from '@mui/material';\nimport { ActiveStepContext } from './Form';\nimport styled from '@emotion/styled';\nimport ChipInput from './fields/chipInput';\nimport TreeCheckbox from './fields/treeCheckBox';\nimport FileUpload from './fields/fileUpload';\nimport JSONInput from './fields/jsonInput';\nimport utils from '../utils';\n\nconst fieldMappers = {\n    \"boolean\": BooleanField,\n    \"select\": SelectField,\n    \"string\": StringField,\n    \"number\": NumberField,\n    \"password\": PasswordField,\n    \"date\": DateField,\n    \"dateTime\": DateTimeField,\n    \"time\": TimeField,\n    \"oneToMany\": GridTransfer,\n    \"radio\": RadioField,\n    \"autocomplete\": AutocompleteField,\n    \"dayRadio\": DaySelection,\n    \"email\": StringField,\n    \"chipInput\": ChipInput,\n    \"treeCheckbox\": TreeCheckbox,\n    \"fileUpload\": FileUpload,\n    \"json\": JSONInput\n};\n\nconst gridContainerStyle = { paddingTop: \"2.5px\", paddingBottom: \"2.5px\" };\n\nconst ImportantSpan = styled('span')({\n  color: 'red !important',\n});\n\nconst RenderSteps = ({ tabColumns, model, formik, data, onChange, combos, lookups, fieldConfigs, mode, handleSubmit }) => {\n    const [skipped, setSkipped] = React.useState(new Set());\n\n    const { activeStep, setActiveStep } = React.useContext(ActiveStepContext);\n\n    const skipSteps = {};\n    for (let index = 0, len = model.columns.length; index < len; index++) {\n        const { field, skip } = model.columns[index];\n        if (skip) {\n            skipSteps[skip.step] = formik.values[field];\n        }\n    }\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step) || skipSteps[step];\n    };\n\n    const isLastStep = () => {\n        for (let nextStep = activeStep + 1; nextStep < tabColumns.length; nextStep++) {\n            if (!isStepSkipped(nextStep)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    const handleNext = () => {\n        let nextStep = activeStep + 1;\n        while (skipSteps[nextStep]) {\n            nextStep++;\n        }\n\n        setSkipped((prevSkipped) => new Set(prevSkipped).add(activeStep));\n\n        if (nextStep >= tabColumns.length || isLastStep()) {\n            handleSubmit();\n        } else {\n            setActiveStep(nextStep);\n        }\n    };\n\n    const handleBack = () => {\n        let prevStep = activeStep - 1;\n\n        while (skipSteps[prevStep] && prevStep > 0) {\n            prevStep--;\n        }\n        setActiveStep(prevStep);\n    };\n\n    if (!tabColumns?.length) {\n        return null;\n    }\n\n    const currentStep = tabColumns[activeStep];\n    return (\n        <>\n            <Stepper activeStep={activeStep} sx={{ marginBottom: '20px' }}>\n                {tabColumns.map(({ title, key }, index) => {\n                    return (\n                        <Step key={key} completed={isStepSkipped(index)}>\n                            <StepLabel>\n                                <Typography sx={{ fontSize: '20px' }}>{title}</Typography>\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n            <React.Fragment>\n                <RenderColumns formElements={currentStep.items} model={model} formik={formik} data={data} onChange={onChange} combos={combos} lookups={lookups} fieldConfigs={fieldConfigs} mode={mode} />\n                <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, mr: 2 }}>\n                    {activeStep !== 0 ? <Button color=\"inherit\" disabled={activeStep === 0} onClick={handleBack} variant=\"contained\" sx={{ mr: 2 }}> {'Back'}</Button> : null}\n                    <Button onClick={handleNext} variant=\"contained\">{isLastStep() ? \"Finish\" : \"Next\"}</Button>\n                </Box>\n            </React.Fragment>\n        </>\n    );\n};\n\nconst RenderColumns = ({ formElements, model, formik, data, onChange, combos, lookups, fieldConfigs, mode, isAdd }) => {\n    if (!formElements?.length) {\n        return null;\n    }\n    return (\n        <>\n            {\n                formElements.map(({ Component, column, field, label, otherProps }, key) => {\n                    const isGridComponent = typeof column.relation === 'function';\n                    return (\n                        <Grid container spacing={2} key={key} sx={{ marginTop: \"1rem\", marginBottom: \"1rem\" }} alignItems={isGridComponent ? \"flex-start\" : \"center\"}>\n                            {column?.showLabel !== false ?\n                                <Grid size={{ xs: 3 }} sx={gridContainerStyle}>\n                                    <Typography sx={{ fontSize: \"16px\", fontWeight: \"bold\" }} className=\"form-label\">{column.label || field}: {column.required && <ImportantSpan>*</ImportantSpan>}</Typography>\n                                </Grid>\n                                : null\n                            }\n                            <Grid size={{ xs: isGridComponent ? 12 : 9 }} sx={gridContainerStyle}>\n                                <Component isAdd={isAdd} model={model} fieldConfigs={fieldConfigs[field]} mode={mode} column={column} field={field} label={label} formik={formik} data={data} onChange={onChange} combos={combos} lookups={lookups} {...otherProps} />\n                            </Grid>\n                        </Grid >\n                    );\n                })\n            }\n        </>\n    );\n};\n\nconst getFormConfig = function ({ columns, tabs = {}, id, searchParams }) {\n    const formElements = [], tabColumns = {};\n    for (const tab in tabs) {\n        tabColumns[tab] = [];\n    }\n    for (const column of columns) {\n        const fieldType = column.type;\n        if (column.label === null) { /* If the field should not be shown in form mode, specify label as null */\n            continue;\n        }\n        const { field, label, tab } = column;\n        const otherProps = {};\n        if (column.options) {\n            otherProps.options = column.options;\n        }\n        if (column.dependsOn) {\n            otherProps.dependsOn = column.dependsOn;\n        }\n        const Component = fieldMappers[fieldType];\n        if (!Component || (column.hideInAddGrid && id === '0')) {\n            continue;\n        }\n\n        const target = tab && tabs[tab] ? tabColumns[tab] : formElements;\n        target.push({ Component, field, label, column: { ...column, readOnly: searchParams.has('showRelation') || column.readOnly }, otherProps });\n    }\n    const tabsData = [];\n    for (const tabColumn in tabColumns) {\n        tabsData.push({ key: tabColumn, title: tabs[tabColumn], items: tabColumns[tabColumn] });\n    }\n    return { formElements, tabColumns: tabsData };\n};\n\nconst FormLayout = ({ model, formik, data, combos, onChange, lookups, id: displayId, fieldConfigs, mode, handleSubmit }) => {\n    const isAdd = utils.emptyIdValues.includes(displayId);\n    const { formElements, tabColumns } = React.useMemo(() => {\n        const showTabs = model.formConfig?.showTabbed;\n        const searchParams = new URLSearchParams(window.location.search);\n        const { formElements, tabColumns } = getFormConfig({ columns: model.columns, tabs: showTabs ? model.tabs : {}, id: displayId, searchParams });\n        return { formElements, tabColumns, showTabs: showTabs && tabColumns.length > 0 };\n    }, [model]);\n    return (\n        <div>\n            <RenderColumns isAdd={isAdd} formElements={formElements} model={model} formik={formik} data={data} onChange={onChange} combos={combos} lookups={lookups} fieldConfigs={fieldConfigs} mode={mode} />\n            <div style={{ marginTop: '20px' }}>\n                <RenderSteps tabColumns={tabColumns} model={model} formik={formik} data={data} onChange={onChange} combos={combos} lookups={lookups} fieldConfigs={fieldConfigs} mode={mode} handleSubmit={handleSubmit} />\n            </div>\n        </div>\n    );\n};\n\nexport {\n    BooleanField,\n    StringField,\n    NumberField,\n    PasswordField,\n    DateField,\n    TimeField,\n    SelectField,\n    GridTransfer,\n    fieldMappers\n};\n\nexport default FormLayout;\n","import React, {\n  memo,\n  useState\n} from \"react\";\nimport Tab from \"@mui/material/Tab\";\nimport Box from \"@mui/material/Box\";\nimport Tabs from '@mui/material/Tabs';\nimport { UiModel } from \"../Grid/ui-models\";\n\nfunction CustomTabPanel(props) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\n/**\n * Memoized ChildGrid Component\n * @param {Object} params - Parameters for rendering the child grid\n * @param {string} params.relation - Name of the related model\n * @param {Object} params.parentFilters - Filters to apply to the parent\n * @param {Object} params.parent - Parent data\n * @param {Object} params.where - Conditions for the grid\n * @param {Array} params.models - List of available models\n */\nconst ChildGrid = memo(({ relation, parentFilters, parent, where, models, readOnly }) => {\n  const modelConfigOfChildGrid = models.find(({ name }) => name === relation);\n  if (!modelConfigOfChildGrid) return null;\n  const config = { ...modelConfigOfChildGrid, hideBreadcrumb: true };\n  const ChildModel = config instanceof UiModel ? config : new UiModel(config);\n  if (!ChildModel) return null;\n\n  return (\n    <ChildModel.ChildGrid\n      readOnly={readOnly}\n      parentFilters={parentFilters}\n      parent={parent}\n      model={config}\n      where={where}\n      isChildGrid={true}\n    />\n  );\n});\n\n/**\n * Relations component using MUI Tabs\n * Renders a tab for each relation, and a ChildGrid in each panel\n */\nconst Relations = React.memo(({ relations, parent, where = [], models, relationFilters, readOnly }) => {\n  const [tabIndex, setTabIndex] = useState(0);\n\n  const handleChange = (_, newValue) => {\n    setTabIndex(newValue);\n  };\n\n  return (\n    <Box sx={{ width: '100%' }}>\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Tabs value={tabIndex} onChange={handleChange} aria-label=\"relations tabs\">\n          {relations.map((relation, idx) => {\n            const modelConfigOfChildGrid = models.find(({ name }) => name === relation) || {};\n            const label = modelConfigOfChildGrid.listTitle || modelConfigOfChildGrid.title || relation;\n            return (\n              <Tab\n                key={relation}\n                label={label}\n                {...a11yProps(idx)}\n              />\n            );\n          })}\n        </Tabs>\n      </Box>\n      {relations.map((relation, idx) => (\n        <CustomTabPanel value={tabIndex} index={idx} key={relation}>\n          <ChildGrid\n            readOnly={readOnly}\n            relation={relation}\n            key={relation}\n            models={models}\n            parentFilters={relationFilters[relation] || []}\n            parent={parent}\n            where={where}\n          />\n        </CustomTabPanel>\n      ))}\n    </Box>\n  );\n});\n\nexport default Relations;\n","import React from \"react\";\nimport { useFormik } from \"formik\";\nimport { useState, useEffect, createContext, useMemo, useCallback } from \"react\";\nimport {\n  getRecord,\n  saveRecord,\n  deleteRecord\n} from \"../Grid/crud-helper\";\nimport Button from \"@mui/material/Button\";\nimport Paper from \"@mui/material/Paper\";\nimport Stack from \"@mui/material/Stack\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Box from \"@mui/material/Box\";\nimport FormLayout from \"./field-mapper\";\nimport { useSnackbar } from \"../SnackBar\";\nimport { DialogComponent } from \"../Dialog\";\nimport { useStateContext, useRouter } from \"../useRouter/StateProvider\";\nimport actionsStateProvider from \"../useRouter/actions\";\nimport PageTitle from \"../PageTitle\";\nimport utils, { getPermissions } from \"../utils\";\nimport Relations from \"./relations\";\nexport const ActiveStepContext = createContext(1);\nconst defaultFieldConfigs = {};\nconst consts = {\n  object: \"object\",\n  function: \"function\",\n  baseData: \"baseData\",\n  string: \"string\",\n  create: \"Create\",\n  copy: \"Copy\",\n  edit: \"Edit\",\n  number: \"number\",\n  loadIdIndex: 1,\n  editIdIndex: 0\n};\n\nconst Form = ({\n  model,\n  api,\n  models,\n  relationFilters = {},\n  permissions = {},\n  Layout = FormLayout,\n  baseSaveData = {},\n  sx,\n  readOnly,\n  beforeSubmit,\n  deletePromptText,\n  detailPanelId = null, // Grid Row Detail Panel Id\n  onCancel,\n  onSaveSuccess\n}) => {\n  const formTitle = model.formTitle || model.title;\n  const { navigate, getParams, useParams, pathname } = useRouter();\n  const { relations = [] } = model;\n  const { dispatchData, stateData, buildUrl } = useStateContext();\n  const params = useParams() || getParams;\n  const { id: idWithOptions = \"\" } = params;\n  const id = detailPanelId || idWithOptions.split(\"-\")[consts.editIdIndex];\n  const searchParams = new URLSearchParams(window.location.search);\n  const baseDataFromParams = searchParams.has(consts.baseData) && searchParams.get(consts.baseData);\n  if (baseDataFromParams) {\n    const parsedData = JSON.parse(baseDataFromParams);\n    if (typeof parsedData === consts.object && parsedData !== null) {\n      baseSaveData = { ...baseSaveData, ...parsedData };\n    }\n  }\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState({});\n  const [lookups, setLookups] = useState({});\n  const [isDeleting, setIsDeleting] = useState(false);\n  const snackbar = useSnackbar();\n  const [validationSchema, setValidationSchema] = useState(null);\n  const [activeStep, setActiveStep] = useState(0);\n  const [isDiscardDialogOpen, setIsDiscardDialogOpen] = useState(false);\n  const [deleteError, setDeleteError] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const fieldConfigs = typeof model.applyFieldConfig === consts.function\n    ? model.applyFieldConfig({ data, lookups })\n    : defaultFieldConfigs;\n  const gridApi = buildUrl(model.controllerType, model.api);\n  const { mode } = stateData.dataForm;\n  const userData = stateData.getUserData || {};\n  const userDefinedPermissions = {\n    add: true,\n    edit: true,\n    delete: true,\n    ...model.permissions,\n    ...permissions\n  };\n  const { canEdit } = getPermissions({\n    userData,\n    model,\n    userDefinedPermissions\n  });\n  const { hideBreadcrumb = false, navigateBack } = model;\n  const recordEditable = !(\"canEdit\" in data) || data.canEdit;\n\n  const handleNavigation = useCallback(() => {\n    let navigatePath;\n    switch (typeof navigateBack) {\n      case consts.function:\n        navigatePath = navigateBack({ params, searchParams, data });\n        break;\n      case consts.number:\n      case consts.string:\n        navigatePath = navigateBack;\n        break;\n      default:\n        navigatePath = pathname.substring(0, pathname.lastIndexOf(\"/\"));\n        break;\n    }\n    navigate(navigatePath);\n  }, [navigateBack, navigate, params, searchParams, data, pathname]);\n\n  const isNew = useMemo(() => utils.emptyIdValues.includes(id), [id]);\n\n  const initialValues = useMemo(() => isNew\n    ? { ...model.initialValues, ...data, ...baseSaveData }\n    : { ...baseSaveData, ...model.initialValues, ...data }, [model.initialValues, data, id]);\n\n  useEffect(() => {\n    const formApi = api || gridApi;\n    if (!formApi) return;\n    setIsLoading(true);\n    setValidationSchema(model.getValidationSchema({ id, snackbar }));\n    const options = idWithOptions.split(\"-\");\n    const params = {\n      api: formApi,\n      model,\n      setError: errorOnLoad\n    };\n    getRecord({\n      ...params,\n      id: detailPanelId || (options.length > 1 ? options[consts.loadIdIndex] : id),\n      setActiveRecord,\n      dispatchData\n    });\n\n  }, [id, idWithOptions, model, api, gridApi, detailPanelId, dispatchData]);\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues,\n    validationSchema: validationSchema,\n    validateOnBlur: false,\n    onSubmit: async (values, { resetForm }) => {\n      Object.keys(values).forEach(key => {\n        if (typeof values[key] === consts.string) {\n          values[key] = values[key].trim();\n        }\n      });\n      setIsLoading(true);\n      saveRecord({\n        id,\n        api: gridApi,\n        values: values,\n        setError: snackbar.showError,\n        model,\n        dispatchData\n      })\n        .then((success) => {\n          if (!success) return;\n          if (model.reloadOnSave) {\n            return window.location.reload();\n          }\n          if (typeof onSaveSuccess === consts.function) {\n            onSaveSuccess();\n          }\n          const message = success.info ? success.info : `Record ${id === 0 ? \"Added\" : \"Updated\"} Successfully.`;\n          snackbar.showMessage(message);\n          /**\n          * Handle navigation after form operations\n          * By default, the form navigates back to the grid after save/cancel operations.\n          * This behavior can be controlled by setting navigateBack \"false\" / false in model config which disables navigation completely.\n          */\n          navigateBack !== false && handleNavigation();\n          resetForm({ values: formik.values});\n        })\n        .catch((err) => {\n          snackbar.showError(\n            \"An error occured.\",\n            err\n          );\n          if (model.reloadOnSave) {\n            resetForm();\n          }\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  });\n\n  const handleDiscardChanges = useCallback(() => {\n    formik.resetForm();\n    setIsDiscardDialogOpen(false);\n    if (typeof onCancel === consts.function) {\n      onCancel();\n    }\n    navigateBack !== false && handleNavigation();\n  }, [formik, onCancel, navigateBack, handleNavigation]);\n\n  const errorOnLoad = useCallback((title, error) => {\n    setIsLoading(false);\n    snackbar.showError(title, error);\n    handleNavigation();\n  }, [snackbar, handleNavigation]);\n\n  const setActiveRecord = function ({ id, title, record, lookups }) {\n    const isCopy = idWithOptions.indexOf(\"-\") > -1;\n    const isNew = !id || id === \"0\";\n    const pageTitle = isNew ? consts.create : isCopy ? consts.copy : consts.edit;\n    const linkColumn = isNew ? \"\" : record[model.linkColumn];\n    const breadcrumbs = [{ text: model.breadCrumbs }, { text: pageTitle }];\n    if (isCopy) {\n      record[model.linkColumn] = \"\";\n    }\n    model.columns.forEach((item) => {\n      if (item.skipCopy && isCopy) {\n        record[item.field] = \"\";\n      }\n    });\n    setData(record);\n    setLookups(lookups);\n    setIsLoading(false);\n    if (linkColumn !== \"\") {\n      breadcrumbs.push({ text: linkColumn });\n    }\n    dispatchData({\n      type: actionsStateProvider.PAGE_TITLE_DETAILS,\n      payload: {\n        showBreadcrumbs: true,\n        breadcrumbs: breadcrumbs\n      }\n    });\n  };\n  const handleFormCancel = useCallback((event) => {\n    if (formik.dirty && recordEditable) {\n      setIsDiscardDialogOpen(true);\n    } else {\n      if (typeof onCancel === consts.function) {\n        onCancel();\n      }\n      navigateBack !== false && handleNavigation();\n    }\n    event.preventDefault();\n  }, [formik.dirty, recordEditable, onCancel, navigateBack, handleNavigation]);\n  const handleDelete = useCallback(async () => {\n    try {\n      setIsDeleting(true);\n      const response = await deleteRecord({\n        id,\n        api: api || model.api,\n        setError: snackbar.showError,\n        setErrorMessage,\n        model\n      });\n      if (response === true) {\n        snackbar.showMessage(\"Record Deleted Successfully.\");\n        navigateBack !== false && handleNavigation();\n      }\n    } catch (error) {\n      snackbar.showError(\"An error occurred, please try after some time.\");\n    } finally {\n      setIsDeleting(false);\n    }\n  }, [id, api, model.api, snackbar, setErrorMessage, model, navigateBack, handleNavigation]);\n  const clearError = () => {\n    setErrorMessage(null)\n    setIsDeleting(false);\n  };\n  const handleChange = useCallback((e) => {\n    const { name, value } = e.target;\n    setData({ ...data, [name]: value });\n  }, [data]);\n\n  const handleSubmit = useCallback(async (e) => {\n    if (e) e.preventDefault();\n    if (typeof beforeSubmit === consts.function) {\n      await beforeSubmit({ formik , model });\n    }\n    const { errors } = formik;\n    formik.handleSubmit();\n    const fieldName = Object.keys(errors)[0];\n    const errorMessage = errors[fieldName];\n    if (errorMessage) {\n      snackbar.showError(errorMessage, null, \"error\");\n    }\n    const fieldConfig = model.columns.find(\n      (column) => column.field === fieldName\n    ) || {};\n    if (fieldConfig.tab) {\n      setActiveStep(Object.keys(model.tabs).indexOf(fieldConfig.tab));\n    }\n  }, [beforeSubmit, formik, model, snackbar, setActiveStep]);\n\n  const breadcrumbs = [\n    { text: formTitle },\n    { text: id === \"0\" ? \"New\" : \"Update\" }\n  ];\n  const showRelations = Number(id) !== 0 && Boolean(relations.length);\n  const showSaveButton = searchParams.has(\"showRelation\");\n  const readOnlyRelations = !recordEditable || data.readOnlyRelations;\n  deletePromptText = deletePromptText || \"Are you sure you want to delete ?\";\n  const { showPageTitle = true } = model;\n  return (\n    <>\n      {showPageTitle && (\n        <PageTitle\n          navigate={navigate}\n          title={formTitle}\n          showBreadcrumbs={!hideBreadcrumb}\n          breadcrumbs={breadcrumbs}\n          model={model}\n        />\n      )}\n      <ActiveStepContext.Provider value={{ activeStep, setActiveStep }}>\n        <Paper sx={{ padding: 2, ...sx }}>\n          {isLoading ? (\n            <Box sx={{ display: \"flex\", justifyContent: \"center\", py: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : (\n          <form>\n            <Stack\n              direction=\"row\"\n              spacing={2}\n              justifyContent=\"flex-end\"\n              mb={1}\n            >\n              {canEdit && recordEditable && !showSaveButton && !readOnly && (\n                <Button\n                  variant=\"contained\"\n                  type=\"submit\"\n                  color=\"success\"\n                  onClick={handleSubmit}\n                >{`${\"Save\"}`}</Button>\n              )}\n              <Button\n                variant=\"contained\"\n                type=\"cancel\"\n                color=\"error\"\n                onClick={handleFormCancel}\n              >{`${\"Cancel\"}`}</Button>\n              {permissions.delete && (\n                <Button\n                  variant=\"contained\"\n                  color=\"error\"\n                  onClick={() => setIsDeleting(true)}\n                >{`${\"Delete\"}`}</Button>\n              )}\n            </Stack>\n            <Layout\n              model={model}\n              formik={formik}\n              data={data}\n              fieldConfigs={fieldConfigs}\n              onChange={handleChange}\n              lookups={lookups}\n              id={id}\n              handleSubmit={handleSubmit}\n              mode={mode}\n            />\n          </form>\n          )}\n          {errorMessage && (\n            <DialogComponent\n              open={!!errorMessage}\n              onConfirm={clearError}\n              onCancel={clearError}\n              title=\"Info\"\n              hideCancelButton={true}\n            >\n              {\" \"}\n              {errorMessage}\n            </DialogComponent>\n          )}\n          <DialogComponent\n            open={isDiscardDialogOpen}\n            onConfirm={handleDiscardChanges}\n            onCancel={() => setIsDiscardDialogOpen(false)}\n            title=\"Changes not saved\"\n            okText=\"Discard\"\n            cancelText=\"Continue\"\n          >\n            {\"Would you like to continue to edit or discard changes?\"}\n          </DialogComponent>\n          <DialogComponent\n            open={isDeleting}\n            onConfirm={handleDelete}\n            onCancel={() => {\n              setIsDeleting(false);\n              setDeleteError(null);\n            }}\n            title={deleteError ? \"Error Deleting Record\" : \"Confirm Delete\"}\n          >{deletePromptText}</DialogComponent>\n          {showRelations ? (\n            <Relations\n              readOnly={readOnlyRelations}\n              models={models}\n              relationFilters={relationFilters}\n              relations={relations}\n              parent={model.name || model.title || \"\"}\n            />\n          ) : null}\n        </Paper>\n      </ActiveStepContext.Provider>\n    </>\n  );\n};\nexport default Form;\n","import GridBase from './index';\nimport React from 'react';\nimport * as yup from 'yup';\nimport { Divider } from '@mui/material';\nimport Form from '../Form/Form';\n\nconst regexConfig = {\n\tpassword: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,50}$/,\n\tnonAlphaNumeric: /[^a-zA-Z0-9]/g,\n\tcompareValidatorRegex: /^compare:(.+)$/,\n\temail: /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/\n};\n\nconst customStyle = {};\nconst showRowsSelected = true;\nconst defaultValueConfigs = {\n\t\"string\": \"\",\n\t\"boolean\": false,\n\t\"radio\": false,\n\t\"oneToMany\": \"\"\n};\n\nclass UiModel {\n\n\tstatic defaultPermissions = {\n\t\tadd: true,\n\t\tedit: true,\n\t\tdelete: true\n\t};\n\n\tconstructor(modelConfig) {\n\t\tconst { title = \"\", controllerType } = modelConfig;\n\t\tlet { api, idProperty = api + 'Id' } = modelConfig;\n\t\tconst module = \"module\" in modelConfig ? modelConfig.module : title.replace(/[^\\w\\s]/gi, \"\");\n\t\tif (!api) {\n\t\t\tapi = `${title.replaceAll(regexConfig.nonAlphaNumeric, '-').toLowerCase()}`;\n\t\t\tidProperty = title.replaceAll(' ', '') + 'Id';\n\t\t}\n\t\tapi = controllerType === 'cs' ? `${api}.ashx` : `${api}`;\n\t\tconst defaultValues = { ...modelConfig.defaultValues };\n\t\tconst name = module || title;\n\t\tObject.assign(this, {\n\t\t\tstandard: true,\n\t\t\tname,\n\t\t\tpermissions: { ...UiModel.defaultPermissions },\n\t\t\tidProperty,\n\t\t\tlinkColumn: `${name}Name`,\n\t\t\toverrideFileName: title,\n\t\t\tpreferenceId: name,\n\t\t\ttableName: name,\n\t\t\tmodule,\n\t\t\t...modelConfig,\n\t\t\tapi\n\t\t});\n\t\tthis.columnVisibilityModel = this._getColumnVisibilityModel();\n\t\tthis.defaultValues = this._getDefaultValues(defaultValues);\n\t}\n\n\t_getColumnVisibilityModel() {\n\t\tconst columnVisibilityModel = {};\n\t\tfor (const col of this.columns) {\n\t\t\tif (col.hide === true) {\n\t\t\t\tcolumnVisibilityModel[col.id || col.field] = false;\n\t\t\t}\n\t\t}\n\t\treturn columnVisibilityModel;\n\t}\n\n\t_getDefaultValues(defaultValues) {\n\t\tfor (const col of this.columns) {\n\t\t\tconst name = col.field || col.id;\n\t\t\tdefaultValues[name] = col.defaultValue === undefined ? (defaultValueConfigs[col.type] || \"\") : col.defaultValue;\n\t\t}\n\t\treturn defaultValues;\n\t}\n\n\tgetValidationSchema({ id }) {\n\t\tconst { columns } = this;\n\t\tconst validationConfig = {};\n\t\tfor (const column of columns) {\n\t\t\tconst { field, label, header, type = 'string', requiredIfNew = false, required = false, min = '', max = '', validate } = column;\n\t\t\tconst formLabel = label || header || field;\n\t\t\tif (!formLabel) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (label === null || label === '') continue; // Skip fields that should not be validated in form mode\n\t\t\tlet config;\n\t\t\tswitch (type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\tconfig = yup.string().nullable().trim().label(formLabel);\n\t\t\t\t\tif (min && !isNaN(Number(min))) {\n\t\t\t\t\t\tconfig = config.min(Number(min), `${formLabel} must be at least ${min} characters long`);\n\t\t\t\t\t}\n\t\t\t\t\tif (max && !isNaN(Number(max))) {\n\t\t\t\t\t\tconfig = config.max(Number(max), `${formLabel} must be at most ${max} characters long`);\n\t\t\t\t\t}\n\t\t\t\t\tif (required) {\n\t\t\t\t\t\tconfig = config.trim().required(`${formLabel} is required`);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\tconfig = yup.bool().nullable().transform((value, originalValue) => {\n\t\t\t\t\t\tif (originalValue === '') return null;\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}).label(formLabel);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'radio':\n\t\t\t\tcase 'dayRadio':\n\t\t\t\t\tconfig = yup.mixed().label(formLabel);\n\t\t\t\t\tif (required) {\n\t\t\t\t\t\tconfig = config.required(`Select at least one option for ${formLabel}`);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'date':\n\t\t\t\t\tconfig = yup.date().nullable().transform((value, originalValue) => {\n\t\t\t\t\t\tif (originalValue === '' || originalValue === null) return null;\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}).label(formLabel);\n\t\t\t\t\tif (required) {\n\t\t\t\t\t\tconfig = config.required(`${formLabel} is required`);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dateTime':\n\t\t\t\t\tconfig = yup\n\t\t\t\t\t\t.date()\n\t\t\t\t\t\t.nullable() // Allow null values\n\t\t\t\t\t\t.transform((value, originalValue) => {\n\t\t\t\t\t\t\t// Transform empty strings or null values into null\n\t\t\t\t\t\t\tif (originalValue === '' || originalValue === null) return null;\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.label(formLabel); // Set a label for better error messages\n\t\t\t\t\tif (required) {\n\t\t\t\t\t\tconfig = config.required(`${formLabel} is required`);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'select':\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tif (required) {\n\t\t\t\t\t\tconfig = yup.string().trim().label(formLabel).required(`Select at least one ${formLabel}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconfig = yup.string().nullable();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'password':\n\t\t\t\t\tconfig = yup.string()\n\t\t\t\t\t\t.label(formLabel)\n\t\t\t\t\t\t.test(\"ignore-asterisks\", `${formLabel} must be a valid password.`, (value) => {\n\t\t\t\t\t\t\t// Skip further validations if value is exactly \"******\"\n\t\t\t\t\t\t\tif (value === \"******\") return true;\n\t\t\t\t\t\t\tconst minlength = Number(min) || 8;\n\t\t\t\t\t\t\tconst maxlength = Number(max) || 50;\n\t\t\t\t\t\t\tconst regex = column.regex || regexConfig.password;\n\t\t\t\t\t\t\t// Check minimum length, maximum length, and pattern if not \"******\"\n\t\t\t\t\t\t\treturn yup.string()\n\t\t\t\t\t\t\t\t.min(minlength, `${formLabel} must be at least ${minlength} characters`)\n\t\t\t\t\t\t\t\t.max(maxlength, `${formLabel} must be at most ${maxlength} characters`)\n\t\t\t\t\t\t\t\t.matches(\n\t\t\t\t\t\t\t\t\tregex,\n\t\t\t\t\t\t\t\t\t`${formLabel} must contain at least one lowercase letter, one uppercase letter, one digit, and one special character`\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.isValidSync(value);\n\t\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'email':\n\t\t\t\t\tconfig = yup\n\t\t\t\t\t\t.string()\n\t\t\t\t\t\t.trim()\n\t\t\t\t\t\t.matches(\n\t\t\t\t\t\t\t(column.regex || regexConfig.email),\n\t\t\t\t\t\t\t'Email must be a valid email'\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\tif (required) {\n\t\t\t\t\t\tconfig = yup.number().label(formLabel).required(`${formLabel} is required.`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconfig = yup.number().nullable();\n\t\t\t\t\t}\n\t\t\t\t\tif (min !== undefined && min !== '' && !isNaN(Number(min))) {\n\t\t\t\t\t\tconfig = config.min(Number(min), `${formLabel} must be greater than or equal to ${min}`);\n\t\t\t\t\t}\n\t\t\t\t\tif (max !== undefined && max !== '' && !isNaN(Number(max))) {\n\t\t\t\t\t\tconfig = config.max(Number(max), `${formLabel} must be less than or equal to ${max}`);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fileUpload':\n\t\t\t\t\tconfig = yup.string().trim().label(formLabel);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconfig = yup.mixed().nullable().label(formLabel);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (required && type !== \"string\") {\n\t\t\t\tconfig = config.required(`${formLabel} is required`);\n\t\t\t}\n\t\t\tif (requiredIfNew && (!id || id === '')) {\n\t\t\t\tconfig = config.trim().required(`${formLabel} is required`);\n\t\t\t}\n\t\t\tif (validate) {\n\t\t\t\tconst compareValidator = regexConfig.compareValidatorRegex.exec(validate);\n\t\t\t\tif (compareValidator) {\n\t\t\t\t\tconst compareFieldName = compareValidator[1];\n\t\t\t\t\tconst compareField = columns.find(\n\t\t\t\t\t\t(f) => (f.formField === compareFieldName || f.field) === compareFieldName\n\t\t\t\t\t);\n\t\t\t\t\tconfig = config.oneOf(\n\t\t\t\t\t\t[yup.ref(compareFieldName)],\n\t\t\t\t\t\t`${formLabel} must match ${compareField.label}`\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvalidationConfig[field] = config;\n\t\t}\n\n\t\treturn yup.object({ ...validationConfig, ...this.validationSchema });\n\t}\n\n\tForm = ({ match, ...props }) => {\n\t\treturn <Form model={this} Layout={this.Layout} {...props} />;\n\t};\n\n\tGrid = ({ match, ...props }) => {\n\t\treturn <GridBase model={this} showRowsSelected={showRowsSelected} {...props} />;\n\t};\n\tChildGrid = (props) => {\n\t\treturn <>\n\t\t\t<GridBase model={this} {...props} customStyle={customStyle} showRowsSelected={showRowsSelected} />\n\t\t\t<Divider orientation='horizontal' sx={{ mt: 2 }} />\n\t\t</>;\n\t};\n}\n\nexport {\n\tUiModel\n};\n\n\n"],"names":["SnackbarContext","createContext","vertical","horizontal","Alert","React","props","ref","jsx","MuiAlert","SnackbarProvider","children","message","setMessage","useState","open","setOpen","severity","setSeverity","handleAction","setHandleAction","showMessage","title","onAction","showError","handleClose","jsxs","Fragment","Snackbar","useSnackbar","useContext","DialogComponent","onConfirm","onCancel","okText","cancelText","yesNo","maxWidth","fullWidth","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","actionsStateProvider","pendingRequests","HTTP_STATUS_CODES","getFormData","formData","key","exportRequest","url","query","newURL","value","transport","config","method","data","headers","credentials","rest","fetchOptions","response","contentType","DATA_PARSERS","request","params","history","jsonPayload","additionalParams","additionalHeaders","disableLoader","dispatchData","dataParser","onParseError","reqParams","parseError","ex","dateDataTypes","lookupDataTypes","isLocalTime","dateValue","getErrorMessage","shouldApplyFilter","filter","operator","type","isUnaryOperator","hasValidValue","getList","gridColumns","setData","page","pageSize","sortModel","filterModel","api","parentFilters","action","setError","extraParams","columns","controllerType","template","configFileName","showFullScreenLoader","model","baseFilters","isElasticExport","lookups","lookupWithDeps","dateColumns","lookup","field","keepLocal","keepLocalDate","filterable","dependsOn","where","filterField","item","e","requestData","sort","form","v","hiddenTag","errorMessage","prevData","resData","record","column","userTimezoneOffset","displayIndex","getRecord","id","setActiveRecord","searchParams","lookupsToFetch","columnConfig","a","lookupValue","defaultValues","error","deleteRecord","result","saveRecord","values","getLookups","scopeId","reqData","crudHelper","Footer","pagination","apiRef","tTranslate","rowsPerPage","totalRows","totalPages","translate","i18n","useTranslation","tOpts","pageNumber","setPageNumber","handleChange","useEffect","onPageChange","targetPage","handleKeyPress","event","keyCode","keyValue","GridFooterContainer","Box","Typography","TextField","GridFooter","defaultTemplate","replaceTags","source","tags","keepMissingTags","match","g1","g2","g3","container","MuiTypography","variant","component","text","name","useMobile","onlyMobile","initialValue","checkDevice","view","setView","handleWindowSizeChange","userAgent","mobile","tablet","currentOrientation","stateReducer","state","initialState","daDKGrid","mergedLocalizationDatadaDK","locales","deDEGrid","mergedLocalizationDatadeDE","elGRGrid","mergedLocalizationDataelGR","esESGrid","mergedLocalizationDataesES","frFRGrid","mergedLocalizationDatafrFR","itITGrid","mergedLocalizationDataitIT","trTRGrid","mergedLocalizationDatatrTR","ptPT","count","visibleCount","totalCount","enUSGrid","mergedLocalizationDataenUS","dayjs","utc","timezone","StateContext","RouterContext","StateProvider","initialApiEndpoints","stateData","useReducer","apiEndpoints","useRef","setApiEndpoint","endpoint","getApiEndpoint","buildUrl","systemDateTimeFormat","isDateFormatOnly","showOnlyDate","userData","userDateFormat","formatDate","useSystemFormat","timeZone","format","useLocalization","currentLocaleData","localeData","getLocalizedString","RouterProvider","useRouter","useStateContext","context","HelpModal","height","setHeight","loading","setLoading","openModal","ratio","zoom","updateHeight","widthPercentage","calculatedHeight","maxHeight","resetIframe","iframe","Grid","Replay","Close","PageTitle","titleHeading","navigate","RightComponent","mobileRightComponent","titleClass","showBreadcrumbs","breadcrumbs","enableBackButton","breadcrumbColor","showHelpButton","isMobile","breadcrumbsLasIndex","needToShowBreadcrumbs","handleBack","Card","CardContent","Breadcrumbs","breadcrumb","index","MuiLink","IconButton","HelpIcon","PageTitle$1","withTranslation","utils","getPermissions","userDefinedPermissions","permissions","userPermissions","utcPlugin","componentMap","DatePicker","DateTimePicker","DATEPICKER_MARGIN_TOP","DATEPICKER_MARGIN_BOTTOM","LocalizedDatePicker","fixedFilterFormat","applyValue","convert","columnType","filterFormat","isValidDate","date","parsedDate","handleFilterChange","newValue","getMonthAbbreviation","parts","ComponentToRender","Dateformatvalue","LocalizationProvider","AdapterDayjs","localizedDateFormat","colProps","getGridDateOperators","GridOperators","CustomDropdownMenu","lookupData","options","label","useGridSelector","gridFilterModelSelector","currentFieldFilters","useMemo","useCallback","inputValue","element","newitem","FormControl","Select","option","MenuItem","actionTypes","DIALOG_TYPES","GridActionsCellItem","Tooltip","EditIcon","DeleteIcon","initialValues","paginationModel","pageSizeOptions","GridPreferences","gridRef","preferenceKey","onPreferenceChange","t","preferenceApi","useGridApiRef","snackbar","dialogState","setDialogState","menuAnchorEl","setMenuAnchorEl","openPreferenceExistsModal","setOpenPreferenceExistsModal","openConfirmDeleteDialog","setOpenConfirmDeleteDialog","preferences","setPreferences","currentPreference","setCurrentPreference","nonDefaultPreferences","pref","validationSchema","yup","handleOpen","handleDialogClose","resetToDefault","loadPreferences","applyDefault","defaultPref","applyPreference","prefId","preferencesArray","prefsToSearch","preference","ele","gridState","savePreference","prefName","caseInsensitivePrefName","deletePreference","onCellClick","cellParams","formik","openDialog","useFormik","isManageDialog","isFormDialog","SettingsIcon","Menu","List","ListItemButton","ListItemIcon","AddIcon","RefreshIcon","prefDesc","ListItem","ListItemText","FormControlLabel","Checkbox","Stack","SaveIcon","CloseIcon","DataGridPremium","row","convertDefaultSort","defaultSort","constants","sortRegex","sortField","sortInfo","direction","ExportMenuItem","handleExport","isPivotExport","icon","CustomExportButton","exportFormats","GridToolbarExportContainer","GridOn","TableChart","Code","Language","DataObjectIcon","getDefaultOperator","customOperator","areEqual","prevProps","nextProps","equal","o","ToolbarFilter","setFilterModel","existingFilter","filterValue","prevFilterModel","currentItems","newItems","newFilter","otherFilters","getOperatorLabel","baseLabel","operatorLabel","booleanSelectValue","InputLabel","val","normalizedOptions","isMultiple","DateComponent","ButtonWithMargin","styled","GridToolBar","Toolbar","CustomToolbar","isReadOnly","canAdd","forAssignment","showAddIcon","onAdd","selectionApi","rowSelectionModel","selectAll","available","onAssign","assigned","onUnassign","effectivePermissions","clearFilters","toolbarItems","addText","activeFilterCount","toolbarFilterColumns","col","records","RemoveIcon","ColumnsPanelTrigger","triggerProps","ViewColumnIcon","FilterPanelTrigger","Badge","FilterListIcon","FilterListOffIcon","defaultPageSize","recordCounts","iconMapper","ArticleIcon","CopyIcon","HistoryIcon","FileDownloadIcon","auditColumnMappings","booleanIconRenderer","CheckIcon","DeleteContentText","CustomCheckBox","handleSelectRow","idProperty","useGridApiContext","rowId","isChecked","gridRowSelectionStateSelector","GridBase","memo","parent","showPageTitle","selected","disableCellRedirect","onAssignChange","customStyle","showRowsSelected","customFilters","onRowDoubleClick","onRowClick","gridStyle","reRenderKey","additionalFilters","onCellDoubleClickOverride","onAddOverride","dynamicColumns","readOnly","onListParamsChange","propsApiRef","setPaginationModel","rowsSelected","setRowSelectionModel","isDeleting","setIsDeleting","setRecord","visibilityModel","showAddConfirmation","setShowAddConfirmation","paginationMode","setErrorMessage","setSortModel","initialFilterModel","getParams","useParams","pathname","idWithOptions","showHeaderFilters","disableRowSelectionOnClick","hideTopFilters","updatePageTitle","isElasticScreen","navigateBack","debounceTimeOut","isDoubleClicked","dataRef","toLink","link","emptyIsAnyOfOperatorFilters","documentField","canEdit","canDelete","addUrlParamKey","searchParamKey","hideBreadcrumb","tableName","showHistory","hideBreadcrumbInGrid","disablePivoting","columnHeaderHeight","gridTitle","preferencesReady","setPreferencesReady","backendApi","rowPanelId","setRowPanelId","detailPanelExpandedRowIds","enableRowDetailPanel","preferenceName","baseDataFromParams","baseSaveData","parsedData","prevModel","newIds","gridColumnTypes","items","acc","lookupOptions","lookupMapParam","createAction","color","disabled","otherProps","customActions","actionConfig","actions","show","getActions","pinnedColumns","lookupMap","baseColumnList","GRID_CHECKBOX_SELECTION_COL_DEF","finalColumns","updatedColumnType","overrides","operators","getGridStringOperators","op","getGridBooleanOperators","headerName","auditColumns","header","hasInitializedRef","toolbarFilters","prev","fetchData","baseUrl","filters","finalBaseFilters","listParams","openForm","mode","path","handleDownload","documentLink","onCellClickHandler","details","el","prevId","foundCustomAction","ca","historyObject","handleDelete","clearError","processRowUpdate","updatedRow","onCellDoubleClick","handleAddRecords","selectedIds","recordMap","selectedRecords","err","updateAssignment","unassign","assign","assignedValues","finalValues","allIds","getGridRowId","orderedFields","columnVisibilityModel","hiddenColumns","nonExportColumns","visibleColumns","updateFilters","updatedItems","isNumber","updateSort","isKeywordField","obj","pageTitle","breadCrumbs","handleDetailPanelExpanded","ids","getDetailPanelContent","localeText","from","to","slotProps","slots","Field","checked","isDisabled","FormHelperText","theme","useTheme","rows","useDebounce","delay","debouncedValue","setDebouncedValue","timer","resolveValue","inputComponentMap","OutlinedInput","FilledInput","Input","NumberFieldAdornment","InputAdornment","BaseNumberField","KeyboardArrowUpIcon","KeyboardArrowDownIcon","min","max","resolvedMin","resolvedMax","formikFieldValue","setInputValue","handleValueChange","handleBlur","inputId","useId","InputComponent","baseProps","inputProps","showPassword","setShowPassword","handleClickShowPassword","handleMouseDownPassword","VisibilityOffIcon","VisibilityIcon","StringField","fieldConfigs","createElement","isoString","TimePicker","emptyValues","useCascadingLookup","isAutoComplete","userSelected","setOptions","dependencyValues","toReturn","dependency","dep","initialOptions","SelectField","placeHolder","isDefaultOption","DivSpacing","TransferField","setFieldValue","Component","orientation","isError","RadioGroup","Radio","consts","filteredCombos","handleAutoCompleteChange","_","toSave","Autocomplete","brandBackgroundColor","days","CustomAvator","Avatar","isSelected","grey","DayAvatar","day","onClick","DaySelection","expired","isWeekend","isWeekdays","defaultVal","selectedDays","setSelectedDays","radioValue","setRadioValue","presetSelected","setPresetSelected","finalValue","baseValue","isAdd","fixedOptions","lastElement","tagValue","getTagProps","tagProps","Chip","buildTree","tree","treeCheckBox","SimpleTreeView","node","TreeItem","child","errorMapping","MB","FileUpload","maxSize","formats","uploadApi","mediaApi","Url","formState","setFormState","associationId","handleRadioChange","isExternal","handleInputChange","handleFileChange","selectedFile","handleFileUpload","fileUrl","statusCode","host","isLengthExceeded","colorScheme","CircularProgress","setState","debouncedState","inputJSON","nextValue","updatedState","fieldMappers","BooleanField","NumberField","PasswordField","DateField","DateTimeField","TimeField","GridTransfer","RadioField","AutocompleteField","ChipInput","TreeCheckbox","JSONInput","gridContainerStyle","ImportantSpan","RenderSteps","tabColumns","onChange","combos","handleSubmit","skipped","setSkipped","activeStep","setActiveStep","ActiveStepContext","skipSteps","len","skip","isStepSkipped","step","isLastStep","nextStep","handleNext","prevSkipped","prevStep","currentStep","Stepper","Step","StepLabel","RenderColumns","formElements","isGridComponent","getFormConfig","tabs","tab","fieldType","tabsData","tabColumn","FormLayout","displayId","showTabs","CustomTabPanel","other","a11yProps","ChildGrid","relation","models","modelConfigOfChildGrid","ChildModel","UiModel","Relations","relations","relationFilters","tabIndex","setTabIndex","Tabs","idx","Tab","defaultFieldConfigs","Form","Layout","sx","beforeSubmit","deletePromptText","detailPanelId","onSaveSuccess","formTitle","isLoading","setIsLoading","setLookups","setValidationSchema","isDiscardDialogOpen","setIsDiscardDialogOpen","deleteError","setDeleteError","gridApi","recordEditable","handleNavigation","navigatePath","isNew","formApi","errorOnLoad","resetForm","success","handleDiscardChanges","isCopy","linkColumn","handleFormCancel","errors","fieldName","fieldConfig","showRelations","showSaveButton","readOnlyRelations","Paper","regexConfig","defaultValueConfigs","modelConfig","module","validationConfig","requiredIfNew","required","validate","formLabel","originalValue","minlength","maxlength","regex","compareValidator","compareFieldName","compareField","f","Divider"],"mappings":"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"}